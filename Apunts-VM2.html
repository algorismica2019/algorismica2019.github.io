<!DOCTYPE html>

<html class="remark-container gr__remarkjs_com"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css" title="remark">html.remark-container,body.remark-container{height:100%;width:100%;-webkit-print-color-adjust:exact}.remark-container{background:#d7d8d2;margin:0;overflow:hidden}.remark-container:focus{outline-style:solid;outline-width:1px}.remark-container:-webkit-full-screen{width:100%;height:100%}body:-webkit-full-screen{background:#000000}body:-moz-full-screen{background:#000000}body:fullscreen{background:#000000}.remark-slides-area{position:relative;height:100%;width:100%}.remark-slide-container{display:none;position:absolute;height:100%;width:100%;page-break-after:always}.remark-slide-scaler{background-color:transparent;overflow:hidden;position:absolute;-webkit-transform-origin:top left;-moz-transform-origin:top left;transform-origin:top-left;-moz-box-shadow:0 0 30px #888;-webkit-box-shadow:0 0 30px #888;box-shadow:0 0 30px #888}.remark-slide{height:100%;width:100%;display:table;table-layout:fixed}.remark-slide>.left{text-align:left}.remark-slide>.center{text-align:center}.remark-slide>.right{text-align:right}.remark-slide>.top{vertical-align:top}.remark-slide>.middle{vertical-align:middle}.remark-slide>.bottom{vertical-align:bottom}.remark-slide-content{background-color:#fff;background-position:center;background-repeat:no-repeat;display:table-cell;font-size:20px;padding:1em 4em 1em 4em}.remark-slide-content h1{font-size:55px}.remark-slide-content h2{font-size:45px}.remark-slide-content h3{font-size:35px}.remark-slide-content .left{display:block;text-align:left}.remark-slide-content .center{display:block;text-align:center}.remark-slide-content .right{display:block;text-align:right}.remark-slide-number{bottom:12px;opacity:.5;position:absolute;right:20px}.remark-slide-notes{border-top:3px solid black;position:absolute;display:none}.remark-code{font-size:18px}.remark-code-line{min-height:1em}.remark-code-line-highlighted{background-color:rgba(255,255,0,0.5)}.remark-code-span-highlighted{background-color:rgba(255,255,0,0.5);padding:1px 2px 2px 2px}.remark-visible{display:block;z-index:2}.remark-fading{display:block;z-index:1}.remark-fading .remark-slide-scaler{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none}.remark-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;display:none;background:#000;z-index:2}.remark-pause{bottom:0;top:0;right:0;left:0;display:none;position:absolute;z-index:1000}.remark-pause .remark-pause-lozenge{margin-top:30%;text-align:center}.remark-pause .remark-pause-lozenge span{color:white;background:black;border:2px solid black;border-radius:20px;padding:20px 30px;font-family:Helvetica,arial,freesans,clean,sans-serif;font-size:42pt;font-weight:bold}.remark-container.remark-presenter-mode.remark-pause-mode .remark-pause{display:block}.remark-container.remark-presenter-mode.remark-pause-mode .remark-backdrop{display:block;opacity:.5}.remark-help{bottom:0;top:0;right:0;left:0;display:none;position:absolute;z-index:1000;-webkit-transform-origin:top left;-moz-transform-origin:top left;transform-origin:top-left}.remark-help .remark-help-content{color:white;font-family:Helvetica,arial,freesans,clean,sans-serif;font-size:12pt;position:absolute;top:5%;bottom:10%;height:10%;left:5%;width:90%}.remark-help .remark-help-content h1{font-size:36px}.remark-help .remark-help-content td{color:white;font-size:12pt;padding:10px}.remark-help .remark-help-content td:first-child{padding-left:0}.remark-help .remark-help-content .key{background:white;color:black;min-width:1em;display:inline-block;padding:3px 6px;text-align:center;border-radius:4px;font-size:14px}.remark-help .dismiss{top:85%}.remark-container.remark-help-mode .remark-help{display:block}.remark-container.remark-help-mode .remark-backdrop{display:block;opacity:.95}.remark-preview-area{bottom:2%;left:2%;display:none;opacity:.5;position:absolute;height:47.25%;width:48%}.remark-preview-area .remark-slide-container{display:block}.remark-notes-area{background:#fff;bottom:0;color:black;display:none;left:52%;overflow:hidden;position:absolute;right:0;top:0}.remark-notes-area .remark-top-area{height:50px;left:20px;position:absolute;right:10px;top:10px}.remark-notes-area .remark-bottom-area{position:absolute;top:75px;bottom:10px;left:20px;right:10px}.remark-notes-area .remark-bottom-area .remark-toggle{display:block;text-decoration:none;font-family:Helvetica,arial,freesans,clean,sans-serif;height:21px;font-size:.75em;text-transform:uppercase;color:#ccc}.remark-notes-area .remark-bottom-area .remark-notes-current-area{height:70%;position:relative}.remark-notes-area .remark-bottom-area .remark-notes-current-area .remark-notes{clear:both;border-top:1px solid #f5f5f5;position:absolute;top:22px;bottom:0;left:0;right:0;overflow-y:auto;margin-bottom:20px;padding-top:10px}.remark-notes-area .remark-bottom-area .remark-notes-preview-area{height:30%;position:relative}.remark-notes-area .remark-bottom-area .remark-notes-preview-area .remark-notes-preview{border-top:1px solid #f5f5f5;position:absolute;top:22px;bottom:0;left:0;right:0;overflow-y:auto}.remark-notes-area .remark-bottom-area .remark-notes>*:first-child,.remark-notes-area .remark-bottom-area .remark-notes-preview>*:first-child{margin-top:5px}.remark-notes-area .remark-bottom-area .remark-notes>*:last-child,.remark-notes-area .remark-bottom-area .remark-notes-preview>*:last-child{margin-bottom:0}.remark-toolbar{color:#979892;vertical-align:middle}.remark-toolbar .remark-toolbar-link{border:2px solid #d7d8d2;color:#979892;display:inline-block;padding:2px 2px;text-decoration:none;text-align:center;min-width:20px}.remark-toolbar .remark-toolbar-link:hover{border-color:#979892;color:#676862}.remark-toolbar .remark-toolbar-timer{border:2px solid black;border-radius:10px;background:black;color:white;display:inline-block;float:right;padding:5px 10px;font-family:sans-serif;font-weight:bold;font-size:175%;text-decoration:none;text-align:center}.remark-container.remark-presenter-mode .remark-slides-area{top:2%;left:2%;height:47.25%;width:48%}.remark-container.remark-presenter-mode .remark-preview-area{display:block}.remark-container.remark-presenter-mode .remark-notes-area{display:block}.remark-container.remark-blackout-mode:not(.remark-presenter-mode) .remark-backdrop{display:block;opacity:.99}.remark-container.remark-mirrored-mode:not(.remark-presenter-mode) .remark-slides-area{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);-o-transform:scaleX(-1)}@media print{.remark-container{overflow:visible;background-color:#fff}.remark-container.remark-presenter-mode .remark-slides-area{top:0;left:0;height:100%;width:681px}.remark-container.remark-presenter-mode .remark-preview-area,.remark-container.remark-presenter-mode .remark-notes-area{display:none}.remark-container.remark-presenter-mode .remark-slide-notes{display:block;margin-left:30px;width:621px}.remark-slide-container{display:block;position:relative}.remark-slide-scaler{-moz-box-shadow:none;-webkit-box-shadow:none;-webkit-transform-origin:initial;box-shadow:none}}@page{margin:0}.hljs-agate{/*! * Agate by Taufik Nurrohman <https://github.com/tovic> * ---------------------------------------------------- * * #ade5fc * #a2fca2 * #c6b4f0 * #d36363 * #fcc28c * #fc9b9b * #ffa * #fff * #333 * #62c8f3 * #888 * */}.hljs-agate .hljs{display:block;overflow-x:auto;padding:.5em;background:#333;color:white}.hljs-agate .hljs-name,.hljs-agate .hljs-strong{font-weight:bold}.hljs-agate .hljs-code,.hljs-agate .hljs-emphasis{font-style:italic}.hljs-agate .hljs-tag{color:#62c8f3}.hljs-agate .hljs-variable,.hljs-agate .hljs-template-variable,.hljs-agate .hljs-selector-id,.hljs-agate .hljs-selector-class{color:#ade5fc}.hljs-agate .hljs-string,.hljs-agate .hljs-bullet{color:#a2fca2}.hljs-agate .hljs-type,.hljs-agate .hljs-title,.hljs-agate .hljs-section,.hljs-agate .hljs-attribute,.hljs-agate .hljs-quote,.hljs-agate .hljs-built_in,.hljs-agate .hljs-builtin-name{color:#ffa}.hljs-agate .hljs-number,.hljs-agate .hljs-symbol,.hljs-agate .hljs-bullet{color:#d36363}.hljs-agate .hljs-keyword,.hljs-agate .hljs-selector-tag,.hljs-agate .hljs-literal{color:#fcc28c}.hljs-agate .hljs-comment,.hljs-agate .hljs-deletion,.hljs-agate .hljs-code{color:#888}.hljs-agate .hljs-regexp,.hljs-agate .hljs-link{color:#c6b4f0}.hljs-agate .hljs-meta{color:#fc9b9b}.hljs-agate .hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-agate .hljs-addition{background-color:#a2fca2;color:#333}.hljs-agate .hljs a{color:inherit}.hljs-agate .hljs a:focus,.hljs-agate .hljs a:hover{color:inherit;text-decoration:underline}.hljs-androidstudio .hljs{color:#a9b7c6;background:#282b2e;display:block;overflow-x:auto;padding:.5em}.hljs-androidstudio .hljs-number,.hljs-androidstudio .hljs-literal,.hljs-androidstudio .hljs-symbol,.hljs-androidstudio .hljs-bullet{color:#6897BB}.hljs-androidstudio .hljs-keyword,.hljs-androidstudio .hljs-selector-tag,.hljs-androidstudio .hljs-deletion{color:#cc7832}.hljs-androidstudio .hljs-variable,.hljs-androidstudio .hljs-template-variable,.hljs-androidstudio .hljs-link{color:#629755}.hljs-androidstudio .hljs-comment,.hljs-androidstudio .hljs-quote{color:#808080}.hljs-androidstudio .hljs-meta{color:#bbb529}.hljs-androidstudio .hljs-string,.hljs-androidstudio .hljs-attribute,.hljs-androidstudio .hljs-addition{color:#6A8759}.hljs-androidstudio .hljs-section,.hljs-androidstudio .hljs-title,.hljs-androidstudio .hljs-type{color:#ffc66d}.hljs-androidstudio .hljs-name,.hljs-androidstudio .hljs-selector-id,.hljs-androidstudio .hljs-selector-class{color:#e8bf6a}.hljs-androidstudio .hljs-emphasis{font-style:italic}.hljs-androidstudio .hljs-strong{font-weight:bold}.hljs-arduino-light .hljs{display:block;overflow-x:auto;padding:.5em;background:#FFFFFF}.hljs-arduino-light .hljs,.hljs-arduino-light .hljs-subst{color:#434f54}.hljs-arduino-light .hljs-keyword,.hljs-arduino-light .hljs-attribute,.hljs-arduino-light .hljs-selector-tag,.hljs-arduino-light .hljs-doctag,.hljs-arduino-light .hljs-name{color:#00979D}.hljs-arduino-light .hljs-built_in,.hljs-arduino-light .hljs-literal,.hljs-arduino-light .hljs-bullet,.hljs-arduino-light .hljs-code,.hljs-arduino-light .hljs-addition{color:#D35400}.hljs-arduino-light .hljs-regexp,.hljs-arduino-light .hljs-symbol,.hljs-arduino-light .hljs-variable,.hljs-arduino-light .hljs-template-variable,.hljs-arduino-light .hljs-link,.hljs-arduino-light .hljs-selector-attr,.hljs-arduino-light .hljs-selector-pseudo{color:#00979D}.hljs-arduino-light .hljs-type,.hljs-arduino-light .hljs-string,.hljs-arduino-light .hljs-selector-id,.hljs-arduino-light .hljs-selector-class,.hljs-arduino-light .hljs-quote,.hljs-arduino-light .hljs-template-tag,.hljs-arduino-light .hljs-deletion{color:#005C5F}.hljs-arduino-light .hljs-title,.hljs-arduino-light .hljs-section{color:#880000;font-weight:bold}.hljs-arduino-light .hljs-comment{color:rgba(149,165,166,0.8)}.hljs-arduino-light .hljs-meta-keyword{color:#728E00}.hljs-arduino-light .hljs-meta{color:#728E00;color:#434f54}.hljs-arduino-light .hljs-emphasis{font-style:italic}.hljs-arduino-light .hljs-strong{font-weight:bold}.hljs-arduino-light .hljs-function{color:#728E00}.hljs-arduino-light .hljs-number{color:#8A7B52}.hljs-arta .hljs{display:block;overflow-x:auto;padding:.5em;background:#222}.hljs-arta .hljs,.hljs-arta .hljs-subst{color:#aaa}.hljs-arta .hljs-section{color:#fff}.hljs-arta .hljs-comment,.hljs-arta .hljs-quote,.hljs-arta .hljs-meta{color:#444}.hljs-arta .hljs-string,.hljs-arta .hljs-symbol,.hljs-arta .hljs-bullet,.hljs-arta .hljs-regexp{color:#ffcc33}.hljs-arta .hljs-number,.hljs-arta .hljs-addition{color:#00cc66}.hljs-arta .hljs-built_in,.hljs-arta .hljs-builtin-name,.hljs-arta .hljs-literal,.hljs-arta .hljs-type,.hljs-arta .hljs-template-variable,.hljs-arta .hljs-attribute,.hljs-arta .hljs-link{color:#32aaee}.hljs-arta .hljs-keyword,.hljs-arta .hljs-selector-tag,.hljs-arta .hljs-name,.hljs-arta .hljs-selector-id,.hljs-arta .hljs-selector-class{color:#6644aa}.hljs-arta .hljs-title,.hljs-arta .hljs-variable,.hljs-arta .hljs-deletion,.hljs-arta .hljs-template-tag{color:#bb1166}.hljs-arta .hljs-section,.hljs-arta .hljs-doctag,.hljs-arta .hljs-strong{font-weight:bold}.hljs-arta .hljs-emphasis{font-style:italic}.hljs-ascetic .hljs{display:block;overflow-x:auto;padding:.5em;background:white;color:black}.hljs-ascetic .hljs-string,.hljs-ascetic .hljs-variable,.hljs-ascetic .hljs-template-variable,.hljs-ascetic .hljs-symbol,.hljs-ascetic .hljs-bullet,.hljs-ascetic .hljs-section,.hljs-ascetic .hljs-addition,.hljs-ascetic .hljs-attribute,.hljs-ascetic .hljs-link{color:#888}.hljs-ascetic .hljs-comment,.hljs-ascetic .hljs-quote,.hljs-ascetic .hljs-meta,.hljs-ascetic .hljs-deletion{color:#ccc}.hljs-ascetic .hljs-keyword,.hljs-ascetic .hljs-selector-tag,.hljs-ascetic .hljs-section,.hljs-ascetic .hljs-name,.hljs-ascetic .hljs-type,.hljs-ascetic .hljs-strong{font-weight:bold}.hljs-ascetic .hljs-emphasis{font-style:italic}.hljs-atelier-cave-dark .hljs-comment,.hljs-atelier-cave-dark .hljs-quote{color:#7e7887}.hljs-atelier-cave-dark .hljs-variable,.hljs-atelier-cave-dark .hljs-template-variable,.hljs-atelier-cave-dark .hljs-attribute,.hljs-atelier-cave-dark .hljs-regexp,.hljs-atelier-cave-dark .hljs-link,.hljs-atelier-cave-dark .hljs-tag,.hljs-atelier-cave-dark .hljs-name,.hljs-atelier-cave-dark .hljs-selector-id,.hljs-atelier-cave-dark .hljs-selector-class{color:#be4678}.hljs-atelier-cave-dark .hljs-number,.hljs-atelier-cave-dark .hljs-meta,.hljs-atelier-cave-dark .hljs-built_in,.hljs-atelier-cave-dark .hljs-builtin-name,.hljs-atelier-cave-dark .hljs-literal,.hljs-atelier-cave-dark .hljs-type,.hljs-atelier-cave-dark .hljs-params{color:#aa573c}.hljs-atelier-cave-dark .hljs-string,.hljs-atelier-cave-dark .hljs-symbol,.hljs-atelier-cave-dark .hljs-bullet{color:#2a9292}.hljs-atelier-cave-dark .hljs-title,.hljs-atelier-cave-dark .hljs-section{color:#576ddb}.hljs-atelier-cave-dark .hljs-keyword,.hljs-atelier-cave-dark .hljs-selector-tag{color:#955ae7}.hljs-atelier-cave-dark .hljs-deletion,.hljs-atelier-cave-dark .hljs-addition{color:#19171c;display:inline-block;width:100%}.hljs-atelier-cave-dark .hljs-deletion{background-color:#be4678}.hljs-atelier-cave-dark .hljs-addition{background-color:#2a9292}.hljs-atelier-cave-dark .hljs{display:block;overflow-x:auto;background:#19171c;color:#8b8792;padding:.5em}.hljs-atelier-cave-dark .hljs-emphasis{font-style:italic}.hljs-atelier-cave-dark .hljs-strong{font-weight:bold}.hljs-atelier-cave-light .hljs-comment,.hljs-atelier-cave-light .hljs-quote{color:#655f6d}.hljs-atelier-cave-light .hljs-variable,.hljs-atelier-cave-light .hljs-template-variable,.hljs-atelier-cave-light .hljs-attribute,.hljs-atelier-cave-light .hljs-tag,.hljs-atelier-cave-light .hljs-name,.hljs-atelier-cave-light .hljs-regexp,.hljs-atelier-cave-light .hljs-link,.hljs-atelier-cave-light .hljs-name,.hljs-atelier-cave-light .hljs-name,.hljs-atelier-cave-light .hljs-selector-id,.hljs-atelier-cave-light .hljs-selector-class{color:#be4678}.hljs-atelier-cave-light .hljs-number,.hljs-atelier-cave-light .hljs-meta,.hljs-atelier-cave-light .hljs-built_in,.hljs-atelier-cave-light .hljs-builtin-name,.hljs-atelier-cave-light .hljs-literal,.hljs-atelier-cave-light .hljs-type,.hljs-atelier-cave-light .hljs-params{color:#aa573c}.hljs-atelier-cave-light .hljs-string,.hljs-atelier-cave-light .hljs-symbol,.hljs-atelier-cave-light .hljs-bullet{color:#2a9292}.hljs-atelier-cave-light .hljs-title,.hljs-atelier-cave-light .hljs-section{color:#576ddb}.hljs-atelier-cave-light .hljs-keyword,.hljs-atelier-cave-light .hljs-selector-tag{color:#955ae7}.hljs-atelier-cave-light .hljs-deletion,.hljs-atelier-cave-light .hljs-addition{color:#19171c;display:inline-block;width:100%}.hljs-atelier-cave-light .hljs-deletion{background-color:#be4678}.hljs-atelier-cave-light .hljs-addition{background-color:#2a9292}.hljs-atelier-cave-light .hljs{display:block;overflow-x:auto;background:#efecf4;color:#585260;padding:.5em}.hljs-atelier-cave-light .hljs-emphasis{font-style:italic}.hljs-atelier-cave-light .hljs-strong{font-weight:bold}.hljs-atelier-dune-dark .hljs-comment,.hljs-atelier-dune-dark .hljs-quote{color:#999580}.hljs-atelier-dune-dark .hljs-variable,.hljs-atelier-dune-dark .hljs-template-variable,.hljs-atelier-dune-dark .hljs-attribute,.hljs-atelier-dune-dark .hljs-tag,.hljs-atelier-dune-dark .hljs-name,.hljs-atelier-dune-dark .hljs-regexp,.hljs-atelier-dune-dark .hljs-link,.hljs-atelier-dune-dark .hljs-name,.hljs-atelier-dune-dark .hljs-selector-id,.hljs-atelier-dune-dark .hljs-selector-class{color:#d73737}.hljs-atelier-dune-dark .hljs-number,.hljs-atelier-dune-dark .hljs-meta,.hljs-atelier-dune-dark .hljs-built_in,.hljs-atelier-dune-dark .hljs-builtin-name,.hljs-atelier-dune-dark .hljs-literal,.hljs-atelier-dune-dark .hljs-type,.hljs-atelier-dune-dark .hljs-params{color:#b65611}.hljs-atelier-dune-dark .hljs-string,.hljs-atelier-dune-dark .hljs-symbol,.hljs-atelier-dune-dark .hljs-bullet{color:#60ac39}.hljs-atelier-dune-dark .hljs-title,.hljs-atelier-dune-dark .hljs-section{color:#6684e1}.hljs-atelier-dune-dark .hljs-keyword,.hljs-atelier-dune-dark .hljs-selector-tag{color:#b854d4}.hljs-atelier-dune-dark .hljs{display:block;overflow-x:auto;background:#20201d;color:#a6a28c;padding:.5em}.hljs-atelier-dune-dark .hljs-emphasis{font-style:italic}.hljs-atelier-dune-dark .hljs-strong{font-weight:bold}.hljs-atelier-dune-light .hljs-comment,.hljs-atelier-dune-light .hljs-quote{color:#7d7a68}.hljs-atelier-dune-light .hljs-variable,.hljs-atelier-dune-light .hljs-template-variable,.hljs-atelier-dune-light .hljs-attribute,.hljs-atelier-dune-light .hljs-tag,.hljs-atelier-dune-light .hljs-name,.hljs-atelier-dune-light .hljs-regexp,.hljs-atelier-dune-light .hljs-link,.hljs-atelier-dune-light .hljs-name,.hljs-atelier-dune-light .hljs-selector-id,.hljs-atelier-dune-light .hljs-selector-class{color:#d73737}.hljs-atelier-dune-light .hljs-number,.hljs-atelier-dune-light .hljs-meta,.hljs-atelier-dune-light .hljs-built_in,.hljs-atelier-dune-light .hljs-builtin-name,.hljs-atelier-dune-light .hljs-literal,.hljs-atelier-dune-light .hljs-type,.hljs-atelier-dune-light .hljs-params{color:#b65611}.hljs-atelier-dune-light .hljs-string,.hljs-atelier-dune-light .hljs-symbol,.hljs-atelier-dune-light .hljs-bullet{color:#60ac39}.hljs-atelier-dune-light .hljs-title,.hljs-atelier-dune-light .hljs-section{color:#6684e1}.hljs-atelier-dune-light .hljs-keyword,.hljs-atelier-dune-light .hljs-selector-tag{color:#b854d4}.hljs-atelier-dune-light .hljs{display:block;overflow-x:auto;background:#fefbec;color:#6e6b5e;padding:.5em}.hljs-atelier-dune-light .hljs-emphasis{font-style:italic}.hljs-atelier-dune-light .hljs-strong{font-weight:bold}.hljs-atelier-estuary-dark .hljs-comment,.hljs-atelier-estuary-dark .hljs-quote{color:#878573}.hljs-atelier-estuary-dark .hljs-variable,.hljs-atelier-estuary-dark .hljs-template-variable,.hljs-atelier-estuary-dark .hljs-attribute,.hljs-atelier-estuary-dark .hljs-tag,.hljs-atelier-estuary-dark .hljs-name,.hljs-atelier-estuary-dark .hljs-regexp,.hljs-atelier-estuary-dark .hljs-link,.hljs-atelier-estuary-dark .hljs-name,.hljs-atelier-estuary-dark .hljs-selector-id,.hljs-atelier-estuary-dark .hljs-selector-class{color:#ba6236}.hljs-atelier-estuary-dark .hljs-number,.hljs-atelier-estuary-dark .hljs-meta,.hljs-atelier-estuary-dark .hljs-built_in,.hljs-atelier-estuary-dark .hljs-builtin-name,.hljs-atelier-estuary-dark .hljs-literal,.hljs-atelier-estuary-dark .hljs-type,.hljs-atelier-estuary-dark .hljs-params{color:#ae7313}.hljs-atelier-estuary-dark .hljs-string,.hljs-atelier-estuary-dark .hljs-symbol,.hljs-atelier-estuary-dark .hljs-bullet{color:#7d9726}.hljs-atelier-estuary-dark .hljs-title,.hljs-atelier-estuary-dark .hljs-section{color:#36a166}.hljs-atelier-estuary-dark .hljs-keyword,.hljs-atelier-estuary-dark .hljs-selector-tag{color:#5f9182}.hljs-atelier-estuary-dark .hljs-deletion,.hljs-atelier-estuary-dark .hljs-addition{color:#22221b;display:inline-block;width:100%}.hljs-atelier-estuary-dark .hljs-deletion{background-color:#ba6236}.hljs-atelier-estuary-dark .hljs-addition{background-color:#7d9726}.hljs-atelier-estuary-dark .hljs{display:block;overflow-x:auto;background:#22221b;color:#929181;padding:.5em}.hljs-atelier-estuary-dark .hljs-emphasis{font-style:italic}.hljs-atelier-estuary-dark .hljs-strong{font-weight:bold}.hljs-atelier-estuary-light .hljs-comment,.hljs-atelier-estuary-light .hljs-quote{color:#6c6b5a}.hljs-atelier-estuary-light .hljs-variable,.hljs-atelier-estuary-light .hljs-template-variable,.hljs-atelier-estuary-light .hljs-attribute,.hljs-atelier-estuary-light .hljs-tag,.hljs-atelier-estuary-light .hljs-name,.hljs-atelier-estuary-light .hljs-regexp,.hljs-atelier-estuary-light .hljs-link,.hljs-atelier-estuary-light .hljs-name,.hljs-atelier-estuary-light .hljs-selector-id,.hljs-atelier-estuary-light .hljs-selector-class{color:#ba6236}.hljs-atelier-estuary-light .hljs-number,.hljs-atelier-estuary-light .hljs-meta,.hljs-atelier-estuary-light .hljs-built_in,.hljs-atelier-estuary-light .hljs-builtin-name,.hljs-atelier-estuary-light .hljs-literal,.hljs-atelier-estuary-light .hljs-type,.hljs-atelier-estuary-light .hljs-params{color:#ae7313}.hljs-atelier-estuary-light .hljs-string,.hljs-atelier-estuary-light .hljs-symbol,.hljs-atelier-estuary-light .hljs-bullet{color:#7d9726}.hljs-atelier-estuary-light .hljs-title,.hljs-atelier-estuary-light .hljs-section{color:#36a166}.hljs-atelier-estuary-light .hljs-keyword,.hljs-atelier-estuary-light .hljs-selector-tag{color:#5f9182}.hljs-atelier-estuary-light .hljs-deletion,.hljs-atelier-estuary-light .hljs-addition{color:#22221b;display:inline-block;width:100%}.hljs-atelier-estuary-light .hljs-deletion{background-color:#ba6236}.hljs-atelier-estuary-light .hljs-addition{background-color:#7d9726}.hljs-atelier-estuary-light .hljs{display:block;overflow-x:auto;background:#f4f3ec;color:#5f5e4e;padding:.5em}.hljs-atelier-estuary-light .hljs-emphasis{font-style:italic}.hljs-atelier-estuary-light .hljs-strong{font-weight:bold}.hljs-atelier-forest-dark .hljs-comment,.hljs-atelier-forest-dark .hljs-quote{color:#9c9491}.hljs-atelier-forest-dark .hljs-variable,.hljs-atelier-forest-dark .hljs-template-variable,.hljs-atelier-forest-dark .hljs-attribute,.hljs-atelier-forest-dark .hljs-tag,.hljs-atelier-forest-dark .hljs-name,.hljs-atelier-forest-dark .hljs-regexp,.hljs-atelier-forest-dark .hljs-link,.hljs-atelier-forest-dark .hljs-name,.hljs-atelier-forest-dark .hljs-selector-id,.hljs-atelier-forest-dark .hljs-selector-class{color:#f22c40}.hljs-atelier-forest-dark .hljs-number,.hljs-atelier-forest-dark .hljs-meta,.hljs-atelier-forest-dark .hljs-built_in,.hljs-atelier-forest-dark .hljs-builtin-name,.hljs-atelier-forest-dark .hljs-literal,.hljs-atelier-forest-dark .hljs-type,.hljs-atelier-forest-dark .hljs-params{color:#df5320}.hljs-atelier-forest-dark .hljs-string,.hljs-atelier-forest-dark .hljs-symbol,.hljs-atelier-forest-dark .hljs-bullet{color:#7b9726}.hljs-atelier-forest-dark .hljs-title,.hljs-atelier-forest-dark .hljs-section{color:#407ee7}.hljs-atelier-forest-dark .hljs-keyword,.hljs-atelier-forest-dark .hljs-selector-tag{color:#6666ea}.hljs-atelier-forest-dark .hljs{display:block;overflow-x:auto;background:#1b1918;color:#a8a19f;padding:.5em}.hljs-atelier-forest-dark .hljs-emphasis{font-style:italic}.hljs-atelier-forest-dark .hljs-strong{font-weight:bold}.hljs-atelier-forest-light .hljs-comment,.hljs-atelier-forest-light .hljs-quote{color:#766e6b}.hljs-atelier-forest-light .hljs-variable,.hljs-atelier-forest-light .hljs-template-variable,.hljs-atelier-forest-light .hljs-attribute,.hljs-atelier-forest-light .hljs-tag,.hljs-atelier-forest-light .hljs-name,.hljs-atelier-forest-light .hljs-regexp,.hljs-atelier-forest-light .hljs-link,.hljs-atelier-forest-light .hljs-name,.hljs-atelier-forest-light .hljs-selector-id,.hljs-atelier-forest-light .hljs-selector-class{color:#f22c40}.hljs-atelier-forest-light .hljs-number,.hljs-atelier-forest-light .hljs-meta,.hljs-atelier-forest-light .hljs-built_in,.hljs-atelier-forest-light .hljs-builtin-name,.hljs-atelier-forest-light .hljs-literal,.hljs-atelier-forest-light .hljs-type,.hljs-atelier-forest-light .hljs-params{color:#df5320}.hljs-atelier-forest-light .hljs-string,.hljs-atelier-forest-light .hljs-symbol,.hljs-atelier-forest-light .hljs-bullet{color:#7b9726}.hljs-atelier-forest-light .hljs-title,.hljs-atelier-forest-light .hljs-section{color:#407ee7}.hljs-atelier-forest-light .hljs-keyword,.hljs-atelier-forest-light .hljs-selector-tag{color:#6666ea}.hljs-atelier-forest-light .hljs{display:block;overflow-x:auto;background:#f1efee;color:#68615e;padding:.5em}.hljs-atelier-forest-light .hljs-emphasis{font-style:italic}.hljs-atelier-forest-light .hljs-strong{font-weight:bold}.hljs-atelier-heath-dark .hljs-comment,.hljs-atelier-heath-dark .hljs-quote{color:#9e8f9e}.hljs-atelier-heath-dark .hljs-variable,.hljs-atelier-heath-dark .hljs-template-variable,.hljs-atelier-heath-dark .hljs-attribute,.hljs-atelier-heath-dark .hljs-tag,.hljs-atelier-heath-dark .hljs-name,.hljs-atelier-heath-dark .hljs-regexp,.hljs-atelier-heath-dark .hljs-link,.hljs-atelier-heath-dark .hljs-name,.hljs-atelier-heath-dark .hljs-selector-id,.hljs-atelier-heath-dark .hljs-selector-class{color:#ca402b}.hljs-atelier-heath-dark .hljs-number,.hljs-atelier-heath-dark .hljs-meta,.hljs-atelier-heath-dark .hljs-built_in,.hljs-atelier-heath-dark .hljs-builtin-name,.hljs-atelier-heath-dark .hljs-literal,.hljs-atelier-heath-dark .hljs-type,.hljs-atelier-heath-dark .hljs-params{color:#a65926}.hljs-atelier-heath-dark .hljs-string,.hljs-atelier-heath-dark .hljs-symbol,.hljs-atelier-heath-dark .hljs-bullet{color:#918b3b}.hljs-atelier-heath-dark .hljs-title,.hljs-atelier-heath-dark .hljs-section{color:#516aec}.hljs-atelier-heath-dark .hljs-keyword,.hljs-atelier-heath-dark .hljs-selector-tag{color:#7b59c0}.hljs-atelier-heath-dark .hljs{display:block;overflow-x:auto;background:#1b181b;color:#ab9bab;padding:.5em}.hljs-atelier-heath-dark .hljs-emphasis{font-style:italic}.hljs-atelier-heath-dark .hljs-strong{font-weight:bold}.hljs-atelier-heath-light .hljs-comment,.hljs-atelier-heath-light .hljs-quote{color:#776977}.hljs-atelier-heath-light .hljs-variable,.hljs-atelier-heath-light .hljs-template-variable,.hljs-atelier-heath-light .hljs-attribute,.hljs-atelier-heath-light .hljs-tag,.hljs-atelier-heath-light .hljs-name,.hljs-atelier-heath-light .hljs-regexp,.hljs-atelier-heath-light .hljs-link,.hljs-atelier-heath-light .hljs-name,.hljs-atelier-heath-light .hljs-selector-id,.hljs-atelier-heath-light .hljs-selector-class{color:#ca402b}.hljs-atelier-heath-light .hljs-number,.hljs-atelier-heath-light .hljs-meta,.hljs-atelier-heath-light .hljs-built_in,.hljs-atelier-heath-light .hljs-builtin-name,.hljs-atelier-heath-light .hljs-literal,.hljs-atelier-heath-light .hljs-type,.hljs-atelier-heath-light .hljs-params{color:#a65926}.hljs-atelier-heath-light .hljs-string,.hljs-atelier-heath-light .hljs-symbol,.hljs-atelier-heath-light .hljs-bullet{color:#918b3b}.hljs-atelier-heath-light .hljs-title,.hljs-atelier-heath-light .hljs-section{color:#516aec}.hljs-atelier-heath-light .hljs-keyword,.hljs-atelier-heath-light .hljs-selector-tag{color:#7b59c0}.hljs-atelier-heath-light .hljs{display:block;overflow-x:auto;background:#f7f3f7;color:#695d69;padding:.5em}.hljs-atelier-heath-light .hljs-emphasis{font-style:italic}.hljs-atelier-heath-light .hljs-strong{font-weight:bold}.hljs-atelier-lakeside-dark .hljs-comment,.hljs-atelier-lakeside-dark .hljs-quote{color:#7195a8}.hljs-atelier-lakeside-dark .hljs-variable,.hljs-atelier-lakeside-dark .hljs-template-variable,.hljs-atelier-lakeside-dark .hljs-attribute,.hljs-atelier-lakeside-dark .hljs-tag,.hljs-atelier-lakeside-dark .hljs-name,.hljs-atelier-lakeside-dark .hljs-regexp,.hljs-atelier-lakeside-dark .hljs-link,.hljs-atelier-lakeside-dark .hljs-name,.hljs-atelier-lakeside-dark .hljs-selector-id,.hljs-atelier-lakeside-dark .hljs-selector-class{color:#d22d72}.hljs-atelier-lakeside-dark .hljs-number,.hljs-atelier-lakeside-dark .hljs-meta,.hljs-atelier-lakeside-dark .hljs-built_in,.hljs-atelier-lakeside-dark .hljs-builtin-name,.hljs-atelier-lakeside-dark .hljs-literal,.hljs-atelier-lakeside-dark .hljs-type,.hljs-atelier-lakeside-dark .hljs-params{color:#935c25}.hljs-atelier-lakeside-dark .hljs-string,.hljs-atelier-lakeside-dark .hljs-symbol,.hljs-atelier-lakeside-dark .hljs-bullet{color:#568c3b}.hljs-atelier-lakeside-dark .hljs-title,.hljs-atelier-lakeside-dark .hljs-section{color:#257fad}.hljs-atelier-lakeside-dark .hljs-keyword,.hljs-atelier-lakeside-dark .hljs-selector-tag{color:#6b6bb8}.hljs-atelier-lakeside-dark .hljs{display:block;overflow-x:auto;background:#161b1d;color:#7ea2b4;padding:.5em}.hljs-atelier-lakeside-dark .hljs-emphasis{font-style:italic}.hljs-atelier-lakeside-dark .hljs-strong{font-weight:bold}.hljs-atelier-lakeside-light .hljs-comment,.hljs-atelier-lakeside-light .hljs-quote{color:#5a7b8c}.hljs-atelier-lakeside-light .hljs-variable,.hljs-atelier-lakeside-light .hljs-template-variable,.hljs-atelier-lakeside-light .hljs-attribute,.hljs-atelier-lakeside-light .hljs-tag,.hljs-atelier-lakeside-light .hljs-name,.hljs-atelier-lakeside-light .hljs-regexp,.hljs-atelier-lakeside-light .hljs-link,.hljs-atelier-lakeside-light .hljs-name,.hljs-atelier-lakeside-light .hljs-selector-id,.hljs-atelier-lakeside-light .hljs-selector-class{color:#d22d72}.hljs-atelier-lakeside-light .hljs-number,.hljs-atelier-lakeside-light .hljs-meta,.hljs-atelier-lakeside-light .hljs-built_in,.hljs-atelier-lakeside-light .hljs-builtin-name,.hljs-atelier-lakeside-light .hljs-literal,.hljs-atelier-lakeside-light .hljs-type,.hljs-atelier-lakeside-light .hljs-params{color:#935c25}.hljs-atelier-lakeside-light .hljs-string,.hljs-atelier-lakeside-light .hljs-symbol,.hljs-atelier-lakeside-light .hljs-bullet{color:#568c3b}.hljs-atelier-lakeside-light .hljs-title,.hljs-atelier-lakeside-light .hljs-section{color:#257fad}.hljs-atelier-lakeside-light .hljs-keyword,.hljs-atelier-lakeside-light .hljs-selector-tag{color:#6b6bb8}.hljs-atelier-lakeside-light .hljs{display:block;overflow-x:auto;background:#ebf8ff;color:#516d7b;padding:.5em}.hljs-atelier-lakeside-light .hljs-emphasis{font-style:italic}.hljs-atelier-lakeside-light .hljs-strong{font-weight:bold}.hljs-atelier-plateau-dark .hljs-comment,.hljs-atelier-plateau-dark .hljs-quote{color:#7e7777}.hljs-atelier-plateau-dark .hljs-variable,.hljs-atelier-plateau-dark .hljs-template-variable,.hljs-atelier-plateau-dark .hljs-attribute,.hljs-atelier-plateau-dark .hljs-tag,.hljs-atelier-plateau-dark .hljs-name,.hljs-atelier-plateau-dark .hljs-regexp,.hljs-atelier-plateau-dark .hljs-link,.hljs-atelier-plateau-dark .hljs-name,.hljs-atelier-plateau-dark .hljs-selector-id,.hljs-atelier-plateau-dark .hljs-selector-class{color:#ca4949}.hljs-atelier-plateau-dark .hljs-number,.hljs-atelier-plateau-dark .hljs-meta,.hljs-atelier-plateau-dark .hljs-built_in,.hljs-atelier-plateau-dark .hljs-builtin-name,.hljs-atelier-plateau-dark .hljs-literal,.hljs-atelier-plateau-dark .hljs-type,.hljs-atelier-plateau-dark .hljs-params{color:#b45a3c}.hljs-atelier-plateau-dark .hljs-string,.hljs-atelier-plateau-dark .hljs-symbol,.hljs-atelier-plateau-dark .hljs-bullet{color:#4b8b8b}.hljs-atelier-plateau-dark .hljs-title,.hljs-atelier-plateau-dark .hljs-section{color:#7272ca}.hljs-atelier-plateau-dark .hljs-keyword,.hljs-atelier-plateau-dark .hljs-selector-tag{color:#8464c4}.hljs-atelier-plateau-dark .hljs-deletion,.hljs-atelier-plateau-dark .hljs-addition{color:#1b1818;display:inline-block;width:100%}.hljs-atelier-plateau-dark .hljs-deletion{background-color:#ca4949}.hljs-atelier-plateau-dark .hljs-addition{background-color:#4b8b8b}.hljs-atelier-plateau-dark .hljs{display:block;overflow-x:auto;background:#1b1818;color:#8a8585;padding:.5em}.hljs-atelier-plateau-dark .hljs-emphasis{font-style:italic}.hljs-atelier-plateau-dark .hljs-strong{font-weight:bold}.hljs-atelier-plateau-light .hljs-comment,.hljs-atelier-plateau-light .hljs-quote{color:#655d5d}.hljs-atelier-plateau-light .hljs-variable,.hljs-atelier-plateau-light .hljs-template-variable,.hljs-atelier-plateau-light .hljs-attribute,.hljs-atelier-plateau-light .hljs-tag,.hljs-atelier-plateau-light .hljs-name,.hljs-atelier-plateau-light .hljs-regexp,.hljs-atelier-plateau-light .hljs-link,.hljs-atelier-plateau-light .hljs-name,.hljs-atelier-plateau-light .hljs-selector-id,.hljs-atelier-plateau-light .hljs-selector-class{color:#ca4949}.hljs-atelier-plateau-light .hljs-number,.hljs-atelier-plateau-light .hljs-meta,.hljs-atelier-plateau-light .hljs-built_in,.hljs-atelier-plateau-light .hljs-builtin-name,.hljs-atelier-plateau-light .hljs-literal,.hljs-atelier-plateau-light .hljs-type,.hljs-atelier-plateau-light .hljs-params{color:#b45a3c}.hljs-atelier-plateau-light .hljs-string,.hljs-atelier-plateau-light .hljs-symbol,.hljs-atelier-plateau-light .hljs-bullet{color:#4b8b8b}.hljs-atelier-plateau-light .hljs-title,.hljs-atelier-plateau-light .hljs-section{color:#7272ca}.hljs-atelier-plateau-light .hljs-keyword,.hljs-atelier-plateau-light .hljs-selector-tag{color:#8464c4}.hljs-atelier-plateau-light .hljs-deletion,.hljs-atelier-plateau-light .hljs-addition{color:#1b1818;display:inline-block;width:100%}.hljs-atelier-plateau-light .hljs-deletion{background-color:#ca4949}.hljs-atelier-plateau-light .hljs-addition{background-color:#4b8b8b}.hljs-atelier-plateau-light .hljs{display:block;overflow-x:auto;background:#f4ecec;color:#585050;padding:.5em}.hljs-atelier-plateau-light .hljs-emphasis{font-style:italic}.hljs-atelier-plateau-light .hljs-strong{font-weight:bold}.hljs-atelier-savanna-dark .hljs-comment,.hljs-atelier-savanna-dark .hljs-quote{color:#78877d}.hljs-atelier-savanna-dark .hljs-variable,.hljs-atelier-savanna-dark .hljs-template-variable,.hljs-atelier-savanna-dark .hljs-attribute,.hljs-atelier-savanna-dark .hljs-tag,.hljs-atelier-savanna-dark .hljs-name,.hljs-atelier-savanna-dark .hljs-regexp,.hljs-atelier-savanna-dark .hljs-link,.hljs-atelier-savanna-dark .hljs-name,.hljs-atelier-savanna-dark .hljs-selector-id,.hljs-atelier-savanna-dark .hljs-selector-class{color:#b16139}.hljs-atelier-savanna-dark .hljs-number,.hljs-atelier-savanna-dark .hljs-meta,.hljs-atelier-savanna-dark .hljs-built_in,.hljs-atelier-savanna-dark .hljs-builtin-name,.hljs-atelier-savanna-dark .hljs-literal,.hljs-atelier-savanna-dark .hljs-type,.hljs-atelier-savanna-dark .hljs-params{color:#9f713c}.hljs-atelier-savanna-dark .hljs-string,.hljs-atelier-savanna-dark .hljs-symbol,.hljs-atelier-savanna-dark .hljs-bullet{color:#489963}.hljs-atelier-savanna-dark .hljs-title,.hljs-atelier-savanna-dark .hljs-section{color:#478c90}.hljs-atelier-savanna-dark .hljs-keyword,.hljs-atelier-savanna-dark .hljs-selector-tag{color:#55859b}.hljs-atelier-savanna-dark .hljs-deletion,.hljs-atelier-savanna-dark .hljs-addition{color:#171c19;display:inline-block;width:100%}.hljs-atelier-savanna-dark .hljs-deletion{background-color:#b16139}.hljs-atelier-savanna-dark .hljs-addition{background-color:#489963}.hljs-atelier-savanna-dark .hljs{display:block;overflow-x:auto;background:#171c19;color:#87928a;padding:.5em}.hljs-atelier-savanna-dark .hljs-emphasis{font-style:italic}.hljs-atelier-savanna-dark .hljs-strong{font-weight:bold}.hljs-atelier-savanna-light .hljs-comment,.hljs-atelier-savanna-light .hljs-quote{color:#5f6d64}.hljs-atelier-savanna-light .hljs-variable,.hljs-atelier-savanna-light .hljs-template-variable,.hljs-atelier-savanna-light .hljs-attribute,.hljs-atelier-savanna-light .hljs-tag,.hljs-atelier-savanna-light .hljs-name,.hljs-atelier-savanna-light .hljs-regexp,.hljs-atelier-savanna-light .hljs-link,.hljs-atelier-savanna-light .hljs-name,.hljs-atelier-savanna-light .hljs-selector-id,.hljs-atelier-savanna-light .hljs-selector-class{color:#b16139}.hljs-atelier-savanna-light .hljs-number,.hljs-atelier-savanna-light .hljs-meta,.hljs-atelier-savanna-light .hljs-built_in,.hljs-atelier-savanna-light .hljs-builtin-name,.hljs-atelier-savanna-light .hljs-literal,.hljs-atelier-savanna-light .hljs-type,.hljs-atelier-savanna-light .hljs-params{color:#9f713c}.hljs-atelier-savanna-light .hljs-string,.hljs-atelier-savanna-light .hljs-symbol,.hljs-atelier-savanna-light .hljs-bullet{color:#489963}.hljs-atelier-savanna-light .hljs-title,.hljs-atelier-savanna-light .hljs-section{color:#478c90}.hljs-atelier-savanna-light .hljs-keyword,.hljs-atelier-savanna-light .hljs-selector-tag{color:#55859b}.hljs-atelier-savanna-light .hljs-deletion,.hljs-atelier-savanna-light .hljs-addition{color:#171c19;display:inline-block;width:100%}.hljs-atelier-savanna-light .hljs-deletion{background-color:#b16139}.hljs-atelier-savanna-light .hljs-addition{background-color:#489963}.hljs-atelier-savanna-light .hljs{display:block;overflow-x:auto;background:#ecf4ee;color:#526057;padding:.5em}.hljs-atelier-savanna-light .hljs-emphasis{font-style:italic}.hljs-atelier-savanna-light .hljs-strong{font-weight:bold}.hljs-atelier-seaside-dark .hljs-comment,.hljs-atelier-seaside-dark .hljs-quote{color:#809980}.hljs-atelier-seaside-dark .hljs-variable,.hljs-atelier-seaside-dark .hljs-template-variable,.hljs-atelier-seaside-dark .hljs-attribute,.hljs-atelier-seaside-dark .hljs-tag,.hljs-atelier-seaside-dark .hljs-name,.hljs-atelier-seaside-dark .hljs-regexp,.hljs-atelier-seaside-dark .hljs-link,.hljs-atelier-seaside-dark .hljs-name,.hljs-atelier-seaside-dark .hljs-selector-id,.hljs-atelier-seaside-dark .hljs-selector-class{color:#e6193c}.hljs-atelier-seaside-dark .hljs-number,.hljs-atelier-seaside-dark .hljs-meta,.hljs-atelier-seaside-dark .hljs-built_in,.hljs-atelier-seaside-dark .hljs-builtin-name,.hljs-atelier-seaside-dark .hljs-literal,.hljs-atelier-seaside-dark .hljs-type,.hljs-atelier-seaside-dark .hljs-params{color:#87711d}.hljs-atelier-seaside-dark .hljs-string,.hljs-atelier-seaside-dark .hljs-symbol,.hljs-atelier-seaside-dark .hljs-bullet{color:#29a329}.hljs-atelier-seaside-dark .hljs-title,.hljs-atelier-seaside-dark .hljs-section{color:#3d62f5}.hljs-atelier-seaside-dark .hljs-keyword,.hljs-atelier-seaside-dark .hljs-selector-tag{color:#ad2bee}.hljs-atelier-seaside-dark .hljs{display:block;overflow-x:auto;background:#131513;color:#8ca68c;padding:.5em}.hljs-atelier-seaside-dark .hljs-emphasis{font-style:italic}.hljs-atelier-seaside-dark .hljs-strong{font-weight:bold}.hljs-atelier-seaside-light .hljs-comment,.hljs-atelier-seaside-light .hljs-quote{color:#687d68}.hljs-atelier-seaside-light .hljs-variable,.hljs-atelier-seaside-light .hljs-template-variable,.hljs-atelier-seaside-light .hljs-attribute,.hljs-atelier-seaside-light .hljs-tag,.hljs-atelier-seaside-light .hljs-name,.hljs-atelier-seaside-light .hljs-regexp,.hljs-atelier-seaside-light .hljs-link,.hljs-atelier-seaside-light .hljs-name,.hljs-atelier-seaside-light .hljs-selector-id,.hljs-atelier-seaside-light .hljs-selector-class{color:#e6193c}.hljs-atelier-seaside-light .hljs-number,.hljs-atelier-seaside-light .hljs-meta,.hljs-atelier-seaside-light .hljs-built_in,.hljs-atelier-seaside-light .hljs-builtin-name,.hljs-atelier-seaside-light .hljs-literal,.hljs-atelier-seaside-light .hljs-type,.hljs-atelier-seaside-light .hljs-params{color:#87711d}.hljs-atelier-seaside-light .hljs-string,.hljs-atelier-seaside-light .hljs-symbol,.hljs-atelier-seaside-light .hljs-bullet{color:#29a329}.hljs-atelier-seaside-light .hljs-title,.hljs-atelier-seaside-light .hljs-section{color:#3d62f5}.hljs-atelier-seaside-light .hljs-keyword,.hljs-atelier-seaside-light .hljs-selector-tag{color:#ad2bee}.hljs-atelier-seaside-light .hljs{display:block;overflow-x:auto;background:#f4fbf4;color:#5e6e5e;padding:.5em}.hljs-atelier-seaside-light .hljs-emphasis{font-style:italic}.hljs-atelier-seaside-light .hljs-strong{font-weight:bold}.hljs-atelier-sulphurpool-dark .hljs-comment,.hljs-atelier-sulphurpool-dark .hljs-quote{color:#898ea4}.hljs-atelier-sulphurpool-dark .hljs-variable,.hljs-atelier-sulphurpool-dark .hljs-template-variable,.hljs-atelier-sulphurpool-dark .hljs-attribute,.hljs-atelier-sulphurpool-dark .hljs-tag,.hljs-atelier-sulphurpool-dark .hljs-name,.hljs-atelier-sulphurpool-dark .hljs-regexp,.hljs-atelier-sulphurpool-dark .hljs-link,.hljs-atelier-sulphurpool-dark .hljs-name,.hljs-atelier-sulphurpool-dark .hljs-selector-id,.hljs-atelier-sulphurpool-dark .hljs-selector-class{color:#c94922}.hljs-atelier-sulphurpool-dark .hljs-number,.hljs-atelier-sulphurpool-dark .hljs-meta,.hljs-atelier-sulphurpool-dark .hljs-built_in,.hljs-atelier-sulphurpool-dark .hljs-builtin-name,.hljs-atelier-sulphurpool-dark .hljs-literal,.hljs-atelier-sulphurpool-dark .hljs-type,.hljs-atelier-sulphurpool-dark .hljs-params{color:#c76b29}.hljs-atelier-sulphurpool-dark .hljs-string,.hljs-atelier-sulphurpool-dark .hljs-symbol,.hljs-atelier-sulphurpool-dark .hljs-bullet{color:#ac9739}.hljs-atelier-sulphurpool-dark .hljs-title,.hljs-atelier-sulphurpool-dark .hljs-section{color:#3d8fd1}.hljs-atelier-sulphurpool-dark .hljs-keyword,.hljs-atelier-sulphurpool-dark .hljs-selector-tag{color:#6679cc}.hljs-atelier-sulphurpool-dark .hljs{display:block;overflow-x:auto;background:#202746;color:#979db4;padding:.5em}.hljs-atelier-sulphurpool-dark .hljs-emphasis{font-style:italic}.hljs-atelier-sulphurpool-dark .hljs-strong{font-weight:bold}.hljs-atelier-sulphurpool-light .hljs-comment,.hljs-atelier-sulphurpool-light .hljs-quote{color:#6b7394}.hljs-atelier-sulphurpool-light .hljs-variable,.hljs-atelier-sulphurpool-light .hljs-template-variable,.hljs-atelier-sulphurpool-light .hljs-attribute,.hljs-atelier-sulphurpool-light .hljs-tag,.hljs-atelier-sulphurpool-light .hljs-name,.hljs-atelier-sulphurpool-light .hljs-regexp,.hljs-atelier-sulphurpool-light .hljs-link,.hljs-atelier-sulphurpool-light .hljs-name,.hljs-atelier-sulphurpool-light .hljs-selector-id,.hljs-atelier-sulphurpool-light .hljs-selector-class{color:#c94922}.hljs-atelier-sulphurpool-light .hljs-number,.hljs-atelier-sulphurpool-light .hljs-meta,.hljs-atelier-sulphurpool-light .hljs-built_in,.hljs-atelier-sulphurpool-light .hljs-builtin-name,.hljs-atelier-sulphurpool-light .hljs-literal,.hljs-atelier-sulphurpool-light .hljs-type,.hljs-atelier-sulphurpool-light .hljs-params{color:#c76b29}.hljs-atelier-sulphurpool-light .hljs-string,.hljs-atelier-sulphurpool-light .hljs-symbol,.hljs-atelier-sulphurpool-light .hljs-bullet{color:#ac9739}.hljs-atelier-sulphurpool-light .hljs-title,.hljs-atelier-sulphurpool-light .hljs-section{color:#3d8fd1}.hljs-atelier-sulphurpool-light .hljs-keyword,.hljs-atelier-sulphurpool-light .hljs-selector-tag{color:#6679cc}.hljs-atelier-sulphurpool-light .hljs{display:block;overflow-x:auto;background:#f5f7ff;color:#5e6687;padding:.5em}.hljs-atelier-sulphurpool-light .hljs-emphasis{font-style:italic}.hljs-atelier-sulphurpool-light .hljs-strong{font-weight:bold}.hljs-atom-one-dark .hljs{display:block;overflow-x:auto;padding:.5em;color:#abb2bf;background:#282c34}.hljs-atom-one-dark .hljs-comment,.hljs-atom-one-dark .hljs-quote{color:#5c6370;font-style:italic}.hljs-atom-one-dark .hljs-doctag,.hljs-atom-one-dark .hljs-keyword,.hljs-atom-one-dark .hljs-formula{color:#c678dd}.hljs-atom-one-dark .hljs-section,.hljs-atom-one-dark .hljs-name,.hljs-atom-one-dark .hljs-selector-tag,.hljs-atom-one-dark .hljs-deletion,.hljs-atom-one-dark .hljs-subst{color:#e06c75}.hljs-atom-one-dark .hljs-literal{color:#56b6c2}.hljs-atom-one-dark .hljs-string,.hljs-atom-one-dark .hljs-regexp,.hljs-atom-one-dark .hljs-addition,.hljs-atom-one-dark .hljs-attribute,.hljs-atom-one-dark .hljs-meta-string{color:#98c379}.hljs-atom-one-dark .hljs-built_in,.hljs-atom-one-dark .hljs-class .hljs-title{color:#e6c07b}.hljs-atom-one-dark .hljs-variable,.hljs-atom-one-dark .hljs-template-variable,.hljs-atom-one-dark .hljs-type,.hljs-atom-one-dark .hljs-selector-class,.hljs-atom-one-dark .hljs-selector-attr,.hljs-atom-one-dark .hljs-selector-pseudo,.hljs-atom-one-dark .hljs-number{color:#d19a66}.hljs-atom-one-dark .hljs-symbol,.hljs-atom-one-dark .hljs-bullet,.hljs-atom-one-dark .hljs-link,.hljs-atom-one-dark .hljs-meta,.hljs-atom-one-dark .hljs-selector-id,.hljs-atom-one-dark .hljs-title{color:#61aeee}.hljs-atom-one-dark .hljs-emphasis{font-style:italic}.hljs-atom-one-dark .hljs-strong{font-weight:bold}.hljs-atom-one-dark .hljs-link{text-decoration:underline}.hljs-atom-one-light .hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-atom-one-light .hljs-comment,.hljs-atom-one-light .hljs-quote{color:#a0a1a7;font-style:italic}.hljs-atom-one-light .hljs-doctag,.hljs-atom-one-light .hljs-keyword,.hljs-atom-one-light .hljs-formula{color:#a626a4}.hljs-atom-one-light .hljs-section,.hljs-atom-one-light .hljs-name,.hljs-atom-one-light .hljs-selector-tag,.hljs-atom-one-light .hljs-deletion,.hljs-atom-one-light .hljs-subst{color:#e45649}.hljs-atom-one-light .hljs-literal{color:#0184bb}.hljs-atom-one-light .hljs-string,.hljs-atom-one-light .hljs-regexp,.hljs-atom-one-light .hljs-addition,.hljs-atom-one-light .hljs-attribute,.hljs-atom-one-light .hljs-meta-string{color:#50a14f}.hljs-atom-one-light .hljs-built_in,.hljs-atom-one-light .hljs-class .hljs-title{color:#c18401}.hljs-atom-one-light .hljs-variable,.hljs-atom-one-light .hljs-template-variable,.hljs-atom-one-light .hljs-type,.hljs-atom-one-light .hljs-selector-class,.hljs-atom-one-light .hljs-selector-attr,.hljs-atom-one-light .hljs-selector-pseudo,.hljs-atom-one-light .hljs-number{color:#986801}.hljs-atom-one-light .hljs-symbol,.hljs-atom-one-light .hljs-bullet,.hljs-atom-one-light .hljs-link,.hljs-atom-one-light .hljs-meta,.hljs-atom-one-light .hljs-selector-id,.hljs-atom-one-light .hljs-title{color:#4078f2}.hljs-atom-one-light .hljs-emphasis{font-style:italic}.hljs-atom-one-light .hljs-strong{font-weight:bold}.hljs-atom-one-light .hljs-link{text-decoration:underline}.hljs-brown-paper .hljs{display:block;overflow-x:auto;padding:.5em;background:#b7a68e url(brown-papersq.png)}.hljs-brown-paper .hljs-keyword,.hljs-brown-paper .hljs-selector-tag,.hljs-brown-paper .hljs-literal{color:#005599;font-weight:bold}.hljs-brown-paper .hljs,.hljs-brown-paper .hljs-subst{color:#363c69}.hljs-brown-paper .hljs-string,.hljs-brown-paper .hljs-title,.hljs-brown-paper .hljs-section,.hljs-brown-paper .hljs-type,.hljs-brown-paper .hljs-attribute,.hljs-brown-paper .hljs-symbol,.hljs-brown-paper .hljs-bullet,.hljs-brown-paper .hljs-built_in,.hljs-brown-paper .hljs-addition,.hljs-brown-paper .hljs-variable,.hljs-brown-paper .hljs-template-tag,.hljs-brown-paper .hljs-template-variable,.hljs-brown-paper .hljs-link,.hljs-brown-paper .hljs-name{color:#2c009f}.hljs-brown-paper .hljs-comment,.hljs-brown-paper .hljs-quote,.hljs-brown-paper .hljs-meta,.hljs-brown-paper .hljs-deletion{color:#802022}.hljs-brown-paper .hljs-keyword,.hljs-brown-paper .hljs-selector-tag,.hljs-brown-paper .hljs-literal,.hljs-brown-paper .hljs-doctag,.hljs-brown-paper .hljs-title,.hljs-brown-paper .hljs-section,.hljs-brown-paper .hljs-type,.hljs-brown-paper .hljs-name,.hljs-brown-paper .hljs-strong{font-weight:bold}.hljs-brown-paper .hljs-emphasis{font-style:italic}.hljs-codepen-embed .hljs{display:block;overflow-x:auto;padding:.5em;background:#222;color:#fff}.hljs-codepen-embed .hljs-comment,.hljs-codepen-embed .hljs-quote{color:#777}.hljs-codepen-embed .hljs-variable,.hljs-codepen-embed .hljs-template-variable,.hljs-codepen-embed .hljs-tag,.hljs-codepen-embed .hljs-regexp,.hljs-codepen-embed .hljs-meta,.hljs-codepen-embed .hljs-number,.hljs-codepen-embed .hljs-built_in,.hljs-codepen-embed .hljs-builtin-name,.hljs-codepen-embed .hljs-literal,.hljs-codepen-embed .hljs-params,.hljs-codepen-embed .hljs-symbol,.hljs-codepen-embed .hljs-bullet,.hljs-codepen-embed .hljs-link,.hljs-codepen-embed .hljs-deletion{color:#ab875d}.hljs-codepen-embed .hljs-section,.hljs-codepen-embed .hljs-title,.hljs-codepen-embed .hljs-name,.hljs-codepen-embed .hljs-selector-id,.hljs-codepen-embed .hljs-selector-class,.hljs-codepen-embed .hljs-type,.hljs-codepen-embed .hljs-attribute{color:#9b869b}.hljs-codepen-embed .hljs-string,.hljs-codepen-embed .hljs-keyword,.hljs-codepen-embed .hljs-selector-tag,.hljs-codepen-embed .hljs-addition{color:#8f9c6c}.hljs-codepen-embed .hljs-emphasis{font-style:italic}.hljs-codepen-embed .hljs-strong{font-weight:bold}.hljs-color-brewer .hljs{display:block;overflow-x:auto;padding:.5em;background:#fff}.hljs-color-brewer .hljs,.hljs-color-brewer .hljs-subst{color:#000}.hljs-color-brewer .hljs-string,.hljs-color-brewer .hljs-meta,.hljs-color-brewer .hljs-symbol,.hljs-color-brewer .hljs-template-tag,.hljs-color-brewer .hljs-template-variable,.hljs-color-brewer .hljs-addition{color:#756bb1}.hljs-color-brewer .hljs-comment,.hljs-color-brewer .hljs-quote{color:#636363}.hljs-color-brewer .hljs-number,.hljs-color-brewer .hljs-regexp,.hljs-color-brewer .hljs-literal,.hljs-color-brewer .hljs-bullet,.hljs-color-brewer .hljs-link{color:#31a354}.hljs-color-brewer .hljs-deletion,.hljs-color-brewer .hljs-variable{color:#88f}.hljs-color-brewer .hljs-keyword,.hljs-color-brewer .hljs-selector-tag,.hljs-color-brewer .hljs-title,.hljs-color-brewer .hljs-section,.hljs-color-brewer .hljs-built_in,.hljs-color-brewer .hljs-doctag,.hljs-color-brewer .hljs-type,.hljs-color-brewer .hljs-tag,.hljs-color-brewer .hljs-name,.hljs-color-brewer .hljs-selector-id,.hljs-color-brewer .hljs-selector-class,.hljs-color-brewer .hljs-strong{color:#3182bd}.hljs-color-brewer .hljs-emphasis{font-style:italic}.hljs-color-brewer .hljs-attribute{color:#e6550d}.hljs-darcula .hljs{display:block;overflow-x:auto;padding:.5em;background:#2b2b2b}.hljs-darcula .hljs{color:#bababa}.hljs-darcula .hljs-strong,.hljs-darcula .hljs-emphasis{color:#a8a8a2}.hljs-darcula .hljs-bullet,.hljs-darcula .hljs-quote,.hljs-darcula .hljs-link,.hljs-darcula .hljs-number,.hljs-darcula .hljs-regexp,.hljs-darcula .hljs-literal{color:#6896ba}.hljs-darcula .hljs-code,.hljs-darcula .hljs-selector-class{color:#a6e22e}.hljs-darcula .hljs-emphasis{font-style:italic}.hljs-darcula .hljs-keyword,.hljs-darcula .hljs-selector-tag,.hljs-darcula .hljs-section,.hljs-darcula .hljs-attribute,.hljs-darcula .hljs-name,.hljs-darcula .hljs-variable{color:#cb7832}.hljs-darcula .hljs-params{color:#b9b9b9}.hljs-darcula .hljs-string{color:#6a8759}.hljs-darcula .hljs-subst,.hljs-darcula .hljs-type,.hljs-darcula .hljs-built_in,.hljs-darcula .hljs-builtin-name,.hljs-darcula .hljs-symbol,.hljs-darcula .hljs-selector-id,.hljs-darcula .hljs-selector-attr,.hljs-darcula .hljs-selector-pseudo,.hljs-darcula .hljs-template-tag,.hljs-darcula .hljs-template-variable,.hljs-darcula .hljs-addition{color:#e0c46c}.hljs-darcula .hljs-comment,.hljs-darcula .hljs-deletion,.hljs-darcula .hljs-meta{color:#7f7f7f}.hljs-dark .hljs{display:block;overflow-x:auto;padding:.5em;background:#444}.hljs-dark .hljs-keyword,.hljs-dark .hljs-selector-tag,.hljs-dark .hljs-literal,.hljs-dark .hljs-section,.hljs-dark .hljs-link{color:white}.hljs-dark .hljs,.hljs-dark .hljs-subst{color:#ddd}.hljs-dark .hljs-string,.hljs-dark .hljs-title,.hljs-dark .hljs-name,.hljs-dark .hljs-type,.hljs-dark .hljs-attribute,.hljs-dark .hljs-symbol,.hljs-dark .hljs-bullet,.hljs-dark .hljs-built_in,.hljs-dark .hljs-addition,.hljs-dark .hljs-variable,.hljs-dark .hljs-template-tag,.hljs-dark .hljs-template-variable{color:#d88}.hljs-dark .hljs-comment,.hljs-dark .hljs-quote,.hljs-dark .hljs-deletion,.hljs-dark .hljs-meta{color:#777}.hljs-dark .hljs-keyword,.hljs-dark .hljs-selector-tag,.hljs-dark .hljs-literal,.hljs-dark .hljs-title,.hljs-dark .hljs-section,.hljs-dark .hljs-doctag,.hljs-dark .hljs-type,.hljs-dark .hljs-name,.hljs-dark .hljs-strong{font-weight:bold}.hljs-dark .hljs-emphasis{font-style:italic}.hljs-darkula{@import url('darcula.css');}.hljs-default .hljs{display:block;overflow-x:auto;padding:.5em;background:#F0F0F0}.hljs-default .hljs,.hljs-default .hljs-subst{color:#444}.hljs-default .hljs-comment{color:#888888}.hljs-default .hljs-keyword,.hljs-default .hljs-attribute,.hljs-default .hljs-selector-tag,.hljs-default .hljs-meta-keyword,.hljs-default .hljs-doctag,.hljs-default .hljs-name{font-weight:bold}.hljs-default .hljs-type,.hljs-default .hljs-string,.hljs-default .hljs-number,.hljs-default .hljs-selector-id,.hljs-default .hljs-selector-class,.hljs-default .hljs-quote,.hljs-default .hljs-template-tag,.hljs-default .hljs-deletion{color:#880000}.hljs-default .hljs-title,.hljs-default .hljs-section{color:#880000;font-weight:bold}.hljs-default .hljs-regexp,.hljs-default .hljs-symbol,.hljs-default .hljs-variable,.hljs-default .hljs-template-variable,.hljs-default .hljs-link,.hljs-default .hljs-selector-attr,.hljs-default .hljs-selector-pseudo{color:#BC6060}.hljs-default .hljs-literal{color:#78A960}.hljs-default .hljs-built_in,.hljs-default .hljs-bullet,.hljs-default .hljs-code,.hljs-default .hljs-addition{color:#397300}.hljs-default .hljs-meta{color:#1f7199}.hljs-default .hljs-meta-string{color:#4d99bf}.hljs-default .hljs-emphasis{font-style:italic}.hljs-default .hljs-strong{font-weight:bold}.hljs-docco .hljs{display:block;overflow-x:auto;padding:.5em;color:#000;background:#f8f8ff}.hljs-docco .hljs-comment,.hljs-docco .hljs-quote{color:#408080;font-style:italic}.hljs-docco .hljs-keyword,.hljs-docco .hljs-selector-tag,.hljs-docco .hljs-literal,.hljs-docco .hljs-subst{color:#954121}.hljs-docco .hljs-number{color:#40a070}.hljs-docco .hljs-string,.hljs-docco .hljs-doctag{color:#219161}.hljs-docco .hljs-selector-id,.hljs-docco .hljs-selector-class,.hljs-docco .hljs-section,.hljs-docco .hljs-type{color:#19469d}.hljs-docco .hljs-params{color:#00f}.hljs-docco .hljs-title{color:#458;font-weight:bold}.hljs-docco .hljs-tag,.hljs-docco .hljs-name,.hljs-docco .hljs-attribute{color:#000080;font-weight:normal}.hljs-docco .hljs-variable,.hljs-docco .hljs-template-variable{color:#008080}.hljs-docco .hljs-regexp,.hljs-docco .hljs-link{color:#b68}.hljs-docco .hljs-symbol,.hljs-docco .hljs-bullet{color:#990073}.hljs-docco .hljs-built_in,.hljs-docco .hljs-builtin-name{color:#0086b3}.hljs-docco .hljs-meta{color:#999;font-weight:bold}.hljs-docco .hljs-deletion{background:#fdd}.hljs-docco .hljs-addition{background:#dfd}.hljs-docco .hljs-emphasis{font-style:italic}.hljs-docco .hljs-strong{font-weight:bold}.hljs-dracula .hljs{display:block;overflow-x:auto;padding:.5em;background:#282a36}.hljs-dracula .hljs-keyword,.hljs-dracula .hljs-selector-tag,.hljs-dracula .hljs-literal,.hljs-dracula .hljs-section,.hljs-dracula .hljs-link{color:#8be9fd}.hljs-dracula .hljs-function .hljs-keyword{color:#ff79c6}.hljs-dracula .hljs,.hljs-dracula .hljs-subst{color:#f8f8f2}.hljs-dracula .hljs-string,.hljs-dracula .hljs-title,.hljs-dracula .hljs-name,.hljs-dracula .hljs-type,.hljs-dracula .hljs-attribute,.hljs-dracula .hljs-symbol,.hljs-dracula .hljs-bullet,.hljs-dracula .hljs-addition,.hljs-dracula .hljs-variable,.hljs-dracula .hljs-template-tag,.hljs-dracula .hljs-template-variable{color:#f1fa8c}.hljs-dracula .hljs-comment,.hljs-dracula .hljs-quote,.hljs-dracula .hljs-deletion,.hljs-dracula .hljs-meta{color:#6272a4}.hljs-dracula .hljs-keyword,.hljs-dracula .hljs-selector-tag,.hljs-dracula .hljs-literal,.hljs-dracula .hljs-title,.hljs-dracula .hljs-section,.hljs-dracula .hljs-doctag,.hljs-dracula .hljs-type,.hljs-dracula .hljs-name,.hljs-dracula .hljs-strong{font-weight:bold}.hljs-dracula .hljs-emphasis{font-style:italic}.hljs-far .hljs{display:block;overflow-x:auto;padding:.5em;background:#000080}.hljs-far .hljs,.hljs-far .hljs-subst{color:#0ff}.hljs-far .hljs-string,.hljs-far .hljs-attribute,.hljs-far .hljs-symbol,.hljs-far .hljs-bullet,.hljs-far .hljs-built_in,.hljs-far .hljs-builtin-name,.hljs-far .hljs-template-tag,.hljs-far .hljs-template-variable,.hljs-far .hljs-addition{color:#ff0}.hljs-far .hljs-keyword,.hljs-far .hljs-selector-tag,.hljs-far .hljs-section,.hljs-far .hljs-type,.hljs-far .hljs-name,.hljs-far .hljs-selector-id,.hljs-far .hljs-selector-class,.hljs-far .hljs-variable{color:#fff}.hljs-far .hljs-comment,.hljs-far .hljs-quote,.hljs-far .hljs-doctag,.hljs-far .hljs-deletion{color:#888}.hljs-far .hljs-number,.hljs-far .hljs-regexp,.hljs-far .hljs-literal,.hljs-far .hljs-link{color:#0f0}.hljs-far .hljs-meta{color:#008080}.hljs-far .hljs-keyword,.hljs-far .hljs-selector-tag,.hljs-far .hljs-title,.hljs-far .hljs-section,.hljs-far .hljs-name,.hljs-far .hljs-strong{font-weight:bold}.hljs-far .hljs-emphasis{font-style:italic}.hljs-foundation .hljs{display:block;overflow-x:auto;padding:.5em;background:#eee;color:black}.hljs-foundation .hljs-link,.hljs-foundation .hljs-emphasis,.hljs-foundation .hljs-attribute,.hljs-foundation .hljs-addition{color:#070}.hljs-foundation .hljs-emphasis{font-style:italic}.hljs-foundation .hljs-strong,.hljs-foundation .hljs-string,.hljs-foundation .hljs-deletion{color:#d14}.hljs-foundation .hljs-strong{font-weight:bold}.hljs-foundation .hljs-quote,.hljs-foundation .hljs-comment{color:#998;font-style:italic}.hljs-foundation .hljs-section,.hljs-foundation .hljs-title{color:#900}.hljs-foundation .hljs-class .hljs-title,.hljs-foundation .hljs-type{color:#458}.hljs-foundation .hljs-variable,.hljs-foundation .hljs-template-variable{color:#336699}.hljs-foundation .hljs-bullet{color:#997700}.hljs-foundation .hljs-meta{color:#3344bb}.hljs-foundation .hljs-code,.hljs-foundation .hljs-number,.hljs-foundation .hljs-literal,.hljs-foundation .hljs-keyword,.hljs-foundation .hljs-selector-tag{color:#099}.hljs-foundation .hljs-regexp{background-color:#fff0ff;color:#880088}.hljs-foundation .hljs-symbol{color:#990073}.hljs-foundation .hljs-tag,.hljs-foundation .hljs-name,.hljs-foundation .hljs-selector-id,.hljs-foundation .hljs-selector-class{color:#007700}.hljs-github-gist .hljs{display:block;background:white;padding:.5em;color:#333333;overflow-x:auto}.hljs-github-gist .hljs-comment,.hljs-github-gist .hljs-meta{color:#969896}.hljs-github-gist .hljs-string,.hljs-github-gist .hljs-variable,.hljs-github-gist .hljs-template-variable,.hljs-github-gist .hljs-strong,.hljs-github-gist .hljs-emphasis,.hljs-github-gist .hljs-quote{color:#df5000}.hljs-github-gist .hljs-keyword,.hljs-github-gist .hljs-selector-tag,.hljs-github-gist .hljs-type{color:#a71d5d}.hljs-github-gist .hljs-literal,.hljs-github-gist .hljs-symbol,.hljs-github-gist .hljs-bullet,.hljs-github-gist .hljs-attribute{color:#0086b3}.hljs-github-gist .hljs-section,.hljs-github-gist .hljs-name{color:#63a35c}.hljs-github-gist .hljs-tag{color:#333333}.hljs-github-gist .hljs-title,.hljs-github-gist .hljs-attr,.hljs-github-gist .hljs-selector-id,.hljs-github-gist .hljs-selector-class,.hljs-github-gist .hljs-selector-attr,.hljs-github-gist .hljs-selector-pseudo{color:#795da3}.hljs-github-gist .hljs-addition{color:#55a532;background-color:#eaffea}.hljs-github-gist .hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-github-gist .hljs-link{text-decoration:underline}.hljs-github .hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-github .hljs-comment,.hljs-github .hljs-quote{color:#998;font-style:italic}.hljs-github .hljs-keyword,.hljs-github .hljs-selector-tag,.hljs-github .hljs-subst{color:#333;font-weight:bold}.hljs-github .hljs-number,.hljs-github .hljs-literal,.hljs-github .hljs-variable,.hljs-github .hljs-template-variable,.hljs-github .hljs-tag .hljs-attr{color:#008080}.hljs-github .hljs-string,.hljs-github .hljs-doctag{color:#d14}.hljs-github .hljs-title,.hljs-github .hljs-section,.hljs-github .hljs-selector-id{color:#900;font-weight:bold}.hljs-github .hljs-subst{font-weight:normal}.hljs-github .hljs-type,.hljs-github .hljs-class .hljs-title{color:#458;font-weight:bold}.hljs-github .hljs-tag,.hljs-github .hljs-name,.hljs-github .hljs-attribute{color:#000080;font-weight:normal}.hljs-github .hljs-regexp,.hljs-github .hljs-link{color:#009926}.hljs-github .hljs-symbol,.hljs-github .hljs-bullet{color:#990073}.hljs-github .hljs-built_in,.hljs-github .hljs-builtin-name{color:#0086b3}.hljs-github .hljs-meta{color:#999;font-weight:bold}.hljs-github .hljs-deletion{background:#fdd}.hljs-github .hljs-addition{background:#dfd}.hljs-github .hljs-emphasis{font-style:italic}.hljs-github .hljs-strong{font-weight:bold}.hljs-googlecode .hljs{display:block;overflow-x:auto;padding:.5em;background:white;color:black}.hljs-googlecode .hljs-comment,.hljs-googlecode .hljs-quote{color:#800}.hljs-googlecode .hljs-keyword,.hljs-googlecode .hljs-selector-tag,.hljs-googlecode .hljs-section,.hljs-googlecode .hljs-title,.hljs-googlecode .hljs-name{color:#008}.hljs-googlecode .hljs-variable,.hljs-googlecode .hljs-template-variable{color:#660}.hljs-googlecode .hljs-string,.hljs-googlecode .hljs-selector-attr,.hljs-googlecode .hljs-selector-pseudo,.hljs-googlecode .hljs-regexp{color:#080}.hljs-googlecode .hljs-literal,.hljs-googlecode .hljs-symbol,.hljs-googlecode .hljs-bullet,.hljs-googlecode .hljs-meta,.hljs-googlecode .hljs-number,.hljs-googlecode .hljs-link{color:#066}.hljs-googlecode .hljs-title,.hljs-googlecode .hljs-doctag,.hljs-googlecode .hljs-type,.hljs-googlecode .hljs-attr,.hljs-googlecode .hljs-built_in,.hljs-googlecode .hljs-builtin-name,.hljs-googlecode .hljs-params{color:#606}.hljs-googlecode .hljs-attribute,.hljs-googlecode .hljs-subst{color:#000}.hljs-googlecode .hljs-formula{background-color:#eee;font-style:italic}.hljs-googlecode .hljs-selector-id,.hljs-googlecode .hljs-selector-class{color:#9B703F}.hljs-googlecode .hljs-addition{background-color:#baeeba}.hljs-googlecode .hljs-deletion{background-color:#ffc8bd}.hljs-googlecode .hljs-doctag,.hljs-googlecode .hljs-strong{font-weight:bold}.hljs-googlecode .hljs-emphasis{font-style:italic}.hljs-grayscale .hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#fff}.hljs-grayscale .hljs-comment,.hljs-grayscale .hljs-quote{color:#777;font-style:italic}.hljs-grayscale .hljs-keyword,.hljs-grayscale .hljs-selector-tag,.hljs-grayscale .hljs-subst{color:#333;font-weight:bold}.hljs-grayscale .hljs-number,.hljs-grayscale .hljs-literal{color:#777}.hljs-grayscale .hljs-string,.hljs-grayscale .hljs-doctag,.hljs-grayscale .hljs-formula{color:#333;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAJ0lEQVQIW2O8e/fufwYGBgZBQUEQxcCIIfDu3Tuwivfv30NUoAsAALHpFMMLqZlPAAAAAElFTkSuQmCC) repeat}.hljs-grayscale .hljs-title,.hljs-grayscale .hljs-section,.hljs-grayscale .hljs-selector-id{color:#000;font-weight:bold}.hljs-grayscale .hljs-subst{font-weight:normal}.hljs-grayscale .hljs-class .hljs-title,.hljs-grayscale .hljs-type,.hljs-grayscale .hljs-name{color:#333;font-weight:bold}.hljs-grayscale .hljs-tag{color:#333}.hljs-grayscale .hljs-regexp{color:#333;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAAPUlEQVQYV2NkQAN37979r6yszIgujiIAU4RNMVwhuiQ6H6wQl3XI4oy4FMHcCJPHcDS6J2A2EqUQpJhohQDexSef15DBCwAAAABJRU5ErkJggg==) repeat}.hljs-grayscale .hljs-symbol,.hljs-grayscale .hljs-bullet,.hljs-grayscale .hljs-link{color:#000;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAKElEQVQIW2NkQAO7d+/+z4gsBhJwdXVlhAvCBECKwIIwAbhKZBUwBQA6hBpm5efZsgAAAABJRU5ErkJggg==) repeat}.hljs-grayscale .hljs-built_in,.hljs-grayscale .hljs-builtin-name{color:#000;text-decoration:underline}.hljs-grayscale .hljs-meta{color:#999;font-weight:bold}.hljs-grayscale .hljs-deletion{color:#fff;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAADCAYAAABS3WWCAAAAE0lEQVQIW2MMDQ39zzhz5kwIAQAyxweWgUHd1AAAAABJRU5ErkJggg==) repeat}.hljs-grayscale .hljs-addition{color:#000;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAALUlEQVQYV2N89+7dfwYk8P79ewZBQUFkIQZGOiu6e/cuiptQHAPl0NtNxAQBAM97Oejj3Dg7AAAAAElFTkSuQmCC) repeat}.hljs-grayscale .hljs-emphasis{font-style:italic}.hljs-grayscale .hljs-strong{font-weight:bold}.hljs-gruvbox-dark .hljs{display:block;overflow-x:auto;padding:.5em;background:#282828}.hljs-gruvbox-dark .hljs,.hljs-gruvbox-dark .hljs-subst{color:#ebdbb2}.hljs-gruvbox-dark .hljs-deletion,.hljs-gruvbox-dark .hljs-formula,.hljs-gruvbox-dark .hljs-keyword,.hljs-gruvbox-dark .hljs-link,.hljs-gruvbox-dark .hljs-selector-tag{color:#fb4934}.hljs-gruvbox-dark .hljs-built_in,.hljs-gruvbox-dark .hljs-emphasis,.hljs-gruvbox-dark .hljs-name,.hljs-gruvbox-dark .hljs-quote,.hljs-gruvbox-dark .hljs-strong,.hljs-gruvbox-dark .hljs-title,.hljs-gruvbox-dark .hljs-variable{color:#83a598}.hljs-gruvbox-dark .hljs-attr,.hljs-gruvbox-dark .hljs-params,.hljs-gruvbox-dark .hljs-template-tag,.hljs-gruvbox-dark .hljs-type{color:#fabd2f}.hljs-gruvbox-dark .hljs-builtin-name,.hljs-gruvbox-dark .hljs-doctag,.hljs-gruvbox-dark .hljs-literal,.hljs-gruvbox-dark .hljs-number{color:#8f3f71}.hljs-gruvbox-dark .hljs-code,.hljs-gruvbox-dark .hljs-meta,.hljs-gruvbox-dark .hljs-regexp,.hljs-gruvbox-dark .hljs-selector-id,.hljs-gruvbox-dark .hljs-template-variable{color:#fe8019}.hljs-gruvbox-dark .hljs-addition,.hljs-gruvbox-dark .hljs-meta-string,.hljs-gruvbox-dark .hljs-section,.hljs-gruvbox-dark .hljs-selector-attr,.hljs-gruvbox-dark .hljs-selector-class,.hljs-gruvbox-dark .hljs-string,.hljs-gruvbox-dark .hljs-symbol{color:#b8bb26}.hljs-gruvbox-dark .hljs-attribute,.hljs-gruvbox-dark .hljs-bullet,.hljs-gruvbox-dark .hljs-class,.hljs-gruvbox-dark .hljs-function,.hljs-gruvbox-dark .hljs-function .hljs-keyword,.hljs-gruvbox-dark .hljs-meta-keyword,.hljs-gruvbox-dark .hljs-selector-pseudo,.hljs-gruvbox-dark .hljs-tag{color:#8ec07c}.hljs-gruvbox-dark .hljs-comment{color:#928374}.hljs-gruvbox-dark .hljs-link_label,.hljs-gruvbox-dark .hljs-literal,.hljs-gruvbox-dark .hljs-number{color:#d3869b}.hljs-gruvbox-dark .hljs-comment,.hljs-gruvbox-dark .hljs-emphasis{font-style:italic}.hljs-gruvbox-dark .hljs-section,.hljs-gruvbox-dark .hljs-strong,.hljs-gruvbox-dark .hljs-tag{font-weight:bold}.hljs-gruvbox-light .hljs{display:block;overflow-x:auto;padding:.5em;background:#fbf1c7}.hljs-gruvbox-light .hljs,.hljs-gruvbox-light .hljs-subst{color:#3c3836}.hljs-gruvbox-light .hljs-deletion,.hljs-gruvbox-light .hljs-formula,.hljs-gruvbox-light .hljs-keyword,.hljs-gruvbox-light .hljs-link,.hljs-gruvbox-light .hljs-selector-tag{color:#9d0006}.hljs-gruvbox-light .hljs-built_in,.hljs-gruvbox-light .hljs-emphasis,.hljs-gruvbox-light .hljs-name,.hljs-gruvbox-light .hljs-quote,.hljs-gruvbox-light .hljs-strong,.hljs-gruvbox-light .hljs-title,.hljs-gruvbox-light .hljs-variable{color:#076678}.hljs-gruvbox-light .hljs-attr,.hljs-gruvbox-light .hljs-params,.hljs-gruvbox-light .hljs-template-tag,.hljs-gruvbox-light .hljs-type{color:#b57614}.hljs-gruvbox-light .hljs-builtin-name,.hljs-gruvbox-light .hljs-doctag,.hljs-gruvbox-light .hljs-literal,.hljs-gruvbox-light .hljs-number{color:#8f3f71}.hljs-gruvbox-light .hljs-code,.hljs-gruvbox-light .hljs-meta,.hljs-gruvbox-light .hljs-regexp,.hljs-gruvbox-light .hljs-selector-id,.hljs-gruvbox-light .hljs-template-variable{color:#af3a03}.hljs-gruvbox-light .hljs-addition,.hljs-gruvbox-light .hljs-meta-string,.hljs-gruvbox-light .hljs-section,.hljs-gruvbox-light .hljs-selector-attr,.hljs-gruvbox-light .hljs-selector-class,.hljs-gruvbox-light .hljs-string,.hljs-gruvbox-light .hljs-symbol{color:#79740e}.hljs-gruvbox-light .hljs-attribute,.hljs-gruvbox-light .hljs-bullet,.hljs-gruvbox-light .hljs-class,.hljs-gruvbox-light .hljs-function,.hljs-gruvbox-light .hljs-function .hljs-keyword,.hljs-gruvbox-light .hljs-meta-keyword,.hljs-gruvbox-light .hljs-selector-pseudo,.hljs-gruvbox-light .hljs-tag{color:#427b58}.hljs-gruvbox-light .hljs-comment{color:#928374}.hljs-gruvbox-light .hljs-link_label,.hljs-gruvbox-light .hljs-literal,.hljs-gruvbox-light .hljs-number{color:#8f3f71}.hljs-gruvbox-light .hljs-comment,.hljs-gruvbox-light .hljs-emphasis{font-style:italic}.hljs-gruvbox-light .hljs-section,.hljs-gruvbox-light .hljs-strong,.hljs-gruvbox-light .hljs-tag{font-weight:bold}.hljs-hopscotch .hljs-comment,.hljs-hopscotch .hljs-quote{color:#989498}.hljs-hopscotch .hljs-variable,.hljs-hopscotch .hljs-template-variable,.hljs-hopscotch .hljs-attribute,.hljs-hopscotch .hljs-tag,.hljs-hopscotch .hljs-name,.hljs-hopscotch .hljs-selector-id,.hljs-hopscotch .hljs-selector-class,.hljs-hopscotch .hljs-regexp,.hljs-hopscotch .hljs-link,.hljs-hopscotch .hljs-deletion{color:#dd464c}.hljs-hopscotch .hljs-number,.hljs-hopscotch .hljs-built_in,.hljs-hopscotch .hljs-builtin-name,.hljs-hopscotch .hljs-literal,.hljs-hopscotch .hljs-type,.hljs-hopscotch .hljs-params{color:#fd8b19}.hljs-hopscotch .hljs-class .hljs-title{color:#fdcc59}.hljs-hopscotch .hljs-string,.hljs-hopscotch .hljs-symbol,.hljs-hopscotch .hljs-bullet,.hljs-hopscotch .hljs-addition{color:#8fc13e}.hljs-hopscotch .hljs-meta{color:#149b93}.hljs-hopscotch .hljs-function,.hljs-hopscotch .hljs-section,.hljs-hopscotch .hljs-title{color:#1290bf}.hljs-hopscotch .hljs-keyword,.hljs-hopscotch .hljs-selector-tag{color:#c85e7c}.hljs-hopscotch .hljs{display:block;background:#322931;color:#b9b5b8;padding:.5em}.hljs-hopscotch .hljs-emphasis{font-style:italic}.hljs-hopscotch .hljs-strong{font-weight:bold}.hljs-hybrid .hljs{display:block;overflow-x:auto;padding:.5em;background:#1d1f21}.hljs-hybrid .hljs::selection,.hljs-hybrid .hljs span::selection{background:#373b41}.hljs-hybrid .hljs::-moz-selection,.hljs-hybrid .hljs span::-moz-selection{background:#373b41}.hljs-hybrid .hljs{color:#c5c8c6}.hljs-hybrid .hljs-title,.hljs-hybrid .hljs-name{color:#f0c674}.hljs-hybrid .hljs-comment,.hljs-hybrid .hljs-meta,.hljs-hybrid .hljs-meta .hljs-keyword{color:#707880}.hljs-hybrid .hljs-number,.hljs-hybrid .hljs-symbol,.hljs-hybrid .hljs-literal,.hljs-hybrid .hljs-deletion,.hljs-hybrid .hljs-link{color:#cc6666}.hljs-hybrid .hljs-string,.hljs-hybrid .hljs-doctag,.hljs-hybrid .hljs-addition,.hljs-hybrid .hljs-regexp,.hljs-hybrid .hljs-selector-attr,.hljs-hybrid .hljs-selector-pseudo{color:#b5bd68}.hljs-hybrid .hljs-attribute,.hljs-hybrid .hljs-code,.hljs-hybrid .hljs-selector-id{color:#b294bb}.hljs-hybrid .hljs-keyword,.hljs-hybrid .hljs-selector-tag,.hljs-hybrid .hljs-bullet,.hljs-hybrid .hljs-tag{color:#81a2be}.hljs-hybrid .hljs-subst,.hljs-hybrid .hljs-variable,.hljs-hybrid .hljs-template-tag,.hljs-hybrid .hljs-template-variable{color:#8abeb7}.hljs-hybrid .hljs-type,.hljs-hybrid .hljs-built_in,.hljs-hybrid .hljs-builtin-name,.hljs-hybrid .hljs-quote,.hljs-hybrid .hljs-section,.hljs-hybrid .hljs-selector-class{color:#de935f}.hljs-hybrid .hljs-emphasis{font-style:italic}.hljs-hybrid .hljs-strong{font-weight:bold}.hljs-idea .hljs{display:block;overflow-x:auto;padding:.5em;color:#000;background:#fff}.hljs-idea .hljs-subst,.hljs-idea .hljs-title{font-weight:normal;color:#000}.hljs-idea .hljs-comment,.hljs-idea .hljs-quote{color:#808080;font-style:italic}.hljs-idea .hljs-meta{color:#808000}.hljs-idea .hljs-tag{background:#efefef}.hljs-idea .hljs-section,.hljs-idea .hljs-name,.hljs-idea .hljs-literal,.hljs-idea .hljs-keyword,.hljs-idea .hljs-selector-tag,.hljs-idea .hljs-type,.hljs-idea .hljs-selector-id,.hljs-idea .hljs-selector-class{font-weight:bold;color:#000080}.hljs-idea .hljs-attribute,.hljs-idea .hljs-number,.hljs-idea .hljs-regexp,.hljs-idea .hljs-link{font-weight:bold;color:#0000ff}.hljs-idea .hljs-number,.hljs-idea .hljs-regexp,.hljs-idea .hljs-link{font-weight:normal}.hljs-idea .hljs-string{color:#008000;font-weight:bold}.hljs-idea .hljs-symbol,.hljs-idea .hljs-bullet,.hljs-idea .hljs-formula{color:#000;background:#d0eded;font-style:italic}.hljs-idea .hljs-doctag{text-decoration:underline}.hljs-idea .hljs-variable,.hljs-idea .hljs-template-variable{color:#660e7a}.hljs-idea .hljs-addition{background:#baeeba}.hljs-idea .hljs-deletion{background:#ffc8bd}.hljs-idea .hljs-emphasis{font-style:italic}.hljs-idea .hljs-strong{font-weight:bold}.hljs-ir-black .hljs{display:block;overflow-x:auto;padding:.5em;background:#000;color:#f8f8f8}.hljs-ir-black .hljs-comment,.hljs-ir-black .hljs-quote,.hljs-ir-black .hljs-meta{color:#7c7c7c}.hljs-ir-black .hljs-keyword,.hljs-ir-black .hljs-selector-tag,.hljs-ir-black .hljs-tag,.hljs-ir-black .hljs-name{color:#96cbfe}.hljs-ir-black .hljs-attribute,.hljs-ir-black .hljs-selector-id{color:#ffffb6}.hljs-ir-black .hljs-string,.hljs-ir-black .hljs-selector-attr,.hljs-ir-black .hljs-selector-pseudo,.hljs-ir-black .hljs-addition{color:#a8ff60}.hljs-ir-black .hljs-subst{color:#daefa3}.hljs-ir-black .hljs-regexp,.hljs-ir-black .hljs-link{color:#e9c062}.hljs-ir-black .hljs-title,.hljs-ir-black .hljs-section,.hljs-ir-black .hljs-type,.hljs-ir-black .hljs-doctag{color:#ffffb6}.hljs-ir-black .hljs-symbol,.hljs-ir-black .hljs-bullet,.hljs-ir-black .hljs-variable,.hljs-ir-black .hljs-template-variable,.hljs-ir-black .hljs-literal{color:#c6c5fe}.hljs-ir-black .hljs-number,.hljs-ir-black .hljs-deletion{color:#ff73fd}.hljs-ir-black .hljs-emphasis{font-style:italic}.hljs-ir-black .hljs-strong{font-weight:bold}.hljs-kimbie.dark .hljs-comment,.hljs-kimbie.dark .hljs-quote{color:#d6baad}.hljs-kimbie.dark .hljs-variable,.hljs-kimbie.dark .hljs-template-variable,.hljs-kimbie.dark .hljs-tag,.hljs-kimbie.dark .hljs-name,.hljs-kimbie.dark .hljs-selector-id,.hljs-kimbie.dark .hljs-selector-class,.hljs-kimbie.dark .hljs-regexp,.hljs-kimbie.dark .hljs-meta{color:#dc3958}.hljs-kimbie.dark .hljs-number,.hljs-kimbie.dark .hljs-built_in,.hljs-kimbie.dark .hljs-builtin-name,.hljs-kimbie.dark .hljs-literal,.hljs-kimbie.dark .hljs-type,.hljs-kimbie.dark .hljs-params,.hljs-kimbie.dark .hljs-deletion,.hljs-kimbie.dark .hljs-link{color:#f79a32}.hljs-kimbie.dark .hljs-title,.hljs-kimbie.dark .hljs-section,.hljs-kimbie.dark .hljs-attribute{color:#f06431}.hljs-kimbie.dark .hljs-string,.hljs-kimbie.dark .hljs-symbol,.hljs-kimbie.dark .hljs-bullet,.hljs-kimbie.dark .hljs-addition{color:#889b4a}.hljs-kimbie.dark .hljs-keyword,.hljs-kimbie.dark .hljs-selector-tag,.hljs-kimbie.dark .hljs-function{color:#98676a}.hljs-kimbie.dark .hljs{display:block;overflow-x:auto;background:#221a0f;color:#d3af86;padding:.5em}.hljs-kimbie.dark .hljs-emphasis{font-style:italic}.hljs-kimbie.dark .hljs-strong{font-weight:bold}.hljs-kimbie.light .hljs-comment,.hljs-kimbie.light .hljs-quote{color:#a57a4c}.hljs-kimbie.light .hljs-variable,.hljs-kimbie.light .hljs-template-variable,.hljs-kimbie.light .hljs-tag,.hljs-kimbie.light .hljs-name,.hljs-kimbie.light .hljs-selector-id,.hljs-kimbie.light .hljs-selector-class,.hljs-kimbie.light .hljs-regexp,.hljs-kimbie.light .hljs-meta{color:#dc3958}.hljs-kimbie.light .hljs-number,.hljs-kimbie.light .hljs-built_in,.hljs-kimbie.light .hljs-builtin-name,.hljs-kimbie.light .hljs-literal,.hljs-kimbie.light .hljs-type,.hljs-kimbie.light .hljs-params,.hljs-kimbie.light .hljs-deletion,.hljs-kimbie.light .hljs-link{color:#f79a32}.hljs-kimbie.light .hljs-title,.hljs-kimbie.light .hljs-section,.hljs-kimbie.light .hljs-attribute{color:#f06431}.hljs-kimbie.light .hljs-string,.hljs-kimbie.light .hljs-symbol,.hljs-kimbie.light .hljs-bullet,.hljs-kimbie.light .hljs-addition{color:#889b4a}.hljs-kimbie.light .hljs-keyword,.hljs-kimbie.light .hljs-selector-tag,.hljs-kimbie.light .hljs-function{color:#98676a}.hljs-kimbie.light .hljs{display:block;overflow-x:auto;background:#fbebd4;color:#84613d;padding:.5em}.hljs-kimbie.light .hljs-emphasis{font-style:italic}.hljs-kimbie.light .hljs-strong{font-weight:bold}.hljs-magula .hljs{display:block;overflow-x:auto;padding:.5em;background-color:#f4f4f4}.hljs-magula .hljs,.hljs-magula .hljs-subst{color:black}.hljs-magula .hljs-string,.hljs-magula .hljs-title,.hljs-magula .hljs-symbol,.hljs-magula .hljs-bullet,.hljs-magula .hljs-attribute,.hljs-magula .hljs-addition,.hljs-magula .hljs-variable,.hljs-magula .hljs-template-tag,.hljs-magula .hljs-template-variable{color:#050}.hljs-magula .hljs-comment,.hljs-magula .hljs-quote{color:#777}.hljs-magula .hljs-number,.hljs-magula .hljs-regexp,.hljs-magula .hljs-literal,.hljs-magula .hljs-type,.hljs-magula .hljs-link{color:#800}.hljs-magula .hljs-deletion,.hljs-magula .hljs-meta{color:#00e}.hljs-magula .hljs-keyword,.hljs-magula .hljs-selector-tag,.hljs-magula .hljs-doctag,.hljs-magula .hljs-title,.hljs-magula .hljs-section,.hljs-magula .hljs-built_in,.hljs-magula .hljs-tag,.hljs-magula .hljs-name{font-weight:bold;color:navy}.hljs-magula .hljs-emphasis{font-style:italic}.hljs-magula .hljs-strong{font-weight:bold}.hljs-mono-blue .hljs{display:block;overflow-x:auto;padding:.5em;background:#eaeef3}.hljs-mono-blue .hljs{color:#00193a}.hljs-mono-blue .hljs-keyword,.hljs-mono-blue .hljs-selector-tag,.hljs-mono-blue .hljs-title,.hljs-mono-blue .hljs-section,.hljs-mono-blue .hljs-doctag,.hljs-mono-blue .hljs-name,.hljs-mono-blue .hljs-strong{font-weight:bold}.hljs-mono-blue .hljs-comment{color:#738191}.hljs-mono-blue .hljs-string,.hljs-mono-blue .hljs-title,.hljs-mono-blue .hljs-section,.hljs-mono-blue .hljs-built_in,.hljs-mono-blue .hljs-literal,.hljs-mono-blue .hljs-type,.hljs-mono-blue .hljs-addition,.hljs-mono-blue .hljs-tag,.hljs-mono-blue .hljs-quote,.hljs-mono-blue .hljs-name,.hljs-mono-blue .hljs-selector-id,.hljs-mono-blue .hljs-selector-class{color:#0048ab}.hljs-mono-blue .hljs-meta,.hljs-mono-blue .hljs-subst,.hljs-mono-blue .hljs-symbol,.hljs-mono-blue .hljs-regexp,.hljs-mono-blue .hljs-attribute,.hljs-mono-blue .hljs-deletion,.hljs-mono-blue .hljs-variable,.hljs-mono-blue .hljs-template-variable,.hljs-mono-blue .hljs-link,.hljs-mono-blue .hljs-bullet{color:#4c81c9}.hljs-mono-blue .hljs-emphasis{font-style:italic}.hljs-monokai-sublime .hljs{display:block;overflow-x:auto;padding:.5em;background:#23241f}.hljs-monokai-sublime .hljs,.hljs-monokai-sublime .hljs-tag,.hljs-monokai-sublime .hljs-subst{color:#f8f8f2}.hljs-monokai-sublime .hljs-strong,.hljs-monokai-sublime .hljs-emphasis{color:#a8a8a2}.hljs-monokai-sublime .hljs-bullet,.hljs-monokai-sublime .hljs-quote,.hljs-monokai-sublime .hljs-number,.hljs-monokai-sublime .hljs-regexp,.hljs-monokai-sublime .hljs-literal,.hljs-monokai-sublime .hljs-link{color:#ae81ff}.hljs-monokai-sublime .hljs-code,.hljs-monokai-sublime .hljs-title,.hljs-monokai-sublime .hljs-section,.hljs-monokai-sublime .hljs-selector-class{color:#a6e22e}.hljs-monokai-sublime .hljs-strong{font-weight:bold}.hljs-monokai-sublime .hljs-emphasis{font-style:italic}.hljs-monokai-sublime .hljs-keyword,.hljs-monokai-sublime .hljs-selector-tag,.hljs-monokai-sublime .hljs-name,.hljs-monokai-sublime .hljs-attr{color:#f92672}.hljs-monokai-sublime .hljs-symbol,.hljs-monokai-sublime .hljs-attribute{color:#66d9ef}.hljs-monokai-sublime .hljs-params,.hljs-monokai-sublime .hljs-class .hljs-title{color:#f8f8f2}.hljs-monokai-sublime .hljs-string,.hljs-monokai-sublime .hljs-type,.hljs-monokai-sublime .hljs-built_in,.hljs-monokai-sublime .hljs-builtin-name,.hljs-monokai-sublime .hljs-selector-id,.hljs-monokai-sublime .hljs-selector-attr,.hljs-monokai-sublime .hljs-selector-pseudo,.hljs-monokai-sublime .hljs-addition,.hljs-monokai-sublime .hljs-variable,.hljs-monokai-sublime .hljs-template-variable{color:#e6db74}.hljs-monokai-sublime .hljs-comment,.hljs-monokai-sublime .hljs-deletion,.hljs-monokai-sublime .hljs-meta{color:#75715e}.hljs-monokai .hljs{display:block;overflow-x:auto;padding:.5em;background:#272822;color:#ddd}.hljs-monokai .hljs-tag,.hljs-monokai .hljs-keyword,.hljs-monokai .hljs-selector-tag,.hljs-monokai .hljs-literal,.hljs-monokai .hljs-strong,.hljs-monokai .hljs-name{color:#f92672}.hljs-monokai .hljs-code{color:#66d9ef}.hljs-monokai .hljs-class .hljs-title{color:white}.hljs-monokai .hljs-attribute,.hljs-monokai .hljs-symbol,.hljs-monokai .hljs-regexp,.hljs-monokai .hljs-link{color:#bf79db}.hljs-monokai .hljs-string,.hljs-monokai .hljs-bullet,.hljs-monokai .hljs-subst,.hljs-monokai .hljs-title,.hljs-monokai .hljs-section,.hljs-monokai .hljs-emphasis,.hljs-monokai .hljs-type,.hljs-monokai .hljs-built_in,.hljs-monokai .hljs-builtin-name,.hljs-monokai .hljs-selector-attr,.hljs-monokai .hljs-selector-pseudo,.hljs-monokai .hljs-addition,.hljs-monokai .hljs-variable,.hljs-monokai .hljs-template-tag,.hljs-monokai .hljs-template-variable{color:#a6e22e}.hljs-monokai .hljs-comment,.hljs-monokai .hljs-quote,.hljs-monokai .hljs-deletion,.hljs-monokai .hljs-meta{color:#75715e}.hljs-monokai .hljs-keyword,.hljs-monokai .hljs-selector-tag,.hljs-monokai .hljs-literal,.hljs-monokai .hljs-doctag,.hljs-monokai .hljs-title,.hljs-monokai .hljs-section,.hljs-monokai .hljs-type,.hljs-monokai .hljs-selector-id{font-weight:bold}.hljs-obsidian .hljs{display:block;overflow-x:auto;padding:.5em;background:#282b2e}.hljs-obsidian .hljs-keyword,.hljs-obsidian .hljs-selector-tag,.hljs-obsidian .hljs-literal,.hljs-obsidian .hljs-selector-id{color:#93c763}.hljs-obsidian .hljs-number{color:#ffcd22}.hljs-obsidian .hljs{color:#e0e2e4}.hljs-obsidian .hljs-attribute{color:#668bb0}.hljs-obsidian .hljs-code,.hljs-obsidian .hljs-class .hljs-title,.hljs-obsidian .hljs-section{color:white}.hljs-obsidian .hljs-regexp,.hljs-obsidian .hljs-link{color:#d39745}.hljs-obsidian .hljs-meta{color:#557182}.hljs-obsidian .hljs-tag,.hljs-obsidian .hljs-name,.hljs-obsidian .hljs-bullet,.hljs-obsidian .hljs-subst,.hljs-obsidian .hljs-emphasis,.hljs-obsidian .hljs-type,.hljs-obsidian .hljs-built_in,.hljs-obsidian .hljs-selector-attr,.hljs-obsidian .hljs-selector-pseudo,.hljs-obsidian .hljs-addition,.hljs-obsidian .hljs-variable,.hljs-obsidian .hljs-template-tag,.hljs-obsidian .hljs-template-variable{color:#8cbbad}.hljs-obsidian .hljs-string,.hljs-obsidian .hljs-symbol{color:#ec7600}.hljs-obsidian .hljs-comment,.hljs-obsidian .hljs-quote,.hljs-obsidian .hljs-deletion{color:#818e96}.hljs-obsidian .hljs-selector-class{color:#A082BD}.hljs-obsidian .hljs-keyword,.hljs-obsidian .hljs-selector-tag,.hljs-obsidian .hljs-literal,.hljs-obsidian .hljs-doctag,.hljs-obsidian .hljs-title,.hljs-obsidian .hljs-section,.hljs-obsidian .hljs-type,.hljs-obsidian .hljs-name,.hljs-obsidian .hljs-strong{font-weight:bold}.hljs-ocean .hljs-comment,.hljs-ocean .hljs-quote{color:#65737e}.hljs-ocean .hljs-variable,.hljs-ocean .hljs-template-variable,.hljs-ocean .hljs-tag,.hljs-ocean .hljs-name,.hljs-ocean .hljs-selector-id,.hljs-ocean .hljs-selector-class,.hljs-ocean .hljs-regexp,.hljs-ocean .hljs-deletion{color:#bf616a}.hljs-ocean .hljs-number,.hljs-ocean .hljs-built_in,.hljs-ocean .hljs-builtin-name,.hljs-ocean .hljs-literal,.hljs-ocean .hljs-type,.hljs-ocean .hljs-params,.hljs-ocean .hljs-meta,.hljs-ocean .hljs-link{color:#d08770}.hljs-ocean .hljs-attribute{color:#ebcb8b}.hljs-ocean .hljs-string,.hljs-ocean .hljs-symbol,.hljs-ocean .hljs-bullet,.hljs-ocean .hljs-addition{color:#a3be8c}.hljs-ocean .hljs-title,.hljs-ocean .hljs-section{color:#8fa1b3}.hljs-ocean .hljs-keyword,.hljs-ocean .hljs-selector-tag{color:#b48ead}.hljs-ocean .hljs{display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:.5em}.hljs-ocean .hljs-emphasis{font-style:italic}.hljs-ocean .hljs-strong{font-weight:bold}.hljs-paraiso-dark .hljs-comment,.hljs-paraiso-dark .hljs-quote{color:#8d8687}.hljs-paraiso-dark .hljs-variable,.hljs-paraiso-dark .hljs-template-variable,.hljs-paraiso-dark .hljs-tag,.hljs-paraiso-dark .hljs-name,.hljs-paraiso-dark .hljs-selector-id,.hljs-paraiso-dark .hljs-selector-class,.hljs-paraiso-dark .hljs-regexp,.hljs-paraiso-dark .hljs-link,.hljs-paraiso-dark .hljs-meta{color:#ef6155}.hljs-paraiso-dark .hljs-number,.hljs-paraiso-dark .hljs-built_in,.hljs-paraiso-dark .hljs-builtin-name,.hljs-paraiso-dark .hljs-literal,.hljs-paraiso-dark .hljs-type,.hljs-paraiso-dark .hljs-params,.hljs-paraiso-dark .hljs-deletion{color:#f99b15}.hljs-paraiso-dark .hljs-title,.hljs-paraiso-dark .hljs-section,.hljs-paraiso-dark .hljs-attribute{color:#fec418}.hljs-paraiso-dark .hljs-string,.hljs-paraiso-dark .hljs-symbol,.hljs-paraiso-dark .hljs-bullet,.hljs-paraiso-dark .hljs-addition{color:#48b685}.hljs-paraiso-dark .hljs-keyword,.hljs-paraiso-dark .hljs-selector-tag{color:#815ba4}.hljs-paraiso-dark .hljs{display:block;overflow-x:auto;background:#2f1e2e;color:#a39e9b;padding:.5em}.hljs-paraiso-dark .hljs-emphasis{font-style:italic}.hljs-paraiso-dark .hljs-strong{font-weight:bold}.hljs-paraiso-light .hljs-comment,.hljs-paraiso-light .hljs-quote{color:#776e71}.hljs-paraiso-light .hljs-variable,.hljs-paraiso-light .hljs-template-variable,.hljs-paraiso-light .hljs-tag,.hljs-paraiso-light .hljs-name,.hljs-paraiso-light .hljs-selector-id,.hljs-paraiso-light .hljs-selector-class,.hljs-paraiso-light .hljs-regexp,.hljs-paraiso-light .hljs-link,.hljs-paraiso-light .hljs-meta{color:#ef6155}.hljs-paraiso-light .hljs-number,.hljs-paraiso-light .hljs-built_in,.hljs-paraiso-light .hljs-builtin-name,.hljs-paraiso-light .hljs-literal,.hljs-paraiso-light .hljs-type,.hljs-paraiso-light .hljs-params,.hljs-paraiso-light .hljs-deletion{color:#f99b15}.hljs-paraiso-light .hljs-title,.hljs-paraiso-light .hljs-section,.hljs-paraiso-light .hljs-attribute{color:#fec418}.hljs-paraiso-light .hljs-string,.hljs-paraiso-light .hljs-symbol,.hljs-paraiso-light .hljs-bullet,.hljs-paraiso-light .hljs-addition{color:#48b685}.hljs-paraiso-light .hljs-keyword,.hljs-paraiso-light .hljs-selector-tag{color:#815ba4}.hljs-paraiso-light .hljs{display:block;overflow-x:auto;background:#e7e9db;color:#4f424c;padding:.5em}.hljs-paraiso-light .hljs-emphasis{font-style:italic}.hljs-paraiso-light .hljs-strong{font-weight:bold}.hljs-purebasic .hljs{display:block;overflow-x:auto;padding:.5em;background:#FFFFDF}.hljs-purebasic .hljs,.hljs-purebasic .hljs-type,.hljs-purebasic .hljs-function,.hljs-purebasic .hljs-name,.hljs-purebasic .hljs-number,.hljs-purebasic .hljs-attr,.hljs-purebasic .hljs-params,.hljs-purebasic .hljs-subst{color:#000000}.hljs-purebasic .hljs-comment,.hljs-purebasic .hljs-regexp,.hljs-purebasic .hljs-section,.hljs-purebasic .hljs-selector-pseudo,.hljs-purebasic .hljs-addition{color:#00AAAA}.hljs-purebasic .hljs-title,.hljs-purebasic .hljs-tag,.hljs-purebasic .hljs-variable,.hljs-purebasic .hljs-code{color:#006666}.hljs-purebasic .hljs-keyword,.hljs-purebasic .hljs-class,.hljs-purebasic .hljs-meta-keyword,.hljs-purebasic .hljs-selector-class,.hljs-purebasic .hljs-built_in,.hljs-purebasic .hljs-builtin-name{color:#006666;font-weight:bold}.hljs-purebasic .hljs-string,.hljs-purebasic .hljs-selector-attr{color:#0080FF}.hljs-purebasic .hljs-symbol,.hljs-purebasic .hljs-link,.hljs-purebasic .hljs-deletion,.hljs-purebasic .hljs-attribute{color:#924B72}.hljs-purebasic .hljs-meta,.hljs-purebasic .hljs-literal,.hljs-purebasic .hljs-selector-id{color:#924B72;font-weight:bold}.hljs-purebasic .hljs-strong,.hljs-purebasic .hljs-name{font-weight:bold}.hljs-purebasic .hljs-emphasis{font-style:italic}.hljs-qtcreator_dark .hljs{display:block;overflow-x:auto;padding:.5em;background:#000000}.hljs-qtcreator_dark .hljs,.hljs-qtcreator_dark .hljs-subst,.hljs-qtcreator_dark .hljs-tag,.hljs-qtcreator_dark .hljs-title{color:#aaaaaa}.hljs-qtcreator_dark .hljs-strong,.hljs-qtcreator_dark .hljs-emphasis{color:#a8a8a2}.hljs-qtcreator_dark .hljs-bullet,.hljs-qtcreator_dark .hljs-quote,.hljs-qtcreator_dark .hljs-number,.hljs-qtcreator_dark .hljs-regexp,.hljs-qtcreator_dark .hljs-literal{color:#ff55ff}.hljs-qtcreator_dark .hljs-code .hljs-selector-class{color:#aaaaff}.hljs-qtcreator_dark .hljs-emphasis,.hljs-qtcreator_dark .hljs-stronge,.hljs-qtcreator_dark .hljs-type{font-style:italic}.hljs-qtcreator_dark .hljs-keyword,.hljs-qtcreator_dark .hljs-selector-tag,.hljs-qtcreator_dark .hljs-function,.hljs-qtcreator_dark .hljs-section,.hljs-qtcreator_dark .hljs-symbol,.hljs-qtcreator_dark .hljs-name{color:#ffff55}.hljs-qtcreator_dark .hljs-attribute{color:#ff5555}.hljs-qtcreator_dark .hljs-variable,.hljs-qtcreator_dark .hljs-params,.hljs-qtcreator_dark .hljs-class .hljs-title{color:#8888ff}.hljs-qtcreator_dark .hljs-string,.hljs-qtcreator_dark .hljs-selector-id,.hljs-qtcreator_dark .hljs-selector-attr,.hljs-qtcreator_dark .hljs-selector-pseudo,.hljs-qtcreator_dark .hljs-type,.hljs-qtcreator_dark .hljs-built_in,.hljs-qtcreator_dark .hljs-builtin-name,.hljs-qtcreator_dark .hljs-template-tag,.hljs-qtcreator_dark .hljs-template-variable,.hljs-qtcreator_dark .hljs-addition,.hljs-qtcreator_dark .hljs-link{color:#ff55ff}.hljs-qtcreator_dark .hljs-comment,.hljs-qtcreator_dark .hljs-meta,.hljs-qtcreator_dark .hljs-deletion{color:#55ffff}.hljs-qtcreator_light .hljs{display:block;overflow-x:auto;padding:.5em;background:#ffffff}.hljs-qtcreator_light .hljs,.hljs-qtcreator_light .hljs-subst,.hljs-qtcreator_light .hljs-tag,.hljs-qtcreator_light .hljs-title{color:#000000}.hljs-qtcreator_light .hljs-strong,.hljs-qtcreator_light .hljs-emphasis{color:#000000}.hljs-qtcreator_light .hljs-bullet,.hljs-qtcreator_light .hljs-quote,.hljs-qtcreator_light .hljs-number,.hljs-qtcreator_light .hljs-regexp,.hljs-qtcreator_light .hljs-literal{color:#000080}.hljs-qtcreator_light .hljs-code .hljs-selector-class{color:#800080}.hljs-qtcreator_light .hljs-emphasis,.hljs-qtcreator_light .hljs-stronge,.hljs-qtcreator_light .hljs-type{font-style:italic}.hljs-qtcreator_light .hljs-keyword,.hljs-qtcreator_light .hljs-selector-tag,.hljs-qtcreator_light .hljs-function,.hljs-qtcreator_light .hljs-section,.hljs-qtcreator_light .hljs-symbol,.hljs-qtcreator_light .hljs-name{color:#808000}.hljs-qtcreator_light .hljs-attribute{color:#800000}.hljs-qtcreator_light .hljs-variable,.hljs-qtcreator_light .hljs-params,.hljs-qtcreator_light .hljs-class .hljs-title{color:#0055AF}.hljs-qtcreator_light .hljs-string,.hljs-qtcreator_light .hljs-selector-id,.hljs-qtcreator_light .hljs-selector-attr,.hljs-qtcreator_light .hljs-selector-pseudo,.hljs-qtcreator_light .hljs-type,.hljs-qtcreator_light .hljs-built_in,.hljs-qtcreator_light .hljs-builtin-name,.hljs-qtcreator_light .hljs-template-tag,.hljs-qtcreator_light .hljs-template-variable,.hljs-qtcreator_light .hljs-addition,.hljs-qtcreator_light .hljs-link{color:#008000}.hljs-qtcreator_light .hljs-comment,.hljs-qtcreator_light .hljs-meta,.hljs-qtcreator_light .hljs-deletion{color:#008000}.hljs-railscasts .hljs{display:block;overflow-x:auto;padding:.5em;background:#232323;color:#e6e1dc}.hljs-railscasts .hljs-comment,.hljs-railscasts .hljs-quote{color:#bc9458;font-style:italic}.hljs-railscasts .hljs-keyword,.hljs-railscasts .hljs-selector-tag{color:#c26230}.hljs-railscasts .hljs-string,.hljs-railscasts .hljs-number,.hljs-railscasts .hljs-regexp,.hljs-railscasts .hljs-variable,.hljs-railscasts .hljs-template-variable{color:#a5c261}.hljs-railscasts .hljs-subst{color:#519f50}.hljs-railscasts .hljs-tag,.hljs-railscasts .hljs-name{color:#e8bf6a}.hljs-railscasts .hljs-type{color:#da4939}.hljs-railscasts .hljs-symbol,.hljs-railscasts .hljs-bullet,.hljs-railscasts .hljs-built_in,.hljs-railscasts .hljs-builtin-name,.hljs-railscasts .hljs-attr,.hljs-railscasts .hljs-link{color:#6d9cbe}.hljs-railscasts .hljs-params{color:#d0d0ff}.hljs-railscasts .hljs-attribute{color:#cda869}.hljs-railscasts .hljs-meta{color:#9b859d}.hljs-railscasts .hljs-title,.hljs-railscasts .hljs-section{color:#ffc66d}.hljs-railscasts .hljs-addition{background-color:#144212;color:#e6e1dc;display:inline-block;width:100%}.hljs-railscasts .hljs-deletion{background-color:#600;color:#e6e1dc;display:inline-block;width:100%}.hljs-railscasts .hljs-selector-class{color:#9b703f}.hljs-railscasts .hljs-selector-id{color:#8b98ab}.hljs-railscasts .hljs-emphasis{font-style:italic}.hljs-railscasts .hljs-strong{font-weight:bold}.hljs-railscasts .hljs-link{text-decoration:underline}.hljs-rainbow .hljs{display:block;overflow-x:auto;padding:.5em;background:#474949;color:#d1d9e1}.hljs-rainbow .hljs-comment,.hljs-rainbow .hljs-quote{color:#969896;font-style:italic}.hljs-rainbow .hljs-keyword,.hljs-rainbow .hljs-selector-tag,.hljs-rainbow .hljs-literal,.hljs-rainbow .hljs-type,.hljs-rainbow .hljs-addition{color:#cc99cc}.hljs-rainbow .hljs-number,.hljs-rainbow .hljs-selector-attr,.hljs-rainbow .hljs-selector-pseudo{color:#f99157}.hljs-rainbow .hljs-string,.hljs-rainbow .hljs-doctag,.hljs-rainbow .hljs-regexp{color:#8abeb7}.hljs-rainbow .hljs-title,.hljs-rainbow .hljs-name,.hljs-rainbow .hljs-section,.hljs-rainbow .hljs-built_in{color:#b5bd68}.hljs-rainbow .hljs-variable,.hljs-rainbow .hljs-template-variable,.hljs-rainbow .hljs-selector-id,.hljs-rainbow .hljs-class .hljs-title{color:#ffcc66}.hljs-rainbow .hljs-section,.hljs-rainbow .hljs-name,.hljs-rainbow .hljs-strong{font-weight:bold}.hljs-rainbow .hljs-symbol,.hljs-rainbow .hljs-bullet,.hljs-rainbow .hljs-subst,.hljs-rainbow .hljs-meta,.hljs-rainbow .hljs-link{color:#f99157}.hljs-rainbow .hljs-deletion{color:#dc322f}.hljs-rainbow .hljs-formula{background:#eee8d5}.hljs-rainbow .hljs-attr,.hljs-rainbow .hljs-attribute{color:#81a2be}.hljs-rainbow .hljs-emphasis{font-style:italic}.hljs-school-book .hljs{display:block;overflow-x:auto;padding:15px .5em .5em 30px;font-size:11px;line-height:16px}.hljs-school-book pre{background:#f6f6ae url(school-book.png);border-top:solid 2px #d2e8b9;border-bottom:solid 1px #d2e8b9}.hljs-school-book .hljs-keyword,.hljs-school-book .hljs-selector-tag,.hljs-school-book .hljs-literal{color:#005599;font-weight:bold}.hljs-school-book .hljs,.hljs-school-book .hljs-subst{color:#3e5915}.hljs-school-book .hljs-string,.hljs-school-book .hljs-title,.hljs-school-book .hljs-section,.hljs-school-book .hljs-type,.hljs-school-book .hljs-symbol,.hljs-school-book .hljs-bullet,.hljs-school-book .hljs-attribute,.hljs-school-book .hljs-built_in,.hljs-school-book .hljs-builtin-name,.hljs-school-book .hljs-addition,.hljs-school-book .hljs-variable,.hljs-school-book .hljs-template-tag,.hljs-school-book .hljs-template-variable,.hljs-school-book .hljs-link{color:#2c009f}.hljs-school-book .hljs-comment,.hljs-school-book .hljs-quote,.hljs-school-book .hljs-deletion,.hljs-school-book .hljs-meta{color:#e60415}.hljs-school-book .hljs-keyword,.hljs-school-book .hljs-selector-tag,.hljs-school-book .hljs-literal,.hljs-school-book .hljs-doctag,.hljs-school-book .hljs-title,.hljs-school-book .hljs-section,.hljs-school-book .hljs-type,.hljs-school-book .hljs-name,.hljs-school-book .hljs-selector-id,.hljs-school-book .hljs-strong{font-weight:bold}.hljs-school-book .hljs-emphasis{font-style:italic}.hljs-solarized-dark .hljs{display:block;overflow-x:auto;padding:.5em;background:#002b36;color:#839496}.hljs-solarized-dark .hljs-comment,.hljs-solarized-dark .hljs-quote{color:#586e75}.hljs-solarized-dark .hljs-keyword,.hljs-solarized-dark .hljs-selector-tag,.hljs-solarized-dark .hljs-addition{color:#859900}.hljs-solarized-dark .hljs-number,.hljs-solarized-dark .hljs-string,.hljs-solarized-dark .hljs-meta .hljs-meta-string,.hljs-solarized-dark .hljs-literal,.hljs-solarized-dark .hljs-doctag,.hljs-solarized-dark .hljs-regexp{color:#2aa198}.hljs-solarized-dark .hljs-title,.hljs-solarized-dark .hljs-section,.hljs-solarized-dark .hljs-name,.hljs-solarized-dark .hljs-selector-id,.hljs-solarized-dark .hljs-selector-class{color:#268bd2}.hljs-solarized-dark .hljs-attribute,.hljs-solarized-dark .hljs-attr,.hljs-solarized-dark .hljs-variable,.hljs-solarized-dark .hljs-template-variable,.hljs-solarized-dark .hljs-class .hljs-title,.hljs-solarized-dark .hljs-type{color:#b58900}.hljs-solarized-dark .hljs-symbol,.hljs-solarized-dark .hljs-bullet,.hljs-solarized-dark .hljs-subst,.hljs-solarized-dark .hljs-meta,.hljs-solarized-dark .hljs-meta .hljs-keyword,.hljs-solarized-dark .hljs-selector-attr,.hljs-solarized-dark .hljs-selector-pseudo,.hljs-solarized-dark .hljs-link{color:#cb4b16}.hljs-solarized-dark .hljs-built_in,.hljs-solarized-dark .hljs-deletion{color:#dc322f}.hljs-solarized-dark .hljs-formula{background:#073642}.hljs-solarized-dark .hljs-emphasis{font-style:italic}.hljs-solarized-dark .hljs-strong{font-weight:bold}.hljs-solarized-light .hljs{display:block;overflow-x:auto;padding:.5em;background:#fdf6e3;color:#657b83}.hljs-solarized-light .hljs-comment,.hljs-solarized-light .hljs-quote{color:#93a1a1}.hljs-solarized-light .hljs-keyword,.hljs-solarized-light .hljs-selector-tag,.hljs-solarized-light .hljs-addition{color:#859900}.hljs-solarized-light .hljs-number,.hljs-solarized-light .hljs-string,.hljs-solarized-light .hljs-meta .hljs-meta-string,.hljs-solarized-light .hljs-literal,.hljs-solarized-light .hljs-doctag,.hljs-solarized-light .hljs-regexp{color:#2aa198}.hljs-solarized-light .hljs-title,.hljs-solarized-light .hljs-section,.hljs-solarized-light .hljs-name,.hljs-solarized-light .hljs-selector-id,.hljs-solarized-light .hljs-selector-class{color:#268bd2}.hljs-solarized-light .hljs-attribute,.hljs-solarized-light .hljs-attr,.hljs-solarized-light .hljs-variable,.hljs-solarized-light .hljs-template-variable,.hljs-solarized-light .hljs-class .hljs-title,.hljs-solarized-light .hljs-type{color:#b58900}.hljs-solarized-light .hljs-symbol,.hljs-solarized-light .hljs-bullet,.hljs-solarized-light .hljs-subst,.hljs-solarized-light .hljs-meta,.hljs-solarized-light .hljs-meta .hljs-keyword,.hljs-solarized-light .hljs-selector-attr,.hljs-solarized-light .hljs-selector-pseudo,.hljs-solarized-light .hljs-link{color:#cb4b16}.hljs-solarized-light .hljs-built_in,.hljs-solarized-light .hljs-deletion{color:#dc322f}.hljs-solarized-light .hljs-formula{background:#eee8d5}.hljs-solarized-light .hljs-emphasis{font-style:italic}.hljs-solarized-light .hljs-strong{font-weight:bold}.hljs-sunburst .hljs{display:block;overflow-x:auto;padding:.5em;background:#000;color:#f8f8f8}.hljs-sunburst .hljs-comment,.hljs-sunburst .hljs-quote{color:#aeaeae;font-style:italic}.hljs-sunburst .hljs-keyword,.hljs-sunburst .hljs-selector-tag,.hljs-sunburst .hljs-type{color:#e28964}.hljs-sunburst .hljs-string{color:#65b042}.hljs-sunburst .hljs-subst{color:#daefa3}.hljs-sunburst .hljs-regexp,.hljs-sunburst .hljs-link{color:#e9c062}.hljs-sunburst .hljs-title,.hljs-sunburst .hljs-section,.hljs-sunburst .hljs-tag,.hljs-sunburst .hljs-name{color:#89bdff}.hljs-sunburst .hljs-class .hljs-title,.hljs-sunburst .hljs-doctag{text-decoration:underline}.hljs-sunburst .hljs-symbol,.hljs-sunburst .hljs-bullet,.hljs-sunburst .hljs-number{color:#3387cc}.hljs-sunburst .hljs-params,.hljs-sunburst .hljs-variable,.hljs-sunburst .hljs-template-variable{color:#3e87e3}.hljs-sunburst .hljs-attribute{color:#cda869}.hljs-sunburst .hljs-meta{color:#8996a8}.hljs-sunburst .hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}.hljs-sunburst .hljs-addition{background-color:#253b22;color:#f8f8f8}.hljs-sunburst .hljs-deletion{background-color:#420e09;color:#f8f8f8}.hljs-sunburst .hljs-selector-class{color:#9b703f}.hljs-sunburst .hljs-selector-id{color:#8b98ab}.hljs-sunburst .hljs-emphasis{font-style:italic}.hljs-sunburst .hljs-strong{font-weight:bold}.hljs-tomorrow-night-blue .hljs-comment,.hljs-tomorrow-night-blue .hljs-quote{color:#7285b7}.hljs-tomorrow-night-blue .hljs-variable,.hljs-tomorrow-night-blue .hljs-template-variable,.hljs-tomorrow-night-blue .hljs-tag,.hljs-tomorrow-night-blue .hljs-name,.hljs-tomorrow-night-blue .hljs-selector-id,.hljs-tomorrow-night-blue .hljs-selector-class,.hljs-tomorrow-night-blue .hljs-regexp,.hljs-tomorrow-night-blue .hljs-deletion{color:#ff9da4}.hljs-tomorrow-night-blue .hljs-number,.hljs-tomorrow-night-blue .hljs-built_in,.hljs-tomorrow-night-blue .hljs-builtin-name,.hljs-tomorrow-night-blue .hljs-literal,.hljs-tomorrow-night-blue .hljs-type,.hljs-tomorrow-night-blue .hljs-params,.hljs-tomorrow-night-blue .hljs-meta,.hljs-tomorrow-night-blue .hljs-link{color:#ffc58f}.hljs-tomorrow-night-blue .hljs-attribute{color:#ffeead}.hljs-tomorrow-night-blue .hljs-string,.hljs-tomorrow-night-blue .hljs-symbol,.hljs-tomorrow-night-blue .hljs-bullet,.hljs-tomorrow-night-blue .hljs-addition{color:#d1f1a9}.hljs-tomorrow-night-blue .hljs-title,.hljs-tomorrow-night-blue .hljs-section{color:#bbdaff}.hljs-tomorrow-night-blue .hljs-keyword,.hljs-tomorrow-night-blue .hljs-selector-tag{color:#ebbbff}.hljs-tomorrow-night-blue .hljs{display:block;overflow-x:auto;background:#002451;color:white;padding:.5em}.hljs-tomorrow-night-blue .hljs-emphasis{font-style:italic}.hljs-tomorrow-night-blue .hljs-strong{font-weight:bold}.hljs-tomorrow-night-bright .hljs-comment,.hljs-tomorrow-night-bright .hljs-quote{color:#969896}.hljs-tomorrow-night-bright .hljs-variable,.hljs-tomorrow-night-bright .hljs-template-variable,.hljs-tomorrow-night-bright .hljs-tag,.hljs-tomorrow-night-bright .hljs-name,.hljs-tomorrow-night-bright .hljs-selector-id,.hljs-tomorrow-night-bright .hljs-selector-class,.hljs-tomorrow-night-bright .hljs-regexp,.hljs-tomorrow-night-bright .hljs-deletion{color:#d54e53}.hljs-tomorrow-night-bright .hljs-number,.hljs-tomorrow-night-bright .hljs-built_in,.hljs-tomorrow-night-bright .hljs-builtin-name,.hljs-tomorrow-night-bright .hljs-literal,.hljs-tomorrow-night-bright .hljs-type,.hljs-tomorrow-night-bright .hljs-params,.hljs-tomorrow-night-bright .hljs-meta,.hljs-tomorrow-night-bright .hljs-link{color:#e78c45}.hljs-tomorrow-night-bright .hljs-attribute{color:#e7c547}.hljs-tomorrow-night-bright .hljs-string,.hljs-tomorrow-night-bright .hljs-symbol,.hljs-tomorrow-night-bright .hljs-bullet,.hljs-tomorrow-night-bright .hljs-addition{color:#b9ca4a}.hljs-tomorrow-night-bright .hljs-title,.hljs-tomorrow-night-bright .hljs-section{color:#7aa6da}.hljs-tomorrow-night-bright .hljs-keyword,.hljs-tomorrow-night-bright .hljs-selector-tag{color:#c397d8}.hljs-tomorrow-night-bright .hljs{display:block;overflow-x:auto;background:black;color:#eaeaea;padding:.5em}.hljs-tomorrow-night-bright .hljs-emphasis{font-style:italic}.hljs-tomorrow-night-bright .hljs-strong{font-weight:bold}.hljs-tomorrow-night-eighties .hljs-comment,.hljs-tomorrow-night-eighties .hljs-quote{color:#999999}.hljs-tomorrow-night-eighties .hljs-variable,.hljs-tomorrow-night-eighties .hljs-template-variable,.hljs-tomorrow-night-eighties .hljs-tag,.hljs-tomorrow-night-eighties .hljs-name,.hljs-tomorrow-night-eighties .hljs-selector-id,.hljs-tomorrow-night-eighties .hljs-selector-class,.hljs-tomorrow-night-eighties .hljs-regexp,.hljs-tomorrow-night-eighties .hljs-deletion{color:#f2777a}.hljs-tomorrow-night-eighties .hljs-number,.hljs-tomorrow-night-eighties .hljs-built_in,.hljs-tomorrow-night-eighties .hljs-builtin-name,.hljs-tomorrow-night-eighties .hljs-literal,.hljs-tomorrow-night-eighties .hljs-type,.hljs-tomorrow-night-eighties .hljs-params,.hljs-tomorrow-night-eighties .hljs-meta,.hljs-tomorrow-night-eighties .hljs-link{color:#f99157}.hljs-tomorrow-night-eighties .hljs-attribute{color:#ffcc66}.hljs-tomorrow-night-eighties .hljs-string,.hljs-tomorrow-night-eighties .hljs-symbol,.hljs-tomorrow-night-eighties .hljs-bullet,.hljs-tomorrow-night-eighties .hljs-addition{color:#99cc99}.hljs-tomorrow-night-eighties .hljs-title,.hljs-tomorrow-night-eighties .hljs-section{color:#6699cc}.hljs-tomorrow-night-eighties .hljs-keyword,.hljs-tomorrow-night-eighties .hljs-selector-tag{color:#cc99cc}.hljs-tomorrow-night-eighties .hljs{display:block;overflow-x:auto;background:#2d2d2d;color:#cccccc;padding:.5em}.hljs-tomorrow-night-eighties .hljs-emphasis{font-style:italic}.hljs-tomorrow-night-eighties .hljs-strong{font-weight:bold}.hljs-tomorrow-night .hljs-comment,.hljs-tomorrow-night .hljs-quote{color:#969896}.hljs-tomorrow-night .hljs-variable,.hljs-tomorrow-night .hljs-template-variable,.hljs-tomorrow-night .hljs-tag,.hljs-tomorrow-night .hljs-name,.hljs-tomorrow-night .hljs-selector-id,.hljs-tomorrow-night .hljs-selector-class,.hljs-tomorrow-night .hljs-regexp,.hljs-tomorrow-night .hljs-deletion{color:#cc6666}.hljs-tomorrow-night .hljs-number,.hljs-tomorrow-night .hljs-built_in,.hljs-tomorrow-night .hljs-builtin-name,.hljs-tomorrow-night .hljs-literal,.hljs-tomorrow-night .hljs-type,.hljs-tomorrow-night .hljs-params,.hljs-tomorrow-night .hljs-meta,.hljs-tomorrow-night .hljs-link{color:#de935f}.hljs-tomorrow-night .hljs-attribute{color:#f0c674}.hljs-tomorrow-night .hljs-string,.hljs-tomorrow-night .hljs-symbol,.hljs-tomorrow-night .hljs-bullet,.hljs-tomorrow-night .hljs-addition{color:#b5bd68}.hljs-tomorrow-night .hljs-title,.hljs-tomorrow-night .hljs-section{color:#81a2be}.hljs-tomorrow-night .hljs-keyword,.hljs-tomorrow-night .hljs-selector-tag{color:#b294bb}.hljs-tomorrow-night .hljs{display:block;overflow-x:auto;background:#1d1f21;color:#c5c8c6;padding:.5em}.hljs-tomorrow-night .hljs-emphasis{font-style:italic}.hljs-tomorrow-night .hljs-strong{font-weight:bold}.hljs-tomorrow .hljs-comment,.hljs-tomorrow .hljs-quote{color:#8e908c}.hljs-tomorrow .hljs-variable,.hljs-tomorrow .hljs-template-variable,.hljs-tomorrow .hljs-tag,.hljs-tomorrow .hljs-name,.hljs-tomorrow .hljs-selector-id,.hljs-tomorrow .hljs-selector-class,.hljs-tomorrow .hljs-regexp,.hljs-tomorrow .hljs-deletion{color:#c82829}.hljs-tomorrow .hljs-number,.hljs-tomorrow .hljs-built_in,.hljs-tomorrow .hljs-builtin-name,.hljs-tomorrow .hljs-literal,.hljs-tomorrow .hljs-type,.hljs-tomorrow .hljs-params,.hljs-tomorrow .hljs-meta,.hljs-tomorrow .hljs-link{color:#f5871f}.hljs-tomorrow .hljs-attribute{color:#eab700}.hljs-tomorrow .hljs-string,.hljs-tomorrow .hljs-symbol,.hljs-tomorrow .hljs-bullet,.hljs-tomorrow .hljs-addition{color:#718c00}.hljs-tomorrow .hljs-title,.hljs-tomorrow .hljs-section{color:#4271ae}.hljs-tomorrow .hljs-keyword,.hljs-tomorrow .hljs-selector-tag{color:#8959a8}.hljs-tomorrow .hljs{display:block;overflow-x:auto;background:white;color:#4d4d4c;padding:.5em}.hljs-tomorrow .hljs-emphasis{font-style:italic}.hljs-tomorrow .hljs-strong{font-weight:bold}.hljs-vs .hljs{display:block;overflow-x:auto;padding:.5em;background:white;color:black}.hljs-vs .hljs-comment,.hljs-vs .hljs-quote,.hljs-vs .hljs-variable{color:#008000}.hljs-vs .hljs-keyword,.hljs-vs .hljs-selector-tag,.hljs-vs .hljs-built_in,.hljs-vs .hljs-name,.hljs-vs .hljs-tag{color:#00f}.hljs-vs .hljs-string,.hljs-vs .hljs-title,.hljs-vs .hljs-section,.hljs-vs .hljs-attribute,.hljs-vs .hljs-literal,.hljs-vs .hljs-template-tag,.hljs-vs .hljs-template-variable,.hljs-vs .hljs-type,.hljs-vs .hljs-addition{color:#a31515}.hljs-vs .hljs-deletion,.hljs-vs .hljs-selector-attr,.hljs-vs .hljs-selector-pseudo,.hljs-vs .hljs-meta{color:#2b91af}.hljs-vs .hljs-doctag{color:#808080}.hljs-vs .hljs-attr{color:#f00}.hljs-vs .hljs-symbol,.hljs-vs .hljs-bullet,.hljs-vs .hljs-link{color:#00b0e8}.hljs-vs .hljs-emphasis{font-style:italic}.hljs-vs .hljs-strong{font-weight:bold}.hljs-xcode .hljs{display:block;overflow-x:auto;padding:.5em;background:#fff;color:black}.hljs-xcode .hljs-comment,.hljs-xcode .hljs-quote{color:#006a00}.hljs-xcode .hljs-keyword,.hljs-xcode .hljs-selector-tag,.hljs-xcode .hljs-literal{color:#aa0d91}.hljs-xcode .hljs-name{color:#008}.hljs-xcode .hljs-variable,.hljs-xcode .hljs-template-variable{color:#660}.hljs-xcode .hljs-string{color:#c41a16}.hljs-xcode .hljs-regexp,.hljs-xcode .hljs-link{color:#080}.hljs-xcode .hljs-title,.hljs-xcode .hljs-tag,.hljs-xcode .hljs-symbol,.hljs-xcode .hljs-bullet,.hljs-xcode .hljs-number,.hljs-xcode .hljs-meta{color:#1c00cf}.hljs-xcode .hljs-section,.hljs-xcode .hljs-class .hljs-title,.hljs-xcode .hljs-type,.hljs-xcode .hljs-attr,.hljs-xcode .hljs-built_in,.hljs-xcode .hljs-builtin-name,.hljs-xcode .hljs-params{color:#5c2699}.hljs-xcode .hljs-attribute,.hljs-xcode .hljs-subst{color:#000}.hljs-xcode .hljs-formula{background-color:#eee;font-style:italic}.hljs-xcode .hljs-addition{background-color:#baeeba}.hljs-xcode .hljs-deletion{background-color:#ffc8bd}.hljs-xcode .hljs-selector-id,.hljs-xcode .hljs-selector-class{color:#9b703f}.hljs-xcode .hljs-doctag,.hljs-xcode .hljs-strong{font-weight:bold}.hljs-xcode .hljs-emphasis{font-style:italic}.hljs-xt256 .hljs{display:block;overflow-x:auto;color:#eaeaea;background:#000;padding:.5}.hljs-xt256 .hljs-subst{color:#eaeaea}.hljs-xt256 .hljs-emphasis{font-style:italic}.hljs-xt256 .hljs-strong{font-weight:bold}.hljs-xt256 .hljs-builtin-name,.hljs-xt256 .hljs-type{color:#eaeaea}.hljs-xt256 .hljs-params{color:#da0000}.hljs-xt256 .hljs-literal,.hljs-xt256 .hljs-number,.hljs-xt256 .hljs-name{color:#ff0000;font-weight:bolder}.hljs-xt256 .hljs-comment{color:#969896}.hljs-xt256 .hljs-selector-id,.hljs-xt256 .hljs-quote{color:#00ffff}.hljs-xt256 .hljs-template-variable,.hljs-xt256 .hljs-variable,.hljs-xt256 .hljs-title{color:#00ffff;font-weight:bold}.hljs-xt256 .hljs-selector-class,.hljs-xt256 .hljs-keyword,.hljs-xt256 .hljs-symbol{color:#fff000}.hljs-xt256 .hljs-string,.hljs-xt256 .hljs-bullet{color:#00ff00}.hljs-xt256 .hljs-tag,.hljs-xt256 .hljs-section{color:#000fff}.hljs-xt256 .hljs-selector-tag{color:#000fff;font-weight:bold}.hljs-xt256 .hljs-attribute,.hljs-xt256 .hljs-built_in,.hljs-xt256 .hljs-regexp,.hljs-xt256 .hljs-link{color:#ff00ff}.hljs-xt256 .hljs-meta{color:#fff;font-weight:bolder}.hljs-zenburn .hljs{display:block;overflow-x:auto;padding:.5em;background:#3f3f3f;color:#dcdcdc}.hljs-zenburn .hljs-keyword,.hljs-zenburn .hljs-selector-tag,.hljs-zenburn .hljs-tag{color:#e3ceab}.hljs-zenburn .hljs-template-tag{color:#dcdcdc}.hljs-zenburn .hljs-number{color:#8cd0d3}.hljs-zenburn .hljs-variable,.hljs-zenburn .hljs-template-variable,.hljs-zenburn .hljs-attribute{color:#efdcbc}.hljs-zenburn .hljs-literal{color:#efefaf}.hljs-zenburn .hljs-subst{color:#8f8f8f}.hljs-zenburn .hljs-title,.hljs-zenburn .hljs-name,.hljs-zenburn .hljs-selector-id,.hljs-zenburn .hljs-selector-class,.hljs-zenburn .hljs-section,.hljs-zenburn .hljs-type{color:#efef8f}.hljs-zenburn .hljs-symbol,.hljs-zenburn .hljs-bullet,.hljs-zenburn .hljs-link{color:#dca3a3}.hljs-zenburn .hljs-deletion,.hljs-zenburn .hljs-string,.hljs-zenburn .hljs-built_in,.hljs-zenburn .hljs-builtin-name{color:#cc9393}.hljs-zenburn .hljs-addition,.hljs-zenburn .hljs-comment,.hljs-zenburn .hljs-quote,.hljs-zenburn .hljs-meta{color:#7f9f7f}.hljs-zenburn .hljs-emphasis{font-style:italic}.hljs-zenburn .hljs-strong{font-weight:bold}</style>

    <meta name="keywords" content="remark,remarkjs,markdown,slideshow,presentation">
    <meta name="description" content="A simple, in-browser, markdown-driven slideshow tool.">


    <title>Apunts d'algorsmica</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, 
      .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .red { color: #fa0000; }
      .green { color: #00fa77; }
      .blue { color: #0000fa; }
      .light { color: #aaaaaa; }
      .bold { font-family: 'Yanone Kaffeesatz'; font-size: 1.5em;
              line-height: 0.9em;}
      .code {font-family: 'Ubuntu Mono';}
      .footnote {
        bottom: 12px;
        left: 20px;
        font-size: 0.75em;
        line-height: 0.4em;
      }

      .summary {
        background:#000066;
        color: #ffffcc;
      }

      .exam {
        background: #800000;
        color: #ffffcc;
        text-shadow: 0 0 20px #333;
      }

      .inverse {
        background: #800000;
        color: #ffffcc;
      }

      .inverse h1, 
      .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }
      .pull-left {
        float: left;
        width: 47%;
      }
      .pull-right {
        float: right;
        width: 47%;
      }
      .pull-right ~ p {
        clear: both;
      }
      #slideshow .slide .content code {
        font-size: 0.8em;
      }
      #slideshow .slide .content pre code {
        font-size: 0.9em;
        padding: 15px;
      }
      .inverse {
        background: #272822;
        color: #777872;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }

      /* Slide-specific styling */
      #slide-inverse .footnote {
        bottom: 12px;
        left: 20px;
        font-size: 0.6em;
      }
      #slide-how .slides {
        font-size: 0.9em;
        position: absolute;
        top:  151px;
        right: 140px;
      }
      #slide-how .slides h3 {
        margin-top: 0.2em;
      }
      #slide-how .slides .first, #slide-how .slides .second {
        padding: 1px 20px;
        height: 90px;
        width: 120px;
        -moz-box-shadow: 0 0 10px #777;
        -webkit-box-shadow: 0 0 10px #777;
        box-shadow: 0 0 10px #777;
      }
      #slide-how .slides .first {
        background: #fff;
        position: absolute;
        top: 20%;
        left: 20%;
        z-index: 1;
      }
      #slide-how .slides .second {
        position: relative;
        background: #fff;
        z-index: 0;
      }

      /* Two-column layout */
      .left-column {
        color: #777;
        width: 20%;
        height: 92%;
        float: left;
      }
        .left-column h2:last-of-type, .left-column h3:last-child {
          color: #000;
        }
      .right-column {
        width: 75%;
        float: right;
        padding-top: 1em;
      }
    </style>
  </head>
  <body>
  <textarea id="source">


class: center, middle

<center><img src="images/ub.png" width="150"></center>


# **ALGORSMICA**

## Apunts de lassignatura


Jordi Vitri

.blue[jordi.vitria@ub.edu] |  .blue[http://algorismica.github.io]



---
class: center, middle, inverse


## http://algorismica.github.io



---

# ndex

+ [Presentaci de l'assignatura](#tema0)
+ Tema 1: [Qu s un algorisme?](#tema1)
+ Tema 2: 
	+ [Python I](#tema21)
	+ [Python II](#tema22)
	+ [Python III](#tema23)
+ Tema 3: Algorismes Numrics
	+ [Aritmtica Bsica](#tema3)
	+ [Aritmtica Modular](#modular)
+ Tema 4: [Algorismes per Text](#tema4)
+ Tema 5: [Algorismes i Fora Bruta](#tema5)
+ Tema 6: [Dividir i vncer](#tema6)
+ Tema 7: [Algorismes de Cerca](#tema7)
+ Tema 8: [Hashing i Cerca](#tema8)


---
name:tema0

class: center, middle, inverse

## Presentaci de l'assignatura

---

## Qu s aquesta assignatura?

Aquesta assignatura est adreada a donar la formaci bsica als estudiants sobre lanlisi i disseny dalgorismes, tant des dun punt de vista teric com aplicat. No sassumeix cap formaci prvia en programaci de lestudiant.

##Qu sespera dels estudiants matriculats?

Els estudiants han de participar de forma activa durant les classes magistrals de teoria (**1,5 hores a la setmana**). 
Durant les hores terico-prctiques (o de problemes, **1,5 hores cada setmana, per 10 sessions**)  hauran de dissenyar solucions algorsmiques als problemes plantejats pels professors.

Durant les hores  presencials de prctiques (*1,5 hores cada setmana, per 10 sessions**) hauran de programar de forma individual una srie dexercicis prctics. 
Les hores no presencials de lassignatura (4 hores a la setmana) les han de dedicar a lestudi i a la preparaci dels problemes i prctiques.

---

## Programarem?

Tot i que en aquesta assignatura no s estrictament necessari programar, ho farem amb un llenguatge dalt nivell: Python.

## Com sorganitza lassignatura?

Usarem dues eines per distribuir la informaci i organitzar la feina: el **Campus Virtual** de la UB. 

---

### El campus virtual

+ Apunts de teoria
+ Conjunt de problemes
+ Enunciat de les prctiques
+ Lliurament de les prctiques
+ Avaluacions de les proves i prctiques



---

## Com savaluar lassignatura? (I)

Lassignatura seguir un esquema davaluaci continuada, amb dos elements principals: proves presencials i lliurament remot dexercicis. 

+ Lliurament via campus virtual de prctiques (LP): Els professors proposaran una srie de prctiques que hauran de ser lliurades via el campus virtual per part de lalumne dins el perode assenyalat pel professor. Cada un dels lliuraments ser avaluat pel professor amb una nota que pot anar de 0 (nota mnima) a 10 (nota mxima). En cas de no lliurar les prctiques dins el perode assenyalat, lalumne obtindr un 0. La nota final (LP) de la part de lliurament de prctiques ser la mitja de tots els lliuraments.
+ Proves presencials (PP): durant el curs, lalumne realitzar varies proves escrites (terico-prctiques) davant del professor. Les proves savaluaran amb una nota de 0 (nota mnima) a 10 (nota mxima). La nota final (PP) daquesta part ser la mitja de totes les proves realitzades (una prova no realitzada = 0).

La nota segons lavaluaci continuada (NF) es calcular de la segent manera:

+ Si (LP>4,0 i PP>4,0):  NF = PP * 0,6 + LP * 0,4
+ Sin, NF = min(4.0, PP * 0,6 + LP * 0,4).

---

## Com savaluar lassignatura? (II)

Durant la segona prova presencial (Gener) es donar lopci de presentar-se de tota lassignatura o noms de la segona part. Si un alumne opta per fer un segon intent amb la segona part de l'assignatura, en la nota de proves presencials es tindr en compte la nota millor dels dos intents.

Tots aquells alumnes que obtinguin una NF>=3,5 tenen dret a una reavaluaci al cap dun dies de la publicaci de NF. La reavaluaci ser equivalent a un examen final. En aquests casos, la nota final de lassignatura ser la nota de la reavaluaci.

---

##I el lliurament de problemes...?

No hi ha una activitat prpia de lliurament de problemes, per lalumne anir construint un portafolis de problemes que el professor pot revisar en qualsevol moment.

La part prctica de les proves presencials estar basada en aquests problemes.

El campus virtual proporciona informaci sobre QUAN sha resolt els problemes. Per valorar aquesta activitat el professor tindr en compte tant el QU com el QUAN.

---

## Calendari de proves
Tots els exmens es fan en perode no lectiu.

+ La primera prova presencial es far el 5 de novembre de 15h a 18h es far . 
+ La segona prova presencial (examen final) es far el 18 de gener de 15h a 20h.
+ La reavalauci es far el 31 de gener de 15h a 20h.

---

## Bibliografia

### Algorsmica

+ T. H. Cormen  [et al.] Introduction to algorithms, MIT Press, 2001.
+ S.Dasgupta. Algorithms, McGrawHill, 2006.www.cs.berkeley.edu/~vazirani/algorithms/all.pdf
+ V. Levitin, Introduction to the Design and Analysis of Algorithms, ISBN: 0-201-74395-7, Addison-Wesley (2ond edition)
+ S. Skiena. The Algorithm Design Manual, Springer; 2nd edition (August 21, 2008), Language: English, ISBN-10: 1848000693.

### Python

+ A. Downey, J. Elkner and C. Meyers. How to Think Like a Computer Scientist. Learning with Python. http://greenteapress.com/thinkpython/thinkCSpy/

---

class: center, middle, inverse
name:tema1

# Tema 1: **Qu s un algorisme?**

---
class: summary

### Resum del tema 1 

+ **Conceptes**: 

  + Algorisme, 
  + Input(entrada), 
  + Output(sortida), 
  + Correcci, 
  + Eficincia, 
  + Errors, 
  + Llenguatge de programaci 
    + Primitives (smbols), sintaxi, semntica esttica, semntica +

---

## Qu s un algorisme?

> Definici de la *Wikipedia*: Un algorisme s una seqncia finita, no ambigua i
explcita, dinstruccions per a resoldre un problema. 

La definici daquesta assignatura: 

.bold[Un algorisme s qualsevol procediment computacional que pren un (o una srie) de dades/valors com a *entrada* i genera alguna dada/valor (o srie de dades/valors) com a *sortida*.]

+ Els algorismes sn les **idees/estratgies** que hi ha darrera els programes per resoldre un determinat problema.
+ Els algorismes sn independents del llenguatge en que estan escrits. El mateix algorisme escrit en dos llenguatges diferents pot tenir una aparena superficial molt diferent.
+ Els algorismes s que depenen de la representaci de les dades.
+ Els algorismes interessants sn els que resolen problemes generals. Els problemes especfics es resolen redunt-los a problemes generals.

---

### Exemple computacional (arrel quadrada)

Problema a resoldre mitjanant un algorisme:

> Entrada:	Un nombre `a`

> Sortida:	Un nombre `b` tal que `b*b=a`

> Requeriment: Volem una soluci **correcta i eficient**!

--

Hi ha diversos algorismes per calcular aquest valor. El que s'explica a l'escola s un d'ells. Her dAlexandria (10 dC-70 dC) ja en va proposar un altre:

+ Comencem amb un nombre qualsevol `g`.
+ Mentre `g*g` no sassembli prou a `a`: 
	+ Calculem un nou candidat `(g+a/g)/2`.
+ Donem com a resultat l'ltim valor de `g`.
---

### Exemple computacional (arrel quadrada)


Codificaci en Python:

```python
def hero(a,error):
    import math
    g = 1.0
    while math.fabs(g*g - a) > error:		#fabs vol dir nombre absolut en decimals
        g = 1/2*(g+a/g)
    return g
```

Si executem `hero(49,0.0001)`, l'ordinador retorna `7.000000141269659`.

---

## Correcci i Eficincia Algorsmica

Un algorisme s **correcte** si podem demostrar que retorna la sortida desitjada per a qualsevol entrada legal (per al problema de larrel quadrada, aix vol dir nombres positius o 0). 

> Demostrar la *correcci* s fcil per alguns algorismes, difcil per la majoria i fins i tot impossible per alguns!

--

Un algorisme s  **eficient** si es fa amb el mnim nombre de recursos (cicles de clcul / temps, memria / espai) possible.

> Fer servir algorismes eficients s sempre convenient i moltes vegades una necessitat!
---


## Algorismes i ordinadors

Un ordinador fa noms dues coses (per molt ben fetes!): 
+ calcular (combinar dades per obtenir altres dades); 
+ emmagatzemar (llegir/escriure a una memria) els resultats del clcul.

Un ordinador convencional fa ms de 1.000.000.000 de clculs per segon i pot emmagatzemar ms de 1.000.000.000.000 de bits.

Els algorismes que veurem en aquest curs sn procediments per a resoldre problemes que estan basats en el clcul i emmagatzament de dades en un ordinador convencional. 

No veurem algorismes:

+ basats en clcul parallel ni distribut entre diversos ordinadors;
+ basats en arquitectures no convencionals (p.e. quntica).

---

## Exemple: el problema del viatjant de comer (TSP).

Aquest cartell correspon al concurs promogut per *Procter & Gamble* lany 1962 per recorrer 33 ciutats dels EUA:


<center><img src="images/tsp.png" width="300"></center>

Anem a proposar algorismes per solucionar-ho!

---

### Estratgies possibles

Suposem que hem de passar per un conjunt de punts definits i volem minimitzar la distncia recorreguda.

A la figura de la dreta tenim una possible instncia del problema. A l'esquerra hi ha la millor soluci d'aquesta instncia, **la que voldriem trobar amb un algorisme que accepts com a entrada qualsevol conjunt de punts**.red[*].

<center><img src="images/recorregut.jpg" width="650"></center>

.footnote[.red[*] A la major part dels casos que resoldrem en aquest curs o tindrem accs a la soluci correcte del problema o podrem fer un programa molt simple que, donada una soluci, comprovi que s correcte. En el cas del problema del viatjant de comer, no tindrem ni una cosa ni l'altra!]

---

### Propostes


**Soluci I**: Escollim un punt aleatori per comenar, i anem creant un recorregut seleccionant el *ve ms proper* a cada pas.

<center><img src="images/recorregut2.jpg" width="650" alt="la soluci I resol el problema per amb un recorregut no eficient, al costat es presenta la soluci ptima"></center>

s correcte?

--

> Sabem que **no ho s** perqu tenim accs a un *oracle* que ens diu quina s la soluci correcte. Ms endavant veurem quines opcions tenim si no tenim accs a l'oracle.

---

### Propostes


**Soluci II**: 

+ Considerem el conjunt format per **tots el possibles passos parcials entre dues ciutats** i calculem la seva longitud.
+ Mentre ens quedin passos parcials al conjunt:
	+ Busquem al conjunt el pas parcial ms petit `p`.
	+ Afegim `p` al recorregut final sempre i quan no generi un cicle o una doble sortida per un punt.
	+ Eliminem `p` del conjunt de passos parcials.

s correcte?
--


**Soluci III**: 

Considerem **totes les possibles ordenacions** dels punts, calculem la distncia de cada un dels recorreguts i seleccionem la ms curta.

s correcte?
---

### Solucions correctes i eficients!

La soluci III anterior **s correcta** per **no s eficient**.

> No cal demostrar que s correcte: s trivial!

> El nombre de possibles ordenacions d'un conjunt de `n` elements ve donat pel concepte de factorial: `n! = n x (n-1) x (n-2) x ... x 1`. 

> El factorial d'un nombre `n` creix molt rpidament quan `n` es fa gran. Aquest pot ser un nombre molt gran fins i tot pels ordinadors.


---

## Com expressem els algorismes?

Amb **llenguatges de programaci**.

Un llenguatge de programaci es defineix per unes **primitives** (smbols), una **sintaxi** (regles de combinaci de smbols), una **semntica esttica** (combinacions de smbols amb significat) i una **semntica** (el significat que nosaltres volem donar a lalgorisme).
--


Fins ara hem usat *paraules* o pseudocodi, per tamb podem usar un llenguatge dalt nivell, **Python**, molt proper al pseudocodi.

El preu que hem de pagar s que haurem d**especificar** una mica ms les coses. 

Els avantatges: 
+ aprenem un llenguatge til;
+ som ms formals en les especificacions;
+ podem executar-los i fer simulacions.

---

## Llenguatges

+ **Smbols**: Sn la forma d'escriure variables (p.e. `a`), instruccions (p.e. `print()`), etc. Hi ha una srie de regles que els defineixen.  

+ **Sintaxi**: Sn les regles que defineixen les combinacions vlides de smbols: `3.2 + 4.5` s vlida, per  `3.2 a 2.3` no ho s.

+ **Semntica esttica**: `3.2/abc` s sintcticament correcte perqu lexpressi (`<literal><operador><literal>`) ho s, per no ho s des del punt de vista de la semntica esttica.


> Els errors ms perillosos quan programem no sn els sintctics, ats que la majoria es poden detectar automticament o sn fcils de veure!

> Alguns llenguatges detecten quasi tots els errors de semntica esttica, per Python noms alguns!

+ **Semntica**: Es refereix a "qu" fa el programa (p.e. aquest programa calcula l'arrel quadrada?) i per tant depn totalment del programador. 


---

## Llenguatges


Si no hi ha errors sintctics ni de semntica esttica el programa s'executar i far alguna cosa, per no necessriament la que volem.

Els *entorns de programaci* (IDE) ens poden ajudar a detectar els errors sintctics i alguns errors de semntica esttica, per no els semntics.

Aquest programa no donar mai cap error:

```python
def suma(a,b):
  '''
  Aquest programa no fa el que ha de fer!
  '''
  return a - b
```

Els nics que podem determinar que no s correcte sm nosaltres.

---

## Llenguatges

Si un programa t un error que no ha estat detectat:
1. Pot acabar inesperadament la seva execuci i generar un error. La majoria de vegades no afecta a la resta de programes de lordinador, per hi ha errors que poden causar un error fatal a l'ordinador i aturar-lo.red[*]. En aquest cas, la majoria d'errors sn errors de sintaxi o de semntica esttica no detectats per l'IDE. 
2. Pot ser que mai saturi i per tant no generi la resposta. En aquest cas normalment estem davant d'un problema semntic.
3. Pot aturar-se i generar una resposta que pot ser incorrecta. En aquest cas normalment estem davant d'un problema semntic.


.footnote[.red[*]Pot ser que els errors noms es manifestin per alguna combinaci especfica dels valors d'entrada i per tant no es detectin sense fer moltes proves. Normalment no podem provar totes les possibilitats!]
---
class: exam

### Possibles preguntes d'exmen relacionades amb el tema1

1. Quines sn les dues caracterstiques que defineixen un algorisme?

2. Quins errors sn ms difcils de corregir i perqu?

---

class: center, middle, inverse
name:tema21

# Tema 2:  **Python**

---
class: summary

### Resum del tema 2 (I)
	
+ **Conceptes de programaci**: 

  + Instrucci, 
  + funci, 
  + parmetres, 
  + crida/invocaci, 
  + noms,
  + expressions, 
  + literals, 
  + comentaris, 
  + variables, 
  + iteracions definides / bucles, 
  + biblioteques (libraries) de funcions /  mduls, 
  + assignacions
    + asssignacions simples, d'entrada, simultnies

---
class: summary

### Resum del tema 2 (II)
	
+ **Llenguatge Python**: 

  + com crear funcions i blocs de codi 
  + def, 
  + print(), 
  + input i eval(input), 
  + for i in range(star,stop,step), 
  + ndex, 
  + operaci **, 
  + abs(), 
  + %, 
  + import  math, 
  + math.sqrt

---

# Python

Si volem executar una seqncia dinstruccions podem **crear/definir** una **funci** (que en aquest cas sanomena `hola`): 

```python
def hola():
    print("Hola!")
```

Un cop la tenim definida la poden **cridar/invocar**: 

```python
hola()
> Hola!
```

El smbol `>` indica una resposta de l'ordinador a travs de la pantalla.

Una funci **no fa res si no la cridem**: 

```python
def hola():
    print("Hola!")
```

per si sol no mostra res a pantalla.

---
## Un programa en Python



Les funcions poden tenir **parmetres** (que van entre els parntesi):

```python
def hola(persona):
    print("Hola", persona)
```

Que quan es criden han de prendre un valor:

```python
hola("Jordi")
> Hola Jordi
```

.code[Consola Python: [Exec](https://www.python.org/shell/)]

---

## Un programa en Python

En aquest programa podem veure diversos elements del llenguatge: 
+ comentaris, 
+ variables, 
+ assignacions, 
+ iteracions, 
+ entrada de dades des del teclat, 
+ crida de la funci, 
+ etc.

```python
def main():
    '''
    Comportament catic
    '''
    print("Aquest programa implementa un comportament catic")
    x = input("Entra un nombre entre 0 i 1: ")
    x = float(x)
    for i in range(10):
        x = 3.9 * x * (1-x)
        print(x)

main()
```

.code[Consola Python: [Exec](https://www.python.org/shell/)]

---

## Un programa en Python


Els elements ms importants que tenim per a construir un programa Python sn:

+ **Noms**. Els fem servir per anomenar les funcions i les variables. 
  + Tcnicament sanomenen identificadors.  Han de comenar per lletra o `_`  que pot ser seguit per qualsevol seqncia de lletres, dgits o subratllats (no espais!). 
  + Distingeixen entre majscules i minscules. 
  + Hi ha noms reservats (`and`, `for`, `def`, etc.). 
+ **Expressions**: Sn la part de codi que calcula o produeix nous valors de les dades. 
  + Lexpressi ms simple sanomena literal, i susa per especificar un valor.  Hem vist literals numrics. Un identificador simple tamb pot ser una expressi (el nom duna variable). 
  + Podem crear expressions combinant expressions ms simples amb operadors: `3.9 + x * (1-x)`
  + Els operadors matemtics segueixen les precedncies estndard.  

---
## Un programa en Python

+ **Sortides**. Hi ha la funci `print`, amb els segents arguments:  

    `print(value1, value2,..., sep=' ', end='\n')`

+ **Assignacions**. 
  + Assignacions simples: `x = 3 + x * (1-x)` 
  + Assignacions dentrada: `x = input("Entra un valor: ")`. 

    A ms a ms de nombres, podem entrar qualsevol expressi i avaluar-la: 

```python
a = eval(input("Entrada: "))
a

> Entrada: 3+4+5
> 12
```

---

## Un programa en Python

+ Assignacions simultnies, com per exemple: `sum, diff = x+y, x-y`

  Aquest tipus dassignaci pot ser molt til, com per exemple per intercanviar els valors de dues variables. 

  Aix no funciona!:

  ```python
  x = 3
  y = 4
  x = y
  y = x
  print(x,y)

  > 4 4
  ```
  
  Com ho fareu?
--

  ```python
  x = 3
  y = 4
  x,y = y,x
  print(x,y)

  > 4 3
  ```
  
---

## Un programa en Python

+ Iteracions (*loops*) definides. Es fa un nombre definit de vegades, i sn el tipus ms simple diteraci.

  ```python
  for i in range(10):
      print(i, end=" ")

  > 0 1 2 3 4 5 6 7 8 9 
  
  for j in [0,1,2,3]:
      print(i*i, end=" ")

  > 0 1 4 9
  ```
---

## Els nombres i Python

Les dades  que un programa pot manipular i emmagatzemar sn de diferents tipus. El tipus de la dada determina quins valors pot tenir i quines operacions es poden fer. 

  ```python
  type(3)
  > int 
  
  type(3.14)

  > float 
  
  x = -32
  type(x)

  > int

  print(3+4, 3+4.0)

  > 7 7.0

  print(10.0/3, 10/3)

  > 3.3333333333335  3.3333333333335
  ```

Els operadors bsics sn: `+`, `-`, `*`, `/`, `**`, `%`, `abs()`.

`**` indica la potncia,  `%` el mdul,  i abs() el valor absolut. Qu dona `3**2`, `10%3`, i `abs(-4)`?

---

## Els nombres i Python

Python tamb ens dona funcions matemtiques dins duna biblioteca (*library*) especial anomenada `math`. Una biblioteca no s res ms que un mdul que cont definicions tils de funcions. 

  ```python
  import math
  def main(a,b,c):
      x = (-b+math.sqrt(b**2-4*a*c))/2*a
      print(x)
  ```

  Quan treballem amb nombres, la funci `range` pot ser molt til. 
  La seva sintxi s `range(start, stop, step)`.

  ```python
  list(range(10))
  > [0,1,2,3,4,5,6,7,8,9]

  list(range(0,10,3))
  > [0,3,6,9]

  list(range(0,-4,-1))
  > [0,-1,-2,-3]
  ```

---

### Exemple: el factorial d'un nombre.

```python
def factorial(num):
	factorial = 1
	if num < 0:
	  print("Entra un enter positiu! ")
	elif num == 0:
	  print("El factorial de 0 s 1")
	else:
	  for i in range(1,num+1):
	      factorial *= i
	  print("El factorial de ", num, "s", factorial)
```

---

### *Exemple explicat: el factorial d'un nombre*

```python
def factorial(num):   					# definim la funci factorial amb un parmetre
	factorial = 1
	if num < 0:						   # condicional
	  print("Entra un enter positiu! ")		# noms s'executa si es compleix la condici
	elif num == 0:						# condicional
	  print("El factorial de 0 s 1")          # noms s'executa si es compleix la condici
	else:							     # alternativa als condicionals
	  for i in range(1,num+1):		         # 1,2,3...num
	      factorial *= i				       # factorial = factorial * i
	  print("El factorial de ", num, "s", factorial)		
```

---

  ## Python Help

  + [Lloc Web de Python](https://www.python.org/)
  + [Documentaci](https://docs.python.org/3/)
  
---

class: center, middle, inverse
name:tema22

# **Python (2)**

---

## Cadenes de carcters (*strings*)

Un string s una seqncia de carcters, que es pot emmagatzemar en variables:

```python
a = 'Hola'
b = "Mireia"
print(a,b)
> Hola Mireia

type(str2)
> str
```

Podem entrar *strings* des del teclat:

```python
nom = input("Quin s el teu nom?")
```

De fet, tot el que entra pel teclat s una cadena de carcters. Si volem entrar dades d'un altre tipus ho hem de fer aix:

```python
edat = eval(input("Quina s la teva edat?"))

```

`eval` interpreta el que entrem com una expressi Python i l'avalua.

---

## Cadenes de carcters (*strings*)


Per accedir a una cadena de carcters hem de veure com Python les indexa:

H | o | l | a |   | o | l | a 
- | - | - | - 
.code[0] | .code[1] | .code[2] | .code[3] | .code[4] | .code[5] | .code[6] | .code[7]

Llavors podem accedir als valors de cada element de la cadena o fins i tot a subcadenes: 

```python
s = "Hello Bob"
x = 8
print(s[0], s[1], s[x-2])
> H l B
```

Una operaci anomenada *slicing* ens permet accedir a subcadenes de 
carcters:

```python
print(s[0:3], s[6:9], s[:3], s[3:], s[:])
> Hel, Bob, Hel, lo Bob, Hello Bob
```
---

## Cadenes de carcters (*strings*)

Tamb podem concatenar (`+`) i repetir (`*`) subcadenes:

```python
print("Bread" + " & " * 3 + "Breakfast")
> Bread &  &  & Breakfast

len("Bread" + " & " * 3 + "Breakfast")
> 23
```

Exemple:

```python
def mes():
    mesos = "GenFebMarAbrMaiJunJulAgoSetOctNovDes"
    n = eval(input("Quin mes vols?"))
    pos = (n-1) * 3
    m = mesos[pos:pos+3]
    print("L'abreviatura s: ", m)
```
---

## Cadenes de carcters (*strings*)

Lordinador emmagatzema els carcters de forma numrica.

Una forma estndard sanomena codificaci **ASCII** (*American Standard Code for Information Interchange*), per tal i com el nom indica, no considera els carcters que no susen en langls.  Usa 7 bits per carcter.

Per aix hi ha el sistema **UniCode**, que considera els carcters de totes els llenges. Usa 16 bits per carcter.  Per compatibilitat, s un superconjunt de lASCII.

Python ens dna funcions per accedir a aquests codis:

```python
ord('A')
> 65

ord('a')
> 97

chr(97)
> a
```
---

class: center

## Taula ASCII


<center><img src="images/ascii.png" width="650" alt="codi i carcter corresponent, buscar a la wikipdia"></center>

---

## Cadenes de carcters (*strings*)

Amb la funci `split` puc separar una cadena en una llista
en diferents parts, indicant el carcter separador:

```python
cadena = "458.342.120"
llista = cadena.split('.')
> ['456', '342', '120']
```

Si no indiquem el separador, per defecte s el caracter blanc. 

```python
cadena = "El gos i el gat, menjven plegats"
llista = cadena.split('.')
> ['El', 'gos', 'i', 'el', 'gat,', 'menjven', 'plegats']
```

---

## Cadenes de carcters (*strings*)

`join`:  Un dels usos ms estesos de `join` consisteix en convertir llistes a cadenes de carcters.

```python
llista = ['El', 'gos,', 'i', 'el', 'gat,', 'menjven', 'plegats.']
cadena=" ".join(llista)  # l'espai far de separador
print(cadena)
> El gos, i el gat, menjven plegats.
```

`strip`:  Elimina els carcters indicats de l'inici i del final de la cadena, o els espais en blanc si no s'indiquen carcters especfics.

```python
"introducci a Python".strip('nio')
> 'troducci a Pyth
" introducci   ".strip()
> 'introducci
```

`islower`, `isupper` i `isalpha`: Verifiquen si la cadena s majscules, minscules o tota de lletres respectivament.

`lower` i `upper`: Converteixen la cadena de majscules a minscules i de minscules a majscules respectivament.


---

## Funcions

Fins ara hem escrit tots els programes en una nica funci.

Per diverses raons (economia a lescriure, manteniment del software, disseny) i sobretot quan resolem problemes ms complexos val la pena fer servir diferents funcions. Cada funci resoldr una part del problema, ser com un subprograma, o un programa dins del programa.  

Recordem que les funcions no sn res ms que una seqncia dinstruccions amb un nom. Una funci es pot cridar des de qualsevol lloc del programa pel seu nom.

```python
def sum(a,b):
    return a+b

a = 3
b = a*2
c = sum(a,b)
c

> 9
```

---

## Funcions


*Scope* s el nom que donem als **llocs dun programa** en els que *es pot fer referncia* a una variable.  

Noms es pot fer referncia a les variables definides dins duna funci dins la prpia funci, sn locals, i per aix poden tenir el mateix nom que variables externes. 

Lnica manera que t una funci per veure les variables duna altra funci s passar-li com a parmetre. 

Exemple:

```python
a = 7
def assignacio():
    a = 5
    print("dins, a val ", a)
assignacio()
print("fora, a val ",a)
```

Qu es mostrar a pantalla?
---

## Crida de funcions

Quan Python rep la crida duna funci, fa quatre coses:

+ El programa que fa la crida se suspn/congela en el punt de la crida.
+ Els parmetres de la funci passen a prendre els valors de la crida.
+ Sexecuta el cos de la funci.
+ Retorna el control al punt de programa posterior a la crida.

```python
def sum(a,b):
    return a+b

def dif(a,b):
    return a-b

def sumdif(a,b):
    s = sum(a,b)
    d = dif(a,b)
    return s,d

a = 3
b = 3
print(sumdif(a,b))

> 6 0
```

---

## Crida de funcions

Veiem-ho amb [Code Skulptor](http://www.codeskulptor.org/viz/index.html)

<center><img src="images/CodeSkulptor.JPG" width="80%" alt="Codi de la funci anterior amb un punt de control a s = sum(a,b) i amb l'execuci de la funci sum(a,b) a mitges dins l'entorn de CodeSkulptor"></center>



---

## Operadors relacionals 

Els operadors relacionals ens permeten combinar expressions. El seu resultat s un valor *boole (True[1] o False [0])*. Podem comparar tot tipus de dades:

```python
3<4
> 1
3*4 < 3+4
> 1
"hello" < "Hello"
> 0
```

Els operadors sn:

```
<	      # menor que
<=	     # menor o igual que 
== 	    # igual que
>= 	    # major o igual que
>  	    # major que
!=	     # diferent que
```

---

## Operadors booleans 

Els operadors booleans ens permeten combinar expressions lgiques. El seu resultat s un valor boole. 

```python
a = True
b = False
c = a and b
print(c)
print(a and b or c)
print(a or (not b) and c)
```

`and`: s veritat si i noms si els dos operands ho sn.

`or`: s veritat si al menys un dels dos operands ho s.

> Quin s el resultat de cada expressi?


---

## Estructures de control

Quan volem canviar el fil del programa en funci de si es 
compleix una condici o no, farem servir l'estructura `if`:

```python
if a==0:
    print("valor neutre")
elif a < 0:
    print("valor negatiu")
elif a == 1:
    print("valor unitat")
else: 
    print("altres valors")
```

Els `elif` sn opcionals. En podem posar tants com vulguem.

---

## Exemple

Clcul del promig d'una seqncia de nombres:

```python
def mitja():
    n = eval(input("Quants nombres tens?"))
    suma = 0.0
    for i in range(n):
        x = eval(input("Entra un nombre: "))
        suma = suma + x
    return("La mitja s: ", suma/n)

```

s correcte, per no gaire prctic. Per qu?

---

## Estructures de control

Per solucionar el problema anterior podem usar un altre *estructura de bucle*: `while`.

```python
i = 0
while i < 10:		#les instruccions s'executaran mentre es compleixi la condici
    print(i)
    i += 1
```

Llavors podem reescriure el programa anterior com:

```python
def mitja():
    suma = 0.0
    comptador = 0
    mesnombres = "s"
    while mesnombres[0] == 's': 
        x = eval(input("Entra un nombre: "))
        suma += x
        comptador += 1
        mesnombres = input("Hi ha ms nombres (si o no)?")
    return suma/comptador
```

Per encara podem fer ms eficient aquest codi!

---

## Estructures de control

```python
def mitja():
    suma = 0.0
    comptador = 0
    x = eval(input("Entra un nombre (negatiu per acabar): "))
    while x > 0: 
        suma += x
        comptador += 1
        x = eval(input("Entra un nombre (negatiu per acabar): "))
    return suma/comptador
```
--



```python
def mitja():
    suma = 0.0
    comptador = 0
    xStr = input("Entra un nombre (<Enter> per acabar): ")
    while xStr != "":
        x = eval(xStr) 
        suma += x
        comptador += 1
        xStr = input("Entra un nombre (<Enter> per acabar): ")
    return suma/comptador
```

---

class: center, middle, inverse
name: tema23

# **Python (3)**

---

## Collecions de dades

Exemples de colleccions:

+ Paraules dun text.
+ Estudiants dun curs.
+ Dades dun experiment.
+ Clients dun negoci.
+ Els grfics que es poden dibuixar en una finestra.

Python ens dona suport per a la manipulaci daquest tipus de dades.
--


Suposem que volem calcular la **mitja** i la **desviaci estndard** d'un conjunt de `n` nombres.

$$ \mu = \frac{1}{n} \sum_{i=1}^n x_i $$

$$ \sigma = \sqrt{\frac{\sum_{i=1}^n (x_i - \mu)^2}{n-1}} $$

Quin problema tenim?

---

## Collecions de dades

El que necessitem s emmagatzemar una collecci de coses (a priori no sabem quantes) en un objecte.

De fet, aquest tipus d*objecte* ja lhem fet servir, i es diu llista:

```python
list(range(10))
> [0,1,2,3,4,5,6,7,8,9]

a='ABCD'
a.split()
> ['A','B','C','D']
```
--


Una llista s una **seqncia ordenada de coses**.

Els elements d'una llista s'indexen de la mateixa manera que una cadena de carcters. De fet les llistes i els strings sn conceptualment molt semblants, i podem aplicar-hi operadors semblants.

La diferncia s el que contenen. Les llistes poden contenir  **qualsevol tipus de dades**, incloent classes definides pel programador. Les llistes sn **mutables**, s a dir, es poden canviar sobre la mateixa estructura (els strings no!).


---

## Collecions de dades

Les llistes en Python sn **dinmiques**, poden crixer i decrixer durant lexecuci del programa. Les llistes en Python sn **inhomognies**, poden contenir tipus diferents de dades. En resum, les llistes sn **seqncies mutables dobjectes arbitraris**. 

Es creen aix:

```python
a = [1,3,5,7,0]
b = ['spam', 0, 3.9]
c = []
d = [0] * 50
```

Podem afegir-hi o borrar coses:

```python
nums = []
x = eval(input("Entra un nombre: "))
while x >= 0:
    nums.append(x)
    x = eval(input("Entra un nombre: "))

del nums[1]
```

---

## Collecions de dades

Donada una llista `l`:

+ `l.append`: afegeix elements al final.
+ `l.sort`: ordena els elements.
+ `l.reverse`: inverteix la llista.
+ `l.index(x)`: retorna l'ndex del primer element igual a `x`.
+ `l.count(x)`: retorna el nombre de vegades que apareix `x`.
+ `l.remove(x)`: elimina la primera ocurrncia de `x`.
+ `l.pop(i)`: elimina l'issim element de la llista i retorna el seu valor.
+ `x in l`: retorna una valor boole en funci de si `x` s a la llista o no.

Suposant que tenim una llista formada per milers de milions d'elements,
podriem ordenar aquestes operacions en funci del temps que trigarien a 
executar-se? 

---

## Exemple

```python
def getNumbers():
    nums = []
    xStr = eval(input("Entra un nombre (<Enter> per acabar): "))
    while xStr != "":
        x = eval(xStr) 
        nums.append(x)
        xStr = eval(input("Entra un nombre (<Enter> per acabar): "))
    return nums

def m(nums):
    suma = 0.0
    for num in nums:
        suma += num
    return suma/len(nums)

def stdDev(nums, mean):
    import math
    sumDev = 0.0
    for num in nums:
        dev = mean - num
        sumDev += dev * dev
    return math.sqrt(sumDev/len(nums)-1)

data = getNumbers()
print("Mitja: ", mean(data), " | Desviaci: ", stdDev(data, mean(data)))
```

---

## Referncies

Cada una de les dades que creem t una referncia que podriem entendre com l'adrea de memria on es pot localitzar. 

Si executem:

```python
a = banana
b = banana
```

`a` i `b` sn dos noms diferents amb el mateix valor, per s la "mateixa" cadena de valors o guardem dues vegades a memria la mateixa cadena de carcters?
--


Cada objecte t un identificador nic, que podem obtenir amb la funci `id`:

```python
id(a)
> 135044008

id(b)
> 135044008
```

Per tant, en aquest cas Python ha creat una estructura `banana` i les dues variables en fan referncia.

---

## Referncies


Les llistes funcionen diferent (`a` i `b` tenen el mateix valor per no fan referncia al mateix objecte):

```python
a = [1,2,3]
b = [1,2,3]
print(id(a),id(b))
> 238870816, 245363636
```
Com que les variables fan referncia a objectes, si una variable fa referncia a una altra tenim:

```python
a = [1,2,3]
b = a
print(id(a),id(b))
> 238870856, 238870856
```

Com que la llista t dos noms, direm que t un **lies**. Aix s perills per objectes mutables!!! Pels immutables no hi ha problema.

---

## Referncies


El clonatge s una tcnica per la que fem una cpia de lobjecte en si, no de la referncia. Pel cas de les llistes ho podem fer aix:

```python
a = [1,2,3]
b = a[:]
b[0] = 5
print(a,b)
> [1,2,3] [5,2,3]
```

---

## Referncies


Si passem una llista com a **argument** duna funci, passem una **referncia**, no una cpia. Considerem aquesta funci:

```python
def head(l):
    return(l[0])

a = [1,2,3]
head(a)
> 1
```


Considerem ara aquesta altra funci:

```python
def deleteHead(l):
    del l[0]
	return l

a = [1,2,3]
deleteHead(a)
> [2,3]
```

---

## Referncies

Si retornem una llista tamb retornem una referncia:

```python
def tail(l):
    return l[1:]

a = [1,2,3]
rest = tail(a)
print(rest, a)
> [2,3] [1,2,3]
```

Com que la llista sha creat amb `:` s una nova llista. Qualsevol modificaci de `rest` no t efectes en `a`. 

En canvi en el segent cas:

```python
numbers = [1,2,3]
def test(l):
    l.reverse()

print(numbers)

> [3,2,1]
```
---

## Llistes

Una llista imbricada s una llista que apareix com a element duna altra llista. 

`l = [0,1,3,['a','b']]`


Per obtenir un element duna llista imbricada ho podem fer de dues maneres:

```python
# amb dos passes...
li = l[3]
li[0]
> 'a'
# o b ...
l[3][0]
> 'a'
```

I s que les llistes imbricades es fan servir per representar matrius:

```python
m = [[1,2,3],[4,5,6],[7,8,9]]
m[0]
> [1,2,3]

m[1][1]
>5
```
---

## Diccionaris

Python ens proporciona un altre tipus de collecci molt til: els **diccionaris**.

La ra de la seva existncia s que no sempre ser possible accedir a una dada pel seu ndex, sin per exemple, per algun valor que el defineix (p.e. un empleat pel seu DNI). s a dir, volem accedir a un valor per una **clau**. 

Python crea els diccionaris aix:

```python
passwd = {'bill':'clinton', 'barack':'obama'}
```
I ens permet accedir-hi aix:

```python
passwd['bill']
> clinton
```

Els diccionaris sn mutables:

```python
passwd['bill'] = 'gates'
```

---

## Exemple: omplir un diccionari des d'un fitxer.

Suposem que tenim una llista d'usuaris i els seus passwords en un 
fitxer. El format s una lnia per usuari formada per dues paraules: el nom 
d'usuari i el password.

```python
passwords = {}
f = open('passwords.txt','r')
for line in f.readlines():
    usr, passw = line.split()
    passwords[usr] = passw
f.close()
```

---

## Diccionaris

```python
p = {'a':'A', 'b':'B', 'c':'C', 'd':'D'}
for i in p.keys():
    print(i,end=',')
> a,b,c,d

for i in p.values():
    print(i,end=',')
> A,B,C,D

for i in p.items():
    print(i,end=',')
> ('a','A'),('b','B'),('c','C'),('d','D')

list(p.values())
> ['A','B','C','D']

'a' in p
> True
```

---
## Tuples

Hi ha una altra classe de collecci a Python que s semblant a la llista, per que s immutable: la **tupla**.

`t = 'a','b','c','d'`

o

`t = ('a','b','c','d')`

Si noms hi ha un element s'ha d'escriure amb una coma final:

```python
t = ('a',)
type(t)
> tuple

t = ('a')
type(t)
> str
```

Les operacions son les mateixes que per les llistes (tenint en compte que sn immutables!)

---

## Exemple: Estadstica de les paraules d'un document?

```python
def numW():
    '''
    Aquest programa calcula l'estadstica de les paraules d'un document
    '''
    fname = input("Nom del document")
    text = open(fname, 'r').read()
    text = text.lower()
    for ch in '!"$%&/()=?|@#{}[]+-,.;:-_><':
        text.replace(ch,' ')
    words = text.split()
    counts = {}
    for w in words:
        if w in counts:
            counts[w] = counts[w] + 1
        else:
            counts[w] = 1
    n = eval(input("Quantes paraules vols analitzar (les ms freqents)?"))
    lfreq = []
    for w in counts:
        lfreq.append((counts[w],w))
    print(lfreq)
    lfreq.sort(reverse=True)
    print(lfreq)
    for i in range(min(n,len(lfreq))-1):
        print(lfreq[i][1], lfreq[i][0])
```
---


class: center, middle, inverse
name:tema3

# Tema 3:  **Algorsmes Numrics**

---

## Una mica d'histria

Cap a lany 600, a l'ndia, es va inventar el sistema decimal de numeraci.

> Unsistema de numeracis unconjunt desmbols iregles de generaci que permeten construir tots els nombres vlids en el sistema. 

El seu principal avantatge sobre els que es coneixien a Europa, com el rom, s la seva **base posicional** i la **simplicitat de les operacions** (algorismes) aritmtiques.

Els sistemes de numeraciromansiegipcisno sn estrictamentposicionals. Per aix, s molt complex dissenyar algoritmes d's general (per exemple, per a sumar, restar, multiplicar o dividir). 

Un sistema de numeraci ve definit doncs per:

 + el conjunt `S` dels smbols permesos en el sistema. En el cas del sistema decimal sn `{0,1...9}`; en el binari sn `{0,1}`; en l'octal sn `{0,1,...7}`; en l'hexadecimal sn `{0,1,...9,A,B,C,D,E,F}`.
 + el conjunt `R` de les regles de generaci que ens indiquen quins nombres sn vlids i quins no sn vlids en el sistema.



---

## Bases i representaci numrica

Quantes  unitats hi ha a 642? Depn de la base en que est escrit! La **base dun nombre** determina el nombre de dgits diferents i el valor de les posicions dels dgits.

642  s 600 + 40 + 2 en BASE 10.

La frmula que ens permet entendre una base s:

$$ d_n \times R^{n-1} +  \dots + d_2 \times  R + d_1 $$

on `R` s la base del nombre i `d_i` s el dgit a la posici i-ssima del nombre. 

$$ 642 = 6_3 \times 10^2 + 4_2 \times 10 + 2_1 $$


DECIMAL s base 10 i t 10 dgits: `0,1,2,3,4,5,6,7,8,9`

BINARI s base 2 i t 2 dgits: `0,1`

HEXADECIMAL s base 16 i t 16 dgits: `0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F`


---

## Una mica d'histria

El sistema decimal de numeraci va trigar molts anys en arribar a Europa.

El medi de transmissi ms important va ser un manual, escrit en rab durant el segle IX a Bagdad, obra de Al Khwarizmi, en el que especificava els procediments per sumar, multiplicar i dividir nombres escrits en base deu.

Els procediments eren precisos, no ambigus, mecnics, eficients i correctes.
s a dir, eren algorismes (per a ser implementats sobre paper i no amb un ordinador!).

Una de les persones que ms van valorar aquesta aportaci va ser Leonardo Fibonacci.

<center><img src="images/fib.png" width="200" alt="Segell amb el bust de Leonardo Fibonacci"></center>


---

## Una mica d'histria

Fibonacci s avui conegut sobretot per la seva seqncia:

`0,1,1,2,3,5,8,13,21,34...`

La seqncia es pot definir amb la segent regla:

<center><img src="images/seqfib.png" width="350"></center>

Aix encara **no s un algorisme**. A les segents pgines veurem diferents algorismes per implementar computacionalment aquesta definici.

---
## Una mica d'histria

La seqncia creix molt rpid i es pot demostrar que el terme `n`-ssim de la seqncia t aproximadament aquest valor: 

$$  F_n \approx 2^{0.694n}  $$


Per per calcular **exactament** un terme concret necessitem un algorisme!


Una primera possibilitat s aquesta (*algorisme recursiu*).red[*]:

```python
def fib1(n):
    if n==0:
        return n
    if n==1:
        return n
    else:
        return fib1(n-1) + fib1(n-2)

fib1(10)
> 55

```

.footnote[.red[*]Un algorisme recursiu s un algorisme que es crida a si mateix.]

---

## Algorisme recursiu de Fibonacci

<center><img src="images/fib1.png" width="650"></center>

---

## Algorisme recursiu de Fibonacci

Com per a qualsevol algorisme, ens podem fer tres preguntes (**les tres preguntes bsiques de l'algorsmica**):

+ s correcte? 
+ Quant trigar, en funci de `n`?
+ Hi ha alguna manera millor de fer-ho?
--


I les respostes sn:

+ En aquest cas s evident que si, ats que segueix exactament la definici!
+ Es pot demostrar que el nombre de passos computacionals que fa s de l'ordre de `F_n`. Per calcular el terme 200 hauria de fer de l'ordre de `2^138` passos. A lordinador ms rpid del mn, que pot executar al voltant de 40.000.000.000.000 passos per segon,  necessitarem ms temps que el necessari pel collapse del Sol! A la velocitat que els ordinadors augmenten la seva capacitat de clcul, cada any que passa podrem calcular un nombre de Fibonacci ms que lany anterior!
+ S.

Per qu s tant lent?

---

## Algorisme recursiu de Fibonacci

<center><img src="images/fib2.png" width="550"></center>

Hi ha molts clculs que es repeteixen! 
Perqu no guardar-los?


---

## Algorisme de Fibonacci

Anem a fer-ne una versi basada en llistes:

```python
def fib2(n):
    if n==0:
        return 0
    ls = [0,1]
    for i in range(2,n+1):
        ls.append(ls[i-1]+ls[i-2])
    return ls[n]
```

+ s evident que s correcte.
+ Noms executa `(n-1)` vegades la iteraci.

Direm que `fib2(n)` s lineal (o polinmic) respecte `n`. 
Ara podem calcular fins i tot `fib(100.000.000)`.

--

Per encara ho podem fer millor!

---

## Algorisme de Fibonacci

```python
def fib3(n):
    a,b = 0,1
    for i in range(1,n+1):
        a,b = b, a+b
    return a

fib3(10)
> 55
```

---

## Com hem de comptar els passos computacionals?


Considerarem de la mateixa categoria les instruccions simples com emmagatzemar a memria, *branching*, comparacions, operacions aritmtiques, etc.

```python
import math
a = 5
b = 4
for i in range(3):
    a += math.sqrt(a+b)
```

Per si manipulem nombres molt grans (que ocupen ms de 64 bits), aquestes operacions no sn tan barates! 

```python
import math
a = 1234585127527575235234982374598245
b = 8112387512759287512875851285789127
for i in range(327864287686868676876876876887986):
    a += math.sqrt(a+b)
```

Caldr tenir en compte quina complexitat computacional t operar dos nombres daquestes caracterstiques.

---

## La notaci Gran O

Aquesta notaci s una convenci per no ser ni massa ni massa poc precisos a lhora descriure la complexitat computacional dun algorisme (= nombre de passos). 

La regla principal s **comptar el nombre de passos computacionals aproximats en funci de la mida de l'entrada**.

Fem la segent aproximaci:  enlloc de dir que t una complexitat de `5 n^3 + 4 n + 3` direm que t una complexitat de `O(n^3)`

En general utilitzarem aquestes convencions:

+ Ometrem les constants multiplicatives: `14n^2 s n^2`.
+ `n^a` domina sobre `n^b` si `a>b`: `n^2` domina sobre `n`.
+ Qualsevol exponencial domina sobre un polinomi: `3^n` domina sobre `n^5` (i tamb sobre `2^n`).
+ Qualsevol polinomi domina sobre un logaritme: `n` domina sobre `log(n)^3` i `n^2` domina sobre `nlog(n)`.

---

## La notaci Gran O

<center><img src="images/grano.png" width="650" alt="Es mostren les assimptotes, per ordre de ms inclinada a menys: O(N!), O(N2), O(NlogN), O(N), O(logN), O(1)"></center>

---

## La notaci Gran O

<center><img src="images/grano2.png" width="750"></center>

Observacions:
+ Qualsevol algorisme amb `n!` s intil a partir de `n`=20
+ Els algorismes amb `2^n` sn intils a partir de `n`=40
+ Els algorismes quadrtics, `n^2` comencen a ser costosos a partir de `n`=10.000 i a ser intils a partir de `n`=1.000.000
+ Els algorismes lineals i els `nlog(n)` poden arribar fins a `n`=1.000.000.000
+ Els algorismes sublineals, `log(n)`, sn tils per qualsevol `n`. 

---
## La notaci Gran O


Les famlies ms importants dalgorismes sn les que tenen un ordre:

+ Constant, `O(n) = 1`, com `f(n) = min(n,1)`, que no depenen de `n`.
+ Logartmic, `O(n) = log(n)`. 
+ Lineals, `O(n) = n`. 
+ Super-lineals, `O(n) = nlog(n)`.
+ Quadrtics, `O(n) = n^2`.
+ Cbics, `O(n) = n^3`.
+ Exponencials, `O(n) = c^n` per `c`>1.
+ Factorials, `O(n) = n!`

---

## Aritmtica Bsica: Preliminar

Quants dgits necessitem per representar un nombre `N` en base `b`?

+ Si tenim `k` dgits en base `b` podem representar els nombres fins a `b^k -1`.
Per tant, necessitem `log_b (N+1)` dgits per escriure `N` en base `b` (aix surt d'aillar `k` a l'equaci `b^k -1 = N`).

Veiem un exemple: 

	k=5, b=2, 

	Si tenim 5 dgits en base 2, podem representar fins a 2^5 -1 = 32 - 1 = 31, efectivament 11111 = 16 + 8 + 4 + 2 + 1 = 31

	Per altra banda, necessitarem log_2 (31+1) dgits per escriure 31 en base b => 5 dgits

Quan fem un canvi de base la mida del nombre noms es veu afectada per un factor multiplicatiu, i per tant considerem que no canvia!

---

## Aritmtica Bsica: Suma

Hi ha una propietat, que ens ser molt til, dels nombres decimals:

+ La suma de tres nombres dun sol dgit qualsevol t com a mxim dos dgits. Aquesta regla s compleix per totes les bases `b >= 2`.

Aquesta regla ens permet definir una regla general per sumar dos nombres en qualsevol base: la que hem aprs a lescola!

<center><img src="images/suma.png" width="350" alt: Carry 1 x x 1 1 1  first operand x 1 1 0 1 0 1 (53)  second operand x 1 0 0 0 1 1 (35)  result 1 0 1 1 0 0 0 (88)"></center>
--


Per, **quina complexitat t aquest algorisme**?

+ Aquesta pregunta la farem sempre en relaci a la mida (nombre de bits) dels elements de l'entrada.
+ Per un nombre petit de bits (64), lordinador ho pot fer en un sol pas, per aix no s veritat per a nombres molt grans.


---
## Aritmtica Bsica: Suma


Suposem que tant `x` com `y` tenen `n` bits. La seva suma t com a mxim `n+1` bits. La seva complexitat s per tant, `O(n)`.

Es pot fer millor? 
--


No! Per sumar `n` bits com a mnim shan de poder llegir i escriure, i aix ja sn `2n` passos!

---

## Aritmtica Bsica: Multiplicaci

La multiplicaci o producte que ens han ensenyat a lescola s:

<center><img src="images/mult.png" width="550" alt="multiplicaci segons el mtode tradicional, amb tots els passos, de 1101 per 1011"></center>


Tenim `n` multiplicacions de complexitat `n` (un bit per `n` bits) + aproximadament `2n` sumes de complexitat `2n`, que s un total de `(n^2 + 4n^2) = 5n^2` i per tant la **complexitat total de la multiplicaci s `O(n^2)`**.

---

## Aritmtica Bsica: Multiplicaci

Al Khwarizmi ens va donar un segon algorisme (i que avui encara sutilitza en uns quants pasos!)

+ Escrivim els nombres un al costat de laltre.
+ Repetim aquesta operaci Dividim el primer per dos i larrodonim. Doblem el segon  fins que el primer nombre s `1`.
+ Sumem  els nombres de la segona columna que corresponen a totes les files on el nombre de la primera columna s senar i obtenim el resultat.

Exemple: `11 x 13`:

<center><img src="images/mult2.png" width="150" alt="dues columnes de dalt a baix  11  13, 5 26, 2 52, 1 104; resultat 143"></center>

---

## Aritmtica Bsica: Multiplicaci

L'algorisme d'Al Khwarizmi es pot escriure aix:

```python
def mult(x,y):
    import math
    if y==0 or x==0:              # en aquest cas arribem a 0
        return 0
    z = mult(math.floor(x/2),y)   # fem les crides reduint x
    if x%2 == 0:
        return 2*z                # en el retorn s quan doblem y  
    else:
        return y+2*z              # noms si s senar el sumem
    
print(mult(11,13))
```

Lalgorisme s'acaba desprs de `n` crides recursives.red[*] i a cada crida fem `O(n)` operacions. Per tant s `O(n^2)`. 

.footnote[.red[*]Si cada vegada que cridem la funci recursivament anem dividint per `2` el parmetre `x` al cap de `n` crides el parmetre ja valdr `0`. Per exemple, si `x=16`, que necessita 5 bits (`n`= 5) per representar-se, llavors arribem a `0` en `5` crides:  `16, 8, 4, 2, 0`].

---

## Aritmtica Bsica: Divisi

La divisi `x/y` consisteix en trobar un quocient `q` i una resta `r` de manera que:

$$ x = y \times q + r $$

amb  `r < y`.

La seva versi recursiva s: 

```python
def div(x,y):
    import math
    if x<=0:
        return 0,0
    if y==1: 
        return x,0
    q,r = div(math.floor(x/2),y)
    q = 2*q              #desfem la divisi per 2
    r = 2*r              #desfem la divisi per 2 
    if x%2 != 0:
        r += 1           #recuperem el que hem perdut amb el floor
    if r >= y:
        r = r-y          
        q = q+1          #aqu s on anem augmentant el quocient
    return q,r
```

La seva complexitat s `O(n^2)`.

---
class: center, middle, inverse
name:modular

## Aritmtica Modular

o com en `Bob` envia un missatge secret `M` a l`Alice` sense que l`Eve` ho pugui llegir.

---

## Com enviar un missatge secret?


<center><img src="images/bob1.png" width="700" alt="En Bob envia un missatge secret M a l'Alice sense que l'Eve ho pugui llegir 1. L'alice escull 2 nombres primers p i qu, p=11 q=3; 2.Calcula n=pq n=33; 3. Calcula m=(p-1)(q-1) 10*2=20; 4. Escull dos nombres e i d tals que ed % m = 1, 3 i 7; 5. Publica la seva clau pblica (n,e) 33,3 i es guarda una privada (n,d); 6. En Bob buca la clau pblica de l'Alice; 7. Transforma el seu missatge a un enter M M=14; 8. Calcula C = M^e % n, 14^3 % 33 = 5; 9. Envia C a l'Alice, C=5; 10. Alice usa la clau privada n,d per calcular R = C^d % n; 5^7 % 33 = 14; 10. Alice ja t el missatge M =R, M=14"></center>


---

## Com enviar un missatge secret?


<center><img src="images/bob2.png" width="550" alt="Si l'Eve vol saber quin s el missatge...  (n,e) = (33,3) C=5  1. L'Eve factoritza n = pq  33 = 11 x 3; 2. Troba d tal que ed % (p-1)(q-1) = 1, d=7; 3. Desencripta el missatge amb d, M = 5^7 % 33 = 14"></center>

---
## Com enviar un missatge secret?


Aquest esquema t sentit si:

+ Factoritzar `n = p*q` s impossible. 
+ Trobar `(p,q)` grans es basa en un mtode eficient.
+ Calcular `x*y % n` es es basa en un mtode eficient.
+ Calcular `e*d % (p-1)*(q-1) = 1` es basa en un mtode eficient.

---

## Aritmtica Modular

En certs aspectes de la informtica (per exemple, la criptografia) s important una variaci de l'aritmtica sobre els nombres enters: l**aritmtica modular**.


Definim `x mdul N`, o `x%N`,  com la resta de dividir `x` per `N`, s a dir, si `x = qN+r`  amb `0 < =r < N`, llavors `x mdul N` s `r`.red[*].

Aix permet definir una equivalncia (congruncia) entre nombres (inclosos els negatius!). Direm que `x` s congruent amb `y`, `mod N`, si i noms si `N` divideix `(x-y)`.

.footnote[.red[*]La complexitat s `O(n^2)`]

---

## Aritmtica Modular

La suma i la multiplicaci no sn gaire complexes danalitzar.

**Suma modular (a + b) % N :** es resol fent a % N + b % N 


> Si el resultat passa de `N-1` el que hem de fer s simplement restar del resultat `N`. Altrament, no hem de fer res.

> Exemple: (34 + 15) % 12 = 34 % 12 + 15 % 12 = 10 + 3 = 13 => com que passa de 11 => 13 - 12 => **1**, i efectivament 49 % 12 = 1

> A ms, sabem que si dos nombres estan el rang `[0, N-1]` (`a % N` i `b % N` ho estan) la seva suma est en el rang `[0, 2(N-1)]` (que noms s un bit ms). 

> Per tant, **la complexitat de la suma modular s lineal `O(n)`**, als dgits de `N`.red[*]. 

> .footnote[.red[*] Recordem que per escriure N en base b necessitem `log_b(N)` dgits.]
---

## Aritmtica Modular

**Multiplicaci modular (a * b) % N**: es resol fent a % N * b % N

> De forma semblant, fem la multiplicaci normal i transformem al rang `[0,N-1]`, si s que ens hem passat.

> Exemple: (34 * 15) % 12 = 34 % 12 * 15 % 12 = 10 * 3 = 30 => com que passa de 11 => 30 % 12 => **6**, i efectivament 510 % 12 = 6

>El producte pot ser fins `(N-1)^2` per aix es pot representar amb `2n` bits. Per transformar el resultat hem de dividir per N (amb complexitat O(n^2)). 

> Per tant, **la complexitat de la multiplicaci modular s `O(n^2)`**.

---

## Aritmtica Modular

**Divisi**: Aquesta operaci no s tant simple (no est definida per tots els nombres) i t una **complexitat `O(n^3)`**. 

**Exponenciaci**: Ara imaginem que volem calcular expressions com aquesta amb nombres molt grans (centenars de bits): 

$$ x^y \mbox{ mod } N $$

+ El resultat intermig d'aquesta operaci pot necessitar molts bits per ser representat, tot i que el resultat final necessita noms `n = log(N)` bits. Si els operadors tenen 20 bits, necessitem 10 milions de bits!

> `>>> (155 ** 245)
4278248942979368837154163038105593721699158763295276283468486026116
9025354605588426871017056479154792093687113327363980603003491151040
0847598847975741337732142515770352938597064824736760699623574403668
3421242310488568163645289958899783211413312609389907455116209927510
1005664223266097322826018487453164194926459159037800946544634252898
1341951429642759537873516202755230036214044808536307148121446731580
4333849233319516087345366409004055624880988958445804402097403640767
6150744628499884906823013796389743035319952468853443861007690429687
5`


---

## Aritmtica Modular

Una soluci s fer totes les operacions intermdies mdul `N`.

O sigui, calcular `x^y mod N` fent `y` multiplicacions successives per `x mdul N`.

<center><img src="images/modul.png" width="550" alt="x mod N, passa a x^2 mod N, desprs x^3 mod N, ... fins a x^y mod N"></center>

Tots aquests resultats sn menors que `N`
i per tant no necessiten tants bits. Per tant, les multiplicacions sn de complexitat `O(n2)`.

El problema s que si `y` t 500 bits, hem de fer `y - 1` multiplicacions (o sigui, anem a una complexitat d'ordre `2^500`) i lalgorisme s exponencial sobre `n`, la mida de `y`. 

---

## Aritmtica Modular

Per una petita modificaci pot ser un gran canvi!  

Si l'exponent fos 2, x^2 mod N seria equivalent a una simple multiplicaci (x * x) mod N, d'ordre O(n^2), i generalitzant observem que si `y` s una potncia de 2, es pot calcular `x` elevat a `y` 
elevant al quadrat, mdul `N`, successivament:

<center><img src="images/modul2.png" width="650" alt="x mod N elevat a 2 modul N passa a ser x^2 mod N, desprs x^4 mod N, desprs x^8 mod N... fins a x^2[log y] mod N"></center>

Exemple: 5^8 mod 12 = (((((5 mod N)^2)mod N)^2 mod N)^2 mod N)

390625 mod 12 = 1 = (((25 mod 12)^2 mod 12)^2 mod 12)

Segons el que hem vist de la multiplicaci, cada potncia pren un temps proporcional a `O(log^2 N)` i hi ha             
`log_y` multiplicacions: lalgorisme s polinmic `O(n^2)`  respecte la mida de `N` i lineal `O(m)` respecte la mida de `y`.

Per un valor qualsevol de `y` (que no sigui potncia de 2) noms hem de reduir primer el nombre a la multiplicaci de les potncies de 2 que corresponen a la representaci binaria de `y`, i per cadascuna aplicar l'algorisme anterior:

<center><img src="images/modul3.png" width="650" alt="x^25 = x^11001 en base 2, que s igual a x^10000 base 2 * x^1000 base 2 * x^1 base 2, que s igual a x^16 * x^8 * x^1" ></center>

---

## Aritmtica Modular

Aqueste operacions es poden expressar recursivament fent aquestes operacions mdul `N`:

```python
def modexp(x,y,N):
    import math
    if y == 0:
        return 1    # cas base x^0 dona 1
    z = modexp(x, math.floor(y/2), N)  
	                # dividim la potncia per 2 fins arribar al cas base  
    if y%2 == 0:
        return (z**2)%N
		            # anem fent les potncies de 2 mdul N
    else:
        return (x*z**2)%N
		            # la y inicial no s una potncia de 2, cal multiplicar per x, tamb mdul N 
```

La complexitat s `O(n^3)`: `n` crides recursives i per cada una d'elles una multiplicaci mdul `N` d'ordre n^2.

---

## Algorisme d'Euclides

La forma ms obvia de trobar el **mxim com divisor** de dos nombres s trobar els factors dels dos nombres i multiplicar llavors els seus factors comuns. Per exemple, el mcd de `1035` i `759`:

> `1035 = 32*5*23`  i  `759 = 3*11*23`, per tant `mcd = 3*23 = 69`
 
El problema s que no es coneix cap algorisme eficient per **factoritzar** els nombres!

Fa ms de 2000 anys que Euclides va enunciar un algorisme alternatiu per trobar el mxim com divisor de dos nombres `a` i `b`.

```python
def gcd(a,b):
    while a:			# aqu es fa un truc, si a!=0 s'avalua com a True
        a,b = b%a, a
    return b

gcd(1071, 462)
> 21
```

Quina complexitat t per nombres grans?

---

## Algorisme d'Euclides

La primera cosa que hem de veure s com es van reduint els nombres a mesura que anem calculant.

Cal fixar-se que a cada iteraci els arguments `(a,b)` es converteixen a `(b mod a, a)`: canviem lordre i el ms gran queda redut al mdul del petit.

Es pot demostrar que aix vol dir que en dos iteracions successives els dos arguments decreixen al menys a la meitat, s a dir, perden un bit en la seva representaci.
--


Si inicialment eren enters de `n` bits, en `2n` crides recursives arribarem al final de lalgorisme. Com que cada crida implica una divisi dordre quadrtic, `(a mod b)` , el temps total ser `O(n^3)`.

---

## Nombres primers

**Test de primeritat**: s un nombre primer el vostre DNI?

Comprovar si un nombre ms o menys gran s primer per la via de la factoritzaci s una tasca a priori dura, perqu hi ha molts factors per provar. Per hi ha alguns fets que ens poden estalviar feina:

> No cal considerar com a factor cap nombre parell excepte el 2. De fet, podem obviar tots els factors que no sn primers.


> Podem dir que un nombre s primer si no hem trobat cap candidat a factor menor que arrel quadrada de `N`, ats que `N=K*L`, i per tant s impossible que els dos nombres siguin ms grans que arrel de `N`.

Fins aqu, b, per no trobarem ms maneres deliminar ms candidats! 

Aix podria fer dir que provar la primeritat dun nombre s un problema dur, per aix no s veritat: **noms s dur si ho intentem pel cam de la factoritzaci**!

---

## Nombres primers

Una de les activitats bsiques de la informtica, la criptografia, es basa en el segent fet: **la factoritzaci s dura, per la primeritat s fcil**.

O el que s el mateix, no podem factoritzar grans nombres, per podem mirar fcilment si grans nombres sn primers (evidentment, sense buscar els factors!).

Per fer-ho, ens basarem en un teorema de l'any 1640...
--


** Teorema petit de Fermat**: 

> Si `p` s primer, llavors per a qualsevol enter `a`, `1 <= a < p`, es compleix que `a^(p-1)` s congruent amb `1`, mdul `p`.

Aix ens suggereix un test directe per comprovar si un nombre s primer. Per cal anar en compte.

---

## Nombres primers

```python
def fermat(num, test_count):
    if num == 1:
        return False
    for x in range(test_count):
        val = randint(1, num-1)             # genera nombre aleatori
        if pow(val, num-1, num) != 1:		# la potncia a Python es basa en l'algorisme modular
            return False
    return True

fermat(41651,10)
> True
```
--


Els problema s que aquest teorema s **necessari per no suficient**: no diu qu passa quan `N` no s primer!

> Dentrada, es coneixen uns certs nombres compostos, anomenats nombres de Carmichael, que passen el test i no sn primers... per sn pocs i s poc probable que en trobem un de forma aleatria. Per altra banda existeixen algorismes modificats de Fermat que els eviten.

> Qu passa amb els nombres compostos que no sn nombres de Carmichael?

---

## Nombres primers

**Lema**

> Si `a^(N-1)` no s congruent amb 1 mdul `N` per algun `a` que sigui nombre compost per no de Carmichael, llavors com a mnim en la meitat dels casos en que `a < N` el teorema petit de Fermat fallar.

** Test de primeritat **

Si ignorem els nombres de Carmichael, podem dir que:

+ Si `N` s primer, llavors `a^(N-1)` s congruent amb 1 mdul `N` per tots el `a < N`.
+ Si `N` no s primer, llavors `a^(N-1)` no ser congruent amb 1 mdul `N` per com a mnim la meitat dels valors `a < N`.

I per tant el comportament de lalgorisme proposat s:

+ El test retornar `True` en tots els casos si `N` s primer.
+ El test retornar `True` per la meitat o menys dels casos en que `N` no s primer.

---

## Nombres primers: Algorisme de test de primeritat

Si repetim lalgorisme `k` vegades per nombres `a` escollits aleatriament, llavors **la probabilitat de que retorni sempre `True` quan `N` no s primer s menor que `1/(2^k)`**. 

Si `k=100`, la probabilitat s menor que `2^(-100)`.

Amb un nombre moderat de tests podem determinar si un nombre s primer!

---

## Nombres primers: Algorisme de test de primeritat

<center><img src="images/test.png" width="750" alt="algorisme fermat en codi i algorisme que l'usa per generar un primer de 1024 bits"></center>

---

## Nombres primers grans

Com s que l'algorisme anterior no ha tardat en trobar un nombre primer format per uns quants centenars de bits?

### s difcil trobar nombres primers grans?

Si nhi ha pocs tenim un problema amb lalgorisme anterior, doncs lhaurem de repetir moltes vegades per poder trobar-ne!

El **teorema dels nombres primers de Lagrange** ens assegura que no tindrem problemes: la probabilitat de que un nombre de `n` bits sigui primer s aproximadament:

$$ \frac{1}{ln 2^2} \approx \frac{1.44}{n}$$


Pel cas `n=1000`, generarem al voltant de `1000` nombres aleatoris per trobar un primer.

---

## Recapitulaci

Abans hem dit que l'esquema de comunicaci secreta t sentit si:

+ Factoritzar `n = p*q` s prcticament impossible. 
+ Trobar `(p,q)` grans es basa en un mtode eficient.
+ Calcular `x*y % n` es es basa en un mtode eficient.
+ Calcular `e*d % ((p-1)(q-1)) == 1` es basa en un mtode eficient.

Noms ens falta solucionar el darrer punt!
--


La soluci del darrer punt s:

+ Definim  `e=3`.
+ Llavors `d` s el que sanomena invers de `e` mdul `(p-1)(q-1)` i aquest nombre es pot calcular amb una petita variaci de lalgorisme dEuclides!

.bold[Per tant, els algorsmes de ms alta complexitat en un procs criptogrfic tenen `O(n^3)`]. 

---

class: center, middle, inverse
name:tema4

# Tema 4: **Algorismes per text**

---

## Cerca de cadenes de carcters

Sn algorismes crtics en moltes aplicacions importants de la informtica:

+ Editors de text (cerca, ortografia, etc.).
+ Bioinformtica.
+ Cercadors dInternet.
+ Bases de dades.
+ Compressi.
+ Antivirus.
+ Etc.

---

## Cerca de cadenes de carcters


Considerem el segent problema:

> Tenim un string *P* de `m` carcters (el que volem trobar) i un string *T* de `n` carcters, `n > m` dins el qual buscar. Aquests strings se solen anomenar **P**atr de cerca i **T**ext on buscar.

Per exemple: 


`P: 001011`

`T: 10010101101001100101111010`

--

`P: happy`

`T: It is never too late to have a happy childhood.`

--

`P: GATTCAC`

`T: ATCGGATATCCGGAAACTGGTAGCGTGTAGGAGGTAGCCTGGAAG` 

---

## Cerca de cadenes de carcters: versi ingnua

`P: 001011`

`T: 10010101101001100101111010`

En una primera instncia, podrem comparar tot l'string amb cada possible posici, per fcilment podem millorar-ho... 

<center><img src="images/string1.png" width="450" alt="la cadena T es mostra i a sota la cadena P es situa primer a l'inici, desprs a l'inici+1... fins a la posici en la que P es correpon exactament amb els carcters de T"></center>

---

## Cerca de cadenes de carcters: versi ingnua


### Algorisme de fora bruta:

+ Alineem el patr al principi del text.
+ Ens movem desquerra a dreta, comparant cada carcter del patr amb el carcter corresponent del text fins que tots els carcters fan correspondncia o trobem una diferncia.
+ Mentre hi hagi diferncies i no haguem recorregut tot el text, realiniem una posici ms a la dreta i repetim el pas 2. 
--


```python
def BFStringMatching(t,p):
    m=len(p)
    n=len(t)
    for i in range(0,n-m+1):               #i s la posici inicial del patr
      j=0
      while j < m and p[j]==t[i+j]: j=j+1  #j sn els carcters que coincideixen
      if j == m: return i
    return -1
```

---

## Cerca de cadenes de carcters: versi ingnua


La complexitat de lalgorisme es pot analitzar en tres situacions:

+ En moltes ocasions, fem una comparaci i movem. Aquest s el millor cas, i la complexitat si per tots els moviments fssim aix seria `O(n)`. Aquest seria el cas, per exemple, de tenir una patr que comena per una lletra que no apareix al text.

+ En daltres, fem totes les comparacions. Aquest s el pitjor cas, i la complexitat si per tots els moviments fssim aix seria `O(n*m)`.

+ En un cas real, amb llenguatge natural, la complexitat mitja d'aquest algorisme sacosta a `O(n+m)=O(n)`(calculada de forma emprica).

---

# Altres problemes

La cerca no s lnic problema interessant:

+ Buscar la subcadena ms gran en com entre dos texts.
+ Cerca aproximada.
+ Altres
--


El problema de la **cerca aproximada** s: donat un patr `P[1..m]` i un text `T[1..n]`, trobar la subcadena de `T` amb la distncia dedici mnima respecte a `P`.

La **distncia dedici** s el nombre doperacions primitives per convertir un string en un altre.


<center><img src="images/string2.png" width="350" alt="la distncia entre barbershop i varvar suposa canviar la e per una a i les dues Bs per Vs"></center>

Un algorisme basat en la fora bruta calcularia la distncia dedici de `P` a totes les subcadenes de `T`, i llavors escolliria la que t distncia mnima.

---

## Cerca aproximada de cadenes.

Com calculem totes les subcadenes d'una cadena?

```python
a="hola"
cont=0
for j in range(len(a)):
    for i in range(j+1,len(a)+1):
        cont=cont+1
        print cont,(a[j:i])
```

Els substrings de `hola` sn `h`, `o`, `l`, `a`, `ho`, `ol`, `la`, `hol`, `ola` i `hola`

Si n s la longitud de la cadena, el nombre de subcadenes s                            

$$
\sum_{i = 1}^n i = \frac{n(n+1)}{2}
$$ 

que s una complexitat `O(n^2)`.

---

## Cerca aproximada de cadenes.

Un algorisme basat en la fora bruta per fer cerca aproximada de cadenes tindria una complexitat `O(n^3 * m)`, ats que (com veurem ms endavant) el clcul de la distncia dedici t `O(n*m)`.

Hi ha algorismes ms ptims per fer-ho?

> S, l'algorisme de Boyer-Moore, l'algorisme de Horspool, etc. 

---

## Clcul de la distancia d'edici: Levenshtein

Abans de veure com cercar un patr (curt) en un text (llarg), anem a veure com calcular la distncia `d` entre dos strings (curts).

> Quina s la distncia entre `BARBER` i `BRBAR`

Aix es fa amb lalgorisme de Levenshtein:

> ..  (1965). "    ,    ".   CCP163(4): 8458.

<center><img src="images/lev.png" width="100" alt="bust de Levensthein"></center>


.footnote[Tradut a l'angls:Levenshtein VI (1966). Binary codes capable of correcting deletions, insertions, and reversals".Soviet Physics Doklady10: 70710.]

---

## Clcul de la distancia d'edici: Levenshtein


Aquest algorisme (tamb anomenat *distncia dedici*) calcula el nombre mnim doperacions dedici que sn necessries per modificar una cadena `P` i obtenir-ne una altra `T`. 

Usualment, les operacions dedici sn:

+ inserci(p.e., canviar`cot`per`coat`),
+ eliminaci(p.e., canviar `coat`per`cot `), i
+ substituci(p.e., canviar `coat`per`cost`).

Tamb es podria considerar la transposici: canviar `cost` per `cots`. 

---

## Clcul de la distancia d'edici: Levenshtein

Per fer-ho, va omplint una matriu *d* de manera que la posici `[m,n]` representa la distncia dedici entre el prefix de `m` carcters dun patr i el prefix de `n` carcters dun text.

<center><img src="images/lev2.png" width="650" alt="patr:LEVENSHTEIN i a sota, carcter per carcter, text:MEILENSTEIN"></center>

`d[1][1]`, canviar `L` per `M`, val 1 doncs noms s una substituci.

`d[1][3]`, canviar `L` per `MEI`, val 3 perque s una substituci i dues insercions.

---

## Clcul de la distancia d'edici: Levenshtein

<center><img src="images/lev3.png" width="650" alt="Es mostra la matriu [[d  t1 t2 t3 t4][ 0 1 2 3 4][p1 1 - - - -][p2 2 - - - -][p3 3 - - - -]] el valor de la primera fila i columna sn evidents, per com calculems els valors interiors, com d[2,3]?"
></center>


---

## Clcul de la distancia d'edici: Levenshtein


Suposem que ja tenim una alineaci ptima entre els prefixos `p[0,i-1]` i `t[0,j-1]`.  Qu podem fer amb `p[i]` i `t[j]` i com calculem `d[i,j]`? 

<center><img src="images/lev4.png" width="350" alt="p i t es mostren totalment alineats"></center>

Noms podem fer tres coses!

1 Fem que `p[i]` i `t[j]` facin correspondncia. Si `p[i]=t[j]` llavors `d[i,j]=d[i-1,j-1]`. Si no substituim i  `d[i,j]=d[i-1,j-1]+1`.

<center><img src="images/lev5.png" width="350"></center>

---

## Clcul de la distancia d'edici: Levenshtein

2 Decidim que hi ha un forat al patr, i per tant inserim i `d[i,j]=d[i-1,j]+1`

<center><img src="images/lev6.png" width="350"></center>


3 Decidim que hi ha un forat al text, i per tant eliminem i  `d[i,j]=d[i,j-1]+1`

<center><img src="images/lev7.png" width="350"></center>

---
## Clcul de la distancia d'edici: Levenshtein


Observaci:

`d[i,j]= min{d[i-1,j] + 1, d[i,j-1] + 1, d[i-1,j-1] + cost}`

Aix s podria resoldre amb una crida recursiva, ats que nosaltres volem `d[m,n]` i coneixem `d[0,:]` i `d[:,0]`, per la crida recursiva t massa cost computacional!

Podem seguir la mateixa estratgia que vam fer servir per la seqncia de Fibonacci.

---
## Clcul de la distancia d'edici: Levenshtein


Observaci:

`d[i,j]= min{d[i-1,j] + 1, d[i,j-1] + 1, d[i-1,j-1] + cost}`

<center><img src="images/lev8.png" width="650"></center>

---
## Clcul de la distancia d'edici: Levenshtein


<center><img src="images/lev9.png" width="550"></center>

---

## Clcul de la distancia d'edici: Levenshtein

La matriu es pot omplir seqencialment:

```python
Per cada carcter de s (i des de 1 fins n):
  Per cada carcter de t (j des de 1 fins m):
      Si s[i] == t[j]: cost = 0      
      Si s[i] != t[j]: cost = 1 
      d[i,j] = mnim (d[i-1,j] + 1, 
                      d[i,j-1] + 1, 
                      d[i-1,j-1] + cost)
```

Aix t una complexitat `O(m*n)` equivalent a calcular tots els elements de la matriu.

---

## Clcul de la distancia d'edici: Levenshtein

El nombre que queda a la **cantonada de baix a la dreta** de la matriu s la distncia de Levenshtein, o dedici, entre les dues paraules.

Si volem saber les operacions dedici efectuades, hem de buscar el **cam mnim entre els extrems de la matriu o simplement guardar a cada pas la decisi presa respecte a ledici**.

<center><img src="images/lev10.png" width="500"></center>

---

## Clcul de la distancia d'edici: Levenshtein

Pot haver-hi diversos possibles passos de cost mnim:

<center><img src="images/lev11.png" width="500"></center>

---

## Clcul de la distancia d'edici: Levenshtein

<center><img src="images/lev12.png" width="400"></center>

---

## Clcul de la distancia d'edici: Levenshtein

```python
def levenshtein_distance(first, second):
    if len(first) > len(second): 
        first, second = second, first
    if len(second) == 0: 
        return len(first)
    first_length = len(first) + 1
    second_length = len(second) + 1
    distance_matrix = [[0] * second_length for x in range(first_length)]
    for i in range(first_length): 
        distance_matrix[i][0] = i
    for j in range(second_length): 
        distance_matrix[0][j] = j
    for i in range(1, first_length):
        for j in range(1, second_length):
            deletion = distance_matrix[i-1][j] + 1
            insertion = distance_matrix[i][j-1] + 1
            substitution = distance_matrix[i-1][j-1]
            if first[i-1] != second[j-1]: 
                substitution += 1
            distance_matrix[i][j] = min(insertion,deletion,substitution)
    return distance_matrix[first_length-1][second_length-1]


```
---

## Clcul de la distancia d'edici: Levenshtein

```python
def levenshtein_distance(first, second):
    if len(first) > len(second): 
        first, second = second, first       # el primer sempre ms curt
    if len(second) == 0: 
        return len(first)
      first_length = len(first) + 1
      second_length = len(second) + 1
      distance_matrix = [[0] * second_length for x in range(first_length)]                  # posem la matriu a 0
      ...
```

`distance_matrix = [[0] * second_length for x in range(first_length)]` s una **comprensi** de Python, que es pot interpretar com:

```python
distance_matrix = [] 
for x in range(first_length):
    distance_matrix.append([0] * second_length)
```

---

## Clcul de la distancia d'edici: Levenshtein

```python
      ...                                # valors inicials
      for i in range(first_length): 
          distance_matrix[i][0] = i
      for j in range(second_length): 
          distance_matrix[0][j] = j
      
      for i in range(1, first_length):   # recorregut resta caselles
          for j in range(1, second_length):
              
              deletion = distance_matrix[i-1][j] + 1
              insertion = distance_matrix[i][j-1] + 1
              substitution = distance_matrix[i-1][j-1]
              
              if first[i-1] != second[j-1]: 
                  substitution += 1      # substitution val 0 o 1     
              
              distance_matrix[i][j] = min(insertion,deletion,substitution)
      
      return distance_matrix[first_length-1][second_length-1]


```
---

## Cerca aproximada de cadenes

Recordem que el nostre problema era:

> Donat un patr `P[1..m]` i un text `T[1..n]`, trobar la subcadena de `T` amb la distncia dedici mnima respecte a `P`.

Aquest clcul es pot fer amb lalgorisme de Levenshtein. 

Noms cal adonar-se que si a la matriu de Levenshtein omplim la primera fila amb zeros (equival a considerar que el cost d'inserir espais en blanc al davant del patr s nul) tindrem una petita variaci que ens permetr trobar les subcadenes de distncia mmina!

---

## Cerca aproximada de strings

El clcul de la matriu t una complexitat de`O(mn)`, mentre que la cerca del cam marxa enrere t una complexitat `O(n+m)`.


<center><img src="images/lev13.png" width="500"></center>

`T`: `la cassa mes gran que mai ha existit`

`P`: `casa`

Trobem tres respostes a distncia 1: `cas`, `cass`, `cassa`

---

class: center, middle, inverse
name:tema5

# Tema 5: **Algorismes i fora bruta**

---

## Fora Bruta

Diem que un algorisme est basat en la fora bruta si implementa la soluci a un problema basant-se directament en la definici del problema i en la definici dels conceptes involucrats, sense cap optimitzaci.

+ Calcular `a^n mod m`, per (`a > 0`, `n >= 0`).
+  Calcular `n!`
+  Multiplicar dues matrius `A` i `B`.
+  Buscar el valor mnim en els valors duna funci.

---

## Ordenaci d'una llista

Ordenar s una de les operacions ms repetides per qualsevol ordinador!

+ Ordenar una llista de persones.
+ Ordenar els registres duna base de dades per data.
+ Ordenar les factures per import.
+ Ordenar pgines web a un cercador.
+ Ordenar productes en un recomanador.
+ Etc. 

s ms, ordenar s un pas previ per moltes altres operacions computacionals!

Hi ha molts algorismes dordenaci. Anem a veuren un basat en la fora bruta.

---
## Ordenaci d'una llista


<center><img src="images/bruta1.png" width="700"></center>

---

## Ordenaci per selecci

L'algorisme dordenaci per selecci segueix l'analogia d'ordenaci ingnua d'una baralla de cartes: 

+ Recorrem la llista `A` per trobar lelement ms petit i el canviem pel primer element. 
+ Llavors, comenant pel segon element, mirem els elements que queden a la dreta i busquem el menor, que canviem pel segon. 
+ En general, al pas `i` (`0 <= i <= n-2`),  busquem lelement ms petit a 
`A[i+1..n-1]` i el canviem per `A[i]`.

<center><img src="images/sort1.png" width="400"></center>

---

## Ordenaci per selecci

<center><img src="images/sort3.png" width="400"></center>

---

### Ordenaci per selecci

```python
def selection_sort(l): 
   for i in range(0, len(l)-1): 
       min = i 
       for j in range(i + 1, len(l)): 
           if l[j] < l[min]: 
               min = j 
       l[i],l[min]=l[min],l[i]

```


Loperaci ms important s una comparaci:
 
`if l[j] < l[min]: min = j` 

I el nombre de vegades que sexecuta s:

<center><img src="images/sort5.png" width="700"></center>


Evidentment lalgorisme s quadrtic, tot i que noms fem `O(n)` intercanvis a la llista.

---

## Ordenaci per selecci


Lordenaci per selecci no s un bon mtode dordenaci perqu hi ha altres algorismes de complexitat `O(n log n)`!

.bold[**Avs**: No useu mai un algorisme `O(n^2)` per ordenar (bubble sort, insertion sort, ...).]

---

## Algorismes

Hi ha molts problemes computacionals que shan demostrat intractables. La intractabilitat pot ser de dos tipus:

+ Cas fort: **Sha demostrat** que no existeix un algorisme per resoldre el problema (p.e. la indecidibilitat de laturada dun programa).
+ Cas dbil:  **No es coneix** cap algorisme eficient per resoldre el problema  (p.e. la factoritzaci). 

NOTA: Una forma dafrontar la intractabilitat sn els algorismes aproximats.
--


Quan no hi ha cap algorisme eficient per resoldre un problema ens enfrontem a un problema de cerca per fora bruta:  **enumerar totes les solucions i trobar la millor**.

**Exemple**: Coloraci dun graf: Donat un graf `G` amb `n` vrtexs, `m` arcs i una paleta de `k` colors, decidir si s possible assignar a cada vrtex un color de manera que tots els arcs  tinguin colors diferents als seus extrems.

---
## Cerca exahustiva


La **cerca exhaustiva** (o cerca per fora bruta) consisteix en una exploraci sistemtica de lespai de solucions possibles a un problema donat.

Pot dividir-se en varies parts: com generar totes les possibles solucions, seleccionar les que compleixen unes determinades restriccions, triar la millor. 

La resoluci de problemes per cerca exhaustiva sol comportar lexploraci despais molt grans de solucions, per la qual cosa resulta prctica noms per a instncies petites del problema.

---

## Cerca exhaustiva: TSP o el problema del viatjant de comer.


Donat un conjunt de llocs o ciutats, es tracta de trobar l'ordre a seguir per tal de tal que el cam fet pel viatjant de comer passant per tots els llocs, des del punt de partida fins al punt d'arribada, siguiel ms curt possible.

El problema del viatjant de comer es presenta en moltes aplicacions prctiques, per exemple en laplanificaci d'un viatge, enlogsticao en el disseny delmicroxips. 

Encara apareix ms freqentment com a subproblema, per exemple en el problema de la distribuci de mercaderies, en el problema de la planificaci de la ruta perdonar servei als clientso en laseqenciaci del genoma.


---

## Cerca exhaustiva: TSP o el problema del viatjant de comer.


El problema del viatjant de comer es pot modelitzar amb l'ajuda d'ungrafutilitzant els vrtex i les arestes. 

Les ciutats estan representades pels vrtexs `v_1,...,v_n` i les carreteres entre les ciutats per les arestes`a_ij`entre dos vrtexs`v_i`i`v_j`. 

Cada aresta`a_ij` t una determinada longitud que, depenent del context, significa la longitud geogrfica d'una connexi, el temps emprat en el recorregut o les despeses de viatge. 

<center><img src="images/cerca1.png" width="500"></center>

---

## Cerca exhaustiva: TSP o el problema del viatjant de comer.


Unaruta(tamb coneguda comcircuit hamiltoni) s uncircuitque passa per tots els vrtexs i en el que cada vrtex surt exactament una vegada. (= una seqncia de `n` vrtexs diferents = una seqncia de `n+1` vrtexs que comencen i acaben al mateix vrtex).


L'objectiu s trobar la ruta ms curta possible.

---

## Cerca exhaustiva: TSP o el problema del viatjant de comer.

Generar totes les possibles rutes s el mateix que generar **totes les possibles permutacions** dels vrtexs del mig. 

<center><img src="images/cerca2.png" width="200"></center>

<center><img src="images/cerca3.png" width="500"></center>

---
## Cerca exhaustiva: TSP o el problema del viatjant de comer.


De fet, podem obviar la meitat de les rutes: `B-C-D` = `D-C-B`

Per tant, podem triar dues ciutats del mig (per exemple `B` i `C`) i tenir en compte noms les permutacions on `B` precedeix `C`  (aquest petit truc defineix la direcci de la ruta!).

Tot i aix, el nombre de rutes s `(n-1)!/2`....

Com generem les possibles permutacions?

---

## Algorisme de Johnson-Trotter

Algorisme de Johnson-Trotter per generar permutacions:

1. Primer associa un smbol a cada enter.

2. Desprs assigna una direcci a cada smbol:
 
<center><img src="images/trotter.png" width="200"></center>

El smbol `k` es diu mbil si el smbol contigu en la direcci que assenyala s menor que ell (a lexemple, `3` i `4` sn mbils).

---

## Algorisme de Johnson-Trotter

Entrada: una llista denters.

Sortida: una llista amb totes les permutacions.

```
1. Inicialitza la primera permutaci amb tots els elements 1,2,...,n mbils: 
    tots amb una fletxa mirant a l'esquerra.
2. Mentre hi hagi un element mbil:
    2.1 Troba lenter mbil k ms gran
    2.2 Intercanvia k i lelement adjacent al qual assenyala
3. Inverteix la direcci de tots els elements que sn ms grans que k
4. Afegeix la permutaci a la llista.
```

<center><img src="images/trotter2.png" width="500"></center>

---
## Cerca exhaustiva: TSP o el problema del viatjant de comer.


El problema del viatjant de comer no t una soluci exacta ms eficient que la cerca exhaustiva: no es coneix cap algorisme exacte en temps polinmic.

Daix en diem problemes **NP-hard**.

Hi ha algorismes que troben solucions probablement bones, tot i que no podem estar segurs que siguin ptimes.

---
## Cerca exhaustiva: El problema de la motxilla.

El**problema de la motxilla**, altrament dit KP (en angls, *Knapsack Problem*) s un problema d'optimitzaci combinatria.

Modelitza una situaci anloga al fet d'omplir unamotxilla, en la que no es pot posar ms d'un cert pes, amb tot o una part d'un conjunt d'objectes. Aquests objectes tenen un pes i unvalordeterminat. 
Els objectes que es posen dins la motxilla han demaximitzarel valor total sense sobrepassar el pes mxim.

<center><img src="images/motx.png" width="300"></center>

---
## Cerca exhaustiva: El problema de la motxilla.


Com es generen les possibles solucions?

--

Generar les possibles solucions daquest problema s el mateix que generar tots els possibles subconjunts dun conjunt (`O(2^n)`).

Desprs podrem seleccionar les que caben a la motxilla, i per ltim, entre les que hi caben, quina s la ms valuosa.

---
## Cerca exhaustiva: El problema de la motxilla.

s til per modelar:

+ sistemes de suport a lagesti del portafolis: per equilibrar la selecci i la diversificaci amb l'objectiu de trobar el millor equilibri entre el rendiment i el risc d'un capital collocat en diferentsactius financers(accions...);

+ en la crrega d'unvaixello d'unavi: tot l'equipatge que es pot portar sense sobreps;

+ en el tall delsmaterials: per minimitzar les prdues degudes als talls (de diferents mides) realitzats en barres de ferro;
+ en elproblema de emplenat de contenidors o *bin packing*.

---
## Cerca exhaustiva: El problema de la motxilla.


**Com generem els subconjunts dun conjunt?**

Ens basarem en fer una correspondncia entre els `2^n` subconjunts dun conjunt `A={a_1,...,a_n}` de `n` elements i els `2^n` strings de bits de longitud `n`, `b_1,...,b_n`.

> El nombre de subconjunts d'un conjunt s `2^n`: cada un dels subconjunts es defineix pel fet que un determinat elements hi pertany o no, i per tant es pot representar com un nombre binari de `n` elements. 

> Per exemple, si `n=3`, el string `000` representa el conjunt buit, el `111` correspon al conjunt sencer, i `101` s el subconjunt format pel primer i el tercer element. 

---

## Cerca exhaustiva: El problema de la motxilla.


**Com generem els subconjunts dun conjunt?**

Feta aquesta associaci, podem generar tots els subconjunts dun conjunt de `n` elements generant de forma successiva els nombres binaris des de `0` fins a `2^(n-1)`, posant els `0`s que siguin necessaris al davant:

> `000  001  010  011  100  101  110  111`

--

El problema de la motxilla **no t una soluci exacta ms eficient que la cerca exhaustiva**: no es coneix cap algorisme exacte en temps polinmic.

Daix en diem problemes NP-hard.


---

class: center, middle, inverse
name:tema6

# Tema 6: **Dividir i vncer**

---

## Algorismes de dividir i vncer

Dividir i vncer s una **estratgia de resoluci de problemes** consistent en:

+  Dividir un problema en subproblemes que sn instncies ms petites (des del punt de vista de la mida de l'entrada) del mateix problema.

+  Resoldre recursivament aquests subproblemes.

+  Combinar adequadament les solucions dels subproblemes per trobar la soluci del problema original.

--

Les **qestions a resoldre** sn tres:

+  Com anem dividint el problema en subproblemes de forma recursiva?

+  Com aturem la recursi i donem una soluci al darrer subproblema?

+  Com combinem les solucions recursives per assolir la soluci del problema complet?

---

## Qu s la recursi?

---

## Exemple: el problema de les torres de Hanoi


<center><img src="images/hanoi.png" width="350"></center>

There is a legend about anIndiantemple which contains a large room with three time-worn posts in it surrounded by 64 golden disks.Brahminpriests, acting out the command of an ancient prophecy, have been moving these disks, in accordance with the rules of the puzzle, since that time. The puzzle is therefore also known as the Tower ofBrahmapuzzle. According to the legend, when the last move of the puzzle is completed, the world will end.

If the legend were true, and if the priests were able to move disks at a rate of one per second, using the smallest number of moves, it would take them 
`2^(641)` seconds or roughly 585billionyears; it would take 18,446,744,073,709,551,615 turns to finish.

---

## Exemple: el problema de les torres de Hanoi


Lestorres de Hanois unjoc usat tpicament com a exemple derecursivitat. 

A l'inici estan collocats de ms gran a ms petit en la primera vareta. El joc consisteix en passar tots els discs a la tercera vareta tenint en compte que noms es pot canviar de vareta un disc cada vegada i que mai no podem tenir un disc collocat sobre un que sigui ms petit.

La idea bsica per resoldre-ho amb un algorisme recursiu s que:

+ Per poder passar la pea grossa de `A` a `C` cal passar les que estan a sobre de `A` a `B` amb lajut de `C`.
+ Llavors puc passar la pea que queda a `A` a `C` i oblidar-me della, ja est ben collocada!
+ Ara tinc la pila a `B`.  Per tant el que queda s passar les peces de `B` a `C` amb lajuda de `A` i ja haur acabat.

Aquesta idea bsica es pot repetir recursivament!

---

## Exemple: el problema de les torres de Hanoi

```python
def moveTower(height,fromPole, toPole, withPole):   #height s el nombre de discos que hi ha al pal orgen
    if height >= 1:
        moveTower(height-1,fromPole,withPole,toPole)
        moveDisk(fromPole,toPole)
        moveTower(height-1,withPole,toPole,fromPole)

def moveDisk(fp,tp):
    print("moving disk from",fp,"to",tp)

moveTower(3,"A","B","C")
```



```python
moving disk from A to B
moving disk from A to C
moving disk from B to C
moving disk from A to B
moving disk from C to A
moving disk from C to B
moving disk from A to B
```

La complexitat s exponencial `O(2^n)`


---

## Exemple: el problema de les torres de Hanoi

Les crides recursives generen aquest arbre (a cada node hi ha els parmetres, que recordem eren: height, fromPole, toPole, withPole):


<center><img src="images/hanoi1.png" width="650"></center>

per exemple: 3ABC vol dir que hi ha tres discs a A, que es mouran a B amb l'ajut de C; 1CAB vol dir que hi ha 1 disc a C, que es mouran a A amb l'ajut de B
---

## Exemple: el problema de les torres de Hanoi

L'ordre de generaci de la soluci s:


<center><img src="images/hanoi2.png" width="650"></center>

---

## Exemple: el problema de les torres de Hanoi

+ Qu passaria amb l'arbre si enlloc de 3 peces en tenim 4?

--

> *Que tindria un nivell ms amb el doble de fulles.*

--

+ Quantes vegades es crida recursivament la funci (quantes fulles i nodes te l'arbre) si tenim `n` peces?

--

> `1`+ `2` + `4` + `8` + `...` + `2^n` = `2^(n+1) - 1`

--

+ Quina s la complexitat de l'algorisme?

--

> *Si fa `(2^(n+1)-1)` crides i cada una de les crides com a mxim
executa instruccions de cost `O(1)`, el cost s `O(2^(n+1))`. s a dir,  ordre exponencial, O(2^n)*


---

## Exemple: Suma (recursiva) dels elements d'una llista.

```python
def sum(l):
   if len(l) == 1:
        return l[0]
   else:
        return l[0] + sum(l[1:])
         
a =[5,7,3,8,10]

```

+ Quina complexitat t aquest algorisme?

--

> `O(n)` 

<center><img src="images/suma recursiva.png" width="300" alt="una cadena amb un darrer element '4' amb un retorn de 4, un element '3,4' amb un retorn de 3 + 4 = 7, un element '7,3,4' amb un retorn de 7+7 = 14, un element '5,7,3,4' amb un retorn de 14+5=19"></center>


---

## Algorismes de dividir i vncer: relacions de recurrncia.

Lesquema general daquests algorismes s: tenim un problema de mida `n`, que reformulem mitjanant la soluci d`a` problemes de mida `n/b` i llavors combinem les respostes en un temps `O(n^d)`. La seva complexitat ser per tant `T(n)=aT(n/b)+O(n^d)`

Aquesta recurrncia t una soluci tancada, que est enunciada al **Teorema Master**.

--

### Teorema Master

Si `T(n)=aT(n/b)+O(n^d)` per algunes constants `a>0`, `b>1`, i `d>=0`, llavors:

+  **cas 1**: `T(n) = O(n^d) ` si `d > log_b a`  
+  **cas 2**: `T(n) = O(n^d log n) ` si `d = log_b a `
+  **cas 3**: `T(n) = O(n^(log_b a))` si `d < log_b a`


>Fixeu-vos que en el cas 1 el que mana s el cost de la combinaci de solucions per qu d s molt gran. En el cas 3, en canvi, el que mana s log b d'a que ser gran quan hi hagi molts subproblemes i no es redueixin gaire en cada divisi. En el cas 2 mbdues complexitats estan equilibrades.
---

## Algorismes de dividir i vncer: relacions de recurrncia.

** Exemple:**

Si tenim un determinat problema que es pot  dividir en 2 subproblemes (`a = 2`), cada un dels quals processa unes dades que sn `1/2` de les originals (`b = 2`), i la reconstrucci de la soluci en costa `O(n^2)`...

--

... podem aplicar el cas (1) del teorema Master, perqu `2>log_2=1` ...

--

i per tant resulta `O(n^2)`.

---

## Algorismes de dividir i vncer per ordenar, mergesort i quicksort

A continuaci coneixerem dos algorismes que ens ajudaran a ordenar una llista de forma ms eficient, concretament amb una complexitat d'O(n log n)

Ambds usen funcions auxiliars per preparar o per recombinar els subproblemes en que es basa la divisi.

---



## Algorismes de dividir-i-vncer: **merge**

Lordenaci duna llista es pot plantejar daquesta manera:

Suposem que tenim dos conjunts de cartes, amb `n` elements cada un, que estan ordenats de menor a major (quan les posem de cara la ms petita est al davant).

1. Comparem les dues cartes de sobre de tot de cada conjunt i escollim la ms petita, que posem a un nou conjunt de cartes ordenades (pel darrera, si nhi ha alguna).
2. Repetim 1 fins que un dels conjunts estigui buit, i el conjunt que encara t cartes lafegim per darrera al conjunt de cartes ordenades.

El resultat s un conjunt de cartes ordenades!



---

## Algorismes de dividir-i-vncer: **merge**

<center><img src="images/merge1.png" width="650" alt="es mostren els passos successius de barregar dues piles de 4 cartes cadascuna"></center>


---

## Algorismes de dividir-i-vncer: **merge**

<center><img src="images/merge2.png" width="650" alt="es mostren els darrers passos per barregar les dues piles anteriors i el resultat ordenat"></center>


---

## Algorismes de dividir-i-vncer: **mergesort**

Per en el cas general no partim de dos conjunts de cartes ordenades! **merge** s una funci auxiliar de l'algorisme general d'ordenaci **mergesort**.

El que podem fer s descomposar el problema en subproblemes ms petits fins que arribem als casos que sabem resoldre!

Aix ho podem expressar recursivament:

```python
def mergesort(list):
    if len(list) < 2:
        return list
    else:
        middle = len(list) // 2
        left = mergesort(list[:middle])
        right = mergesort(list[middle:])
        return merge(left, right)
```

La correcci daquest algorisme s evident, sempre i quan definim b la funci `merge`. 

---

## Algorismes de dividir-i-vncer: **merge**

La funci merge tamb la podem definir recursivament:

```python
def merge(x,y):
    if len(x) < 1:
        return y
    if len(y) < 1:
        return x
    if x[0] <= y[0]:
        return [x[0]] + merge(x[1:],y)
    else:
        return [y[0]] + merge(x,y[1:])

```

> Aquesta funci es pot definir tamb de forma NO recursiva, i s simplement anar comparant i copiant de forma ordenada els dos vectors en un nou vector.

---

## Algorismes de dividir-i-vncer: **mergesort**

<center><img src="images/merge3.png" width="650" alt="diagrama amb els passos de divisi i ordenaci de la llista 1,5,8,3,4,2,1,0"></center>

---

## Algorismes de dividir-i-vncer: **merge**

La versi no recursiva de `merge` seria aquesta:

```python
def merge(left, right):
    result = []
    i ,j = 0, 0
    while(i < len(left) and j < len(right)):
        if (left[i] <= right[j]):
            result.append(left[i])
            i = i + 1
        else:
            result.append(right[j])
            j = j + 1

    result += left[i:]
    result += right[j:]
    return result

```
---

## Algorismes de dividir-i-vncer: **mergesort**

La funci `merge` t una complexitat per cada crida recursiva `O(n)` (en el pitjor dels casos). Com que aquesta s la funci que usem per combinar les solucions parcials, `d=1`.

Quan dividim creem 2 problemes, de mida `n/2`. Per tant, com que `a=2` i `b=2` log_b a = 1, que s igual a d i apliquem el cas 2. 

`mergesort` t una complexitat `O(n log n)`.

La funci mergesort es pot implementar iterativament, per per fer-ho necessitem una estructura que no veurem en aquesta assignatura: la cua.

---

## Algorismes de dividir-i-vncer: **quicksort**


**Quicksort** s un altre algorisme dordenaci basat en lestratgia de dividir i vncer.

Aquest algorisme divideix el vector basant-se en els valors dels elements que cont: reordena els elements per aconseguir una partici, una situaci en la que tots els elements anteriors a una posici `s` siguin menors o iguals que `A[s]` i tots els elements posteriors a la posici `s` siguin majors o iguals que `A[s]`:

`A[0] ... A[s-1] <= A[s] <=  A[s+1] ... A[n-1]`

L'element `A[s]` s'anomena **pivot**. 

---

## Algorismes de dividir-i-vncer: **quicksort**

bviament, si tenim aquesta situaci, `A[s]` ja est al seu lloc i no shaur de moure, i podem passar a ordenar el que hi ha a ambdues bandes:

```python

def quick_sort(A):
    quick_sort_r(A, 0, len(A) - 1)    # quicksort_r t ms parmetres per facilitar les crides recursives

def quick_sort_r(A , first, last):	# A s la llista, first i last els ndexs entre els quals cal ordenar
    if last > first:
        pivot = partition(A, first, last) # dividim el problema
        quick_sort_r(A, first, pivot - 1) # ordenem part esquerra
        quick_sort_r(A, pivot + 1, last)  # ordenem part dreta
``` 
---

## Algorismes de dividir-i-vncer: **partition**


Com calculem la partici duna llista `A`?

Primer seleccionem un element, respecte del qual dividirem la subllista, que anomenarem el pivot. Per exemple, escollim `pivot=A[first]`.

Desprs hem de reordenar per aconseguir una partici.  Aix ho podem fer amb dues passades (desquerra a dreta i de dreta a esquerra) de la llista.

+ La passada desquerra a dreta `(i)` comena pel segon element `i`  no satura fins trobar un element ms gran o igual que el pivot `(p)`. 

+ La passada de dreta a esquerra `(j)` comena per lltim element i satura quan troba un element ms petit o igual que el pivot.

---

## Algorismes de dividir-i-vncer: **partition**

Quan les dues passades saturen, ens podem trobar en tres situacions:

<center><img src="images/quicksort1.png" width="650" alt="primer cas i s ms petit que j, intercanviem i fem avanar i i j; segon cas: j s ms petit que i, intercanviem el pivot i A[j]; tercer cas: i=j, tenim el vector partit i la posici de partici s i=j"></center>


---
## Algorismes de dividir-i-vncer: **partition**


```python
def partition(A, first, last):
    # ordenem A[first],A[mid],A[last]
    mid = (first + last)//2  
    if A[first] > A [mid]: A[first], A[mid] = A[mid], A[first]
    if A[first] > A [last]: A[first], A[last] = A[last], A[first]
    if A[mid] > A[last]:   A[mid], A[last] = A[last], A[mid]  
    A[mid], A[first] = A[first], A[mid] 
	# inicialitzem pivot, i i j
    pivot = first
    i = first + 1
    j = last
  
    while True:
	    # anem avanant
        while i <= last and A[i] <= A[pivot]: i += 1
        while j >= first and A[j] > A[pivot]: j -= 1
		
        if i >= j: break
        else:
            A[i], A[j] = A[j], A[i] # intercanviem, fem avanar i j
    A[j], A[pivot] = A[pivot], A[j] # vector partit, pivot=j
    return j

A = [3,7,2,4,1,80]
quick_sort(A)
A
>>> [1,2,3,4,7,80]

```
---

## Algorismes de dividir-i-vncer: **quicksort**


<center><img src="images/quicksort2.png" width="550" alt="passos de l'algorisme quicksort"></center>

---

## Algorismes de dividir-i-vncer: **quicksort**


<center><img src="images/quicksort3.png" width="550" alt="passos de l'algorisme quicksort"></center>

---

## Algorismes de dividir-i-vncer: **quicksort**


<center><img src="images/quicksort4.png" width="550" alt="passos de l'algorisme quicksort"></center>

---

## Algorismes de dividir-i-vncer: **quicksort**


<center><img src="images/quicksort5.png" width="550" alt="passos de l'algorisme quicksort"></center>

---

## Algorismes de dividir-i-vncer: **quicksort**


<center><img src="images/quicksort6.png" width="550"></center>

Quicksort s lalgorisme que fa servir Linux/Unix per ordenar amb la seva instrucci `sort`.  

---

## Algorismes de dividir-i-vncer: **quicksort**

Quina s leficincia del quicksort?

> Observaci: el nombre de comparacions que fa abans duna partici sn `n+1` si els ndexs es creuen i `n` si coincideixen.

Si totes les particions passen al mig del vector tenim **el millor cas**, i el nombre de comparacions ser:

`T(n) = 2 T(n/2) + n`, que segons el teorema Master s `O(n log n)`.

En **el pitjor cas** (p.e. [4,3,2,1,0]), totes les particions sn als extrems (alguna de les subllistes estar buida), llavors el nombre de comparacions ser `T(n) = O(n^2)`. 
> Sempre podem desordenar la llista al principi i aquest cas no existir! 


En el **cas promig** el nombre de comparacions ser `O(1,38 n log_2 n)`, s a dir, un 38% ms de comparacions que en el millor cas.

La complexitat se seguiria expressant com a **O(n log n)**.

---

## Algorismes de dividir-i-vncer: multiplicaci de matrius

<center><img src="images/matmul.png" width="650" alt="matrui amb una fila i central ressaltada; matriu amb una columna j central ressaltada; matriu amb una cel.la central i,j ressaltada, multiplicaci de la matriu = sumatori de x sub ik * y sub kj per k de 1 a n"></center>

s evident que la implementaci directa de la multiplicaci de matrius s `O(n^3)`: shan de calcular `n^2` elements, i cada clcul s `O(n)`.

Fins a 1969 es pensava que no es podia fer duna altra manera!


---

## Algorismes de dividir-i-vncer: multiplicaci de matrius

Per el 1969, el Dr. Volker Strassen va trobar una manera ms ptima:

Es va basar en que el producte de dues matrius `(n x n)` es pot calcular a partir de la seva descomposici en blocs `(n/2 x n/2)`:

<center><img src="images/matmul2.png" width="550" alt="les matrius quadrades A B C D i E F G H es poden multiplicar com a una nova matriu AE+BG AF+BH CE+DG DF+DH"></center>

---
## Algorismes de dividir-i-vncer: multiplicaci de matrius


I que aquesta descomposici es pot expressar recursivament.  La recurrncia consisteix en passar duna matriu `(n x n)` a 8 matrius `(n/2 x n/2)`, i per tant la seva complexitat s `T(n) = 8 T(n/2) + O(n^2)`. 

Que resulta en una complexitat de `O(n^3)`...

--

Per Strassen es va adonar que aquestes operacions es podien agrupar aix:

<center><img src="images/matmul3.png" width="550" alt="descomposici de cada terme de la multiplicaci en els seus components"></center>

---

## Algorismes de dividir-i-vncer: multiplicaci de matrius


La complexitat ara s `T(n) = 7 T(n/2) + O(n^2)`, que resulta en una complexitat de `O(n log_2 7)`, que s aproximadament `O(n^(2.81))`.

```python
1000000**3
>>> 1000000000000000000

1000000**2.81
>>> 72443596007499056
```
---

## Algorismes de dividir-i-vncer: clcul de la mediana

La mediana de `[45,1,10,30,25]` s `25`, perqu es defineix com lelement que queda al mig del vector si els ordenem. Per tant, la seva implementaci directa s `O(n log n)`.

> **Ho podem fer lineal?**

Considerem el segent problema (que subsumeix el problema de la mediana): 

>Entrada: Una llista de nombres `S`; un enter `k`. 

>Sortida: El `k`-ssim element ms petit de `S`.

Per exemple, si `k=1`, la sortida hauria de ser el valor mnim de `S`.


---
## Algorismes de dividir-i-vncer: clcul de la mediana


Anem a plantejar una soluci de dividir i vncer.

Suposem un  nombre qualsevol `v` i que fem una partici de la llista segons aquest nombre (per exemple, `v=5`) en tres parts, Sleft, Sv i Sright:


<center><img src="images/mediana1.png" width="650" alt="la llista [2,36,5,21,8,13,11,20,5,4,1] queda partida en Sleft = [2,4,1], elements ms petits que v, Sv = [5,5], elements iguals a v, Sright = [36,21,8,13,11,20] elements ms grans que v"></center>


---

## Algorismes de dividir-i-vncer: clcul de la mediana


Ara la cerca es podria limitar a una de les tres subllistes: si busqussim el 8 element, ha de ser el tercer element ms petit de `Sright` ats que a `Sleft` i `Sv` hi ha un total de 5 elements.

En general:

<center><img src="images/mediana2.png" width="650" alt="selection(S,k) = selection(Sleft,k) si k<=len(Sleft); v si k>len(Sleft) i k<=Sleft+Sv; selection(Sright, k-len(Sleft)-len(Sv) si k>length(Sleft)+len(Sv)"></center>


Aquestes subllistes es podem calcular en temps lineal!

---

## Algorismes de dividir-i-vncer: clcul de la mediana


Ja tenim lalgorisme recursiu definit, per encara no sabem com definir `v`. 

Lideal seria que `v` parts les llistes per la meitat. Aleshores la complexitat seria `T(n) = T(n/2) + O(n)`, que s una complexitat lineal!!

--


La soluci s triar-lo de forma aleatria cada vegada!

+ En el pitjor cas farem: ` n + (n-1) + (n-2) + ... n/2 = O(n^2)`. 

+ En el millor cas farem `O(n)`. 

+ En el cas promig es pot demostrar que s `O(n)`.  


---


```python
import random
def kSelect(A,k,length):

        # escollim una posici r de forma aleatria entre 1 i length(A)
        n = length-1
        r = random.randint(0, length-1)
        A1 = []
        A2 = []
        pivot = A[r]

        # construim la llista ms petita i la ms gran
        for i in range ( 0 , n+1):
                if A[i] < pivot :  A1.append(A[i])
                if A[i] > pivot :  A2.append(A[i])

        if k <= len(A1):
                # cerquem a la llista dels elements mes petits
                return kSelect(A1, k ,len(A1))

        if k > len(A) - len(A2):
                # cerquem a la llista dels elements mes grans
                return kSelect(A2, k-(len(A)-len(A2)),len(A2))

        else :  return pivot

```
---

class: center, middle, inverse
name:tema7

# Tema 7: **Algorismes de Cerca**

---

## Algorismes de cerca

El concepte de cerca inclou diferents idees:

+ Cerca dun determinat element en una llista (mx, x=a, el que compleix una certa condici, etc.).
+  Cerca dun determinat element en una llista *ordenada*.
+ Cerca en un arbre.
+ Cerca en un graf.
+ Satisfacci de restriccions.
+ Etc.

Ens centrarem en la **cerca en llistes**.

---

## Algorismes de cerca: cerca lineal


Lalgorisme que implementa la cerca dun element en una llista amb una estratgia de fora bruta es diu **cerca seqencial o lineal**. La complexitat de lalgorisme s `O(n)` en el pitjor cas!

```python
def linsearch(list,ele):
	i=0
	while i < len(list) and list[i] != ele:
		i += 1
	if i < len(list):
	    return i
	else:
        return -1
``` 

--

Podem fer una petita millora si afegim lelement que busquem al final de la llista:

```python
def linsearch(list,ele):
	list.append(ele)
	i=0
	while list[i] != ele:
		i += 1
	if i < len(list)-1: 
	    return i
	else: 
	    return -1

``` 

---

## Algorismes de cerca: cerca binria

I si la llista est ordenada (un diccionari, els nombres de la loteria, etc.) ho podem fer millor?


<center><img src="images/cerca11.png" width="550" alt="resultats de la loteria i pgina d'un diccionari"></center>


---

## Algorismes de cerca: cerca binria


La **cerca binria** ho fa comparant lelement cercat `K` a lelement central de la llista: si hi ha correspondncia ja lhem trobat, sin, busquem a la subllista (de la dreta o de l'esquerra) que correspon. 

<center><img src="images/cerca12.png" width="550" alt="A[0]...A[s-1] A[s] A[s+1]...A[n-1]  k apunta a l'element A[s], buscarem dins A[0]...A[s-1] si k<A[s], buscarem dins A[s+1]...A[n-1] si k>A[s]"></center>


---
## Algorismes de cerca: cerca binria


<center><img src="images/cerca13.png" width="650" alt="en el vector ordenat de les lletres A a X es busca la lletra J, els diferents passos sn comparar-lo amb L, amb F, amb I i finalment amb J"></center>

> Com acaba lalgorisme si `J` no hi s?

---
## Algorismes de cerca: cerca binria

Anem a veure com funcionaria per `K=70`. 

l(low) indica el lmit inferior de la subllista a buscar, h(high) el lmit superior, m(middle) el punt de comparaci.

<center><img src="images/cerca14.png" width="650" alt="es busca 70 en una llista de nombres ordenats, es mostren els lmits inferiors, superiors i mitjos de la cerca"></center>

---
## Algorismes de cerca: cerca binria


Per analitzar la seva complexitat calcularem el nombre de vegades que la clau de la cerca, `K`, es compara amb un element de la llista.

En el pitjor dels casos (quan lelement no hi s), tenim aquesta relaci de recurrncia: `T(n) = T(n/2) + 1`.


Segons el teorema Mster aix s `O(log_2 n)`: per una llista de 1.000.000 elements sn 20 comparacions!

Evidentment s un algorisme recursiu, per s pot implementar fcilment de forma no recursiva.

---
## Algorismes de cerca: cerca binria

```python
def binsearch(nums, K):
    low = 0
    high = len(nums)-1
    while low <= high:                     
        mid = (low + high) / 2            
        if nums[mid] > K: high = mid - 1
        elif nums[mid] < K: low = mid + 1
        else: return mid                           
    return -1 
```

El cas promig s ms difcil danalitzar, per es pot demostrar que s noms una mica millor que el pitjor cas (tot i que del mateix ordre).

> Observaci: *Si tenim una llista desordenada de mida n i noms hem de buscar un element (o pocs), apliquem una cerca exhaustiva.  Per si hem de fer moltes cerques (de lordre de n), val la pena ordenar-la primer i fer cerca binria dels elements desprs!*

En general considerem que **la complexitat de la cerca binria sobre una llista ordenada s de `O(log_2 n)`**.

---

##  Cerca dels extrems d'una funci.

Imaginem ara que tenim un vector no ordenat, com pot ser el corresponent als valors discrets duna funci multimodal.  

Com busquem el mxim? Quin tipus de cerca hi podem aplicar?

<center><img src="images/fun1.png" width="450" alt="grfic d'una funcio multimodal" ></center>

---
##  Cerca dels extrems d'una funci.


Podem aplicar-hi cerca exhaustiva:

```python
def func1d(x):                  # funci multimodal de la que buscarem max
    import math
    y = x * math.sin(10*math.pi*(x))+1.0
    return y

def frange(start, stop, step):  # definim un range sobre floats per convenincia
    current = start
    while current < stop:
        yield current
        current += step

def linsearchfunc1d():
    x=0.0                       # inicialitzaci punt x, corresponent al valor mxim de func1d
    maxim=0.0                   # inicialitzaci valor mxim
    for i in frange(-1.0,2.0,0.01):
        if func1d(i)>maxim: 
            maxim=func1d(i)
            x=i
    print(maxim)

```

---

##  Cerca dels extrems d'una funci.

Si el nombre de punts a mostrejar s molt gran tenim un problema!

<center><img src="images/fun2.png" width="350" alt="grfic 3D d'una funci amb 4 extrems"></center>

En aquest cas si analitzem els punts amb una precisi de `0.01` analitzarem `300x300` punts.

Si necessitssim una precisi `0.000001` analitzarem `3000000x3000000` punts. 

No podem fer cerca exhaustiva!
---
##  Cerca dels extrems d'una funci.

T sentit fer una cerca aleatria? (= anar generant nombres de forma aleatria dins del rang de les variables  i quedar-se el mxim).

<center><img src="images/fun4.png" width="450" alt="distribuci aleatria de punts en el domini de la funci anterior"></center>

---
##  Cerca dels extrems d'una funci.

La cerca aleatria s:

```python
def rsearchfunc1d():
    import random
    x=0.0
    maxim=0.0
    for i in range(1000):
	    xtemp = (random.random()*3.0)-1.0   # valors entre -1 i 2
	    if func1d(xtemp)>maxim: 
	        maxim=func1d(xtemp)
            x=xtemp
    return maxim	  
```

En general, la cerca totalment aleatria **no** s una bona soluci: tenim el cost de la cerca afitat, per depn molt de laleatorietat i t un resultat molt semblant, si no equivalent, a la cerca lineal, per fora bruta. 

---
## Algorismes de cerca: cerca amb algorismes gentics.

Anem a veure un tipus dalgorisme aproximat que ens fa una cerca, amb un cert component aleatori ms intelligent, de lespai de solucions: la cerca basada en **algorismes gentics**.


El terme algorismes gentics sutilitza per a referir-se a una famlia bastant mplia de models computacionals de clcul basats en els mecanismes devoluci biolgica.

La idea de selecci natural va ser introduda per Charles Darwin el 1859 dins del seu llibre *LOrigen de Les Espcies*.

Aquesta idea pot servir danalogia per a construir mtodes de cerca en problemes doptimitzaci combinatria i mtodes daprenentatge.


---
## Algorismes de cerca: cerca amb algorismes gentics.

Darwin va assentar les bases del principi d'evoluci per selecci natural amb les segents idees:

+ Cada individu tendeix a passar els seus trets caracterstics a la seva descendncia. 

+ Tot i aix, la natura produeix individus amb trets diferents. 

+ Els individus ms adaptats tendeixen a tenir ms descendncia, i a la llarga, la poblaci tendeix a ser "millor".

+ Al cap d'un llarg perode, l'acumulaci de canvis pot produir  espcies totalment noves, adaptades al seu entorn.

--

A ms a ms la natura disposa d'una srie de mecanismes reguladors externs a aquest procs per igualment interessants: el mecanisme de diversitat, els parsits, les organitzacions socials, etc.

---
## Algorismes de cerca: cerca amb algorismes gentics.


Els mecanismes biolgics que fan possible levoluci sn avui coneguts. 

A la natura, podem veure com la transmissi de la informaci gentica (genoma) es fa a travs de la reproducci sexual. Aquest procediment permet als descendents ser diferents dels seus antecessors, tot i que conservant la majoria de trets. 

El mecanisme sobre el que est basada la reproducci es troba a nivell molecular, i consisteix en l'aparellament de cromosomes (lloc on trobem el genoma), l'intercanvi d'informaci, i la posterior partici. D'aix n'hi direm **creuament**. 

La probabilitat de que dos individus es creuin depn de la seva adaptaci al medi.

---
## Algorismes de cerca: cerca amb algorismes gentics.


Per inspiraci daquests mecanismes usarem terminologia de biologia per als nostre problemes:
+ Gens
+ Genoma
+ Cromosomes
+ Creuaments i mutacions.
+ Funci dadaptaci.
+ Mecanismes  correctors/moduladors: diversitat, parasitisme, organitzaci social, etc.

---
## Algorismes de cerca: cerca amb algorismes gentics.

El **cicle** normal d'un algorisme gentic s:

+ avaluar l'adaptaci de tots els individus de la poblaci (amb la funci dadaptaci). Aquesta funci incorpora lobjectiu del problema.

+ crear una nova poblaci mitjanant reproducci fent servir: 
	+ creuament 
	+ mutaci dels cromosomes dels individus + descartar la poblaci antiga (hem dassegurar que el resultat daplicar els operadors genera possibles solucions al problema.)

+ iterar sobre la nova poblaci.

Cada una de les iteracions d'aquest cicle es coneix com  a **generaci**. 

---
## Algorismes de cerca: cerca amb algorismes gentics.

Quan dissenyem un algorisme gentic per resoldre un problema caldr decidir algunes qestions:

+ Quina s la funci d'adaptaci?
+ Com representarem els individus/solucions?
+ Com seleccionarem els individus per reproduir-se?
+ Com creuarem i mutarem els individus?
+ Quina s la probabilitat de mutaci?
+ Necessitem mecanismes moduladors (p.e. diversitat)?

---
## Algorismes de cerca: cerca amb algorismes gentics.


La **funci dadaptaci** s prpia de cada problema que volem resoldre.

En el problema que hem posat com a exemple (la funci multimodal), la funci dadaptaci s el valor de `f(x): (math.sin(10*math.pi*(x))+1.0)`. 

> Per tant, la mxima adaptaci correspon al mxim daquesta funci multimodal. 

--

El problema del viatjant de comer tamb s un problema candidat a ser resolt amb algorismes gentics.

> La funci dadaptaci seria `1/d`, on `d` s la distncia recorreguda (i aix un valor de la funci alt s una bona soluci).

> Un cromosoma representaria un circuit que s potencialment soluci del problema. 

---
## Algorismes de cerca: cerca amb algorismes gentics.


Normalment es considera que la millor **representaci** dels cromosomes possible s la binria.

El creuament, la mutaci, i d'altres operacions que es poden utilitzar, sn aleshores simples operacions a nivell de bit. 

Suposem doncs que tenim una poblaci inicial de quatre individus amb les segents caracterstiques:


|   individu     | valor adaptaci | possibilitat de selecci |
|----------------|-----------------|--------------------------|
|  000110010111  |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32%              |
|  111010101100  |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6        |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24%              |
|  001110101001  |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6        |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24%              |
|  111011011100  |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5        |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20%              |



I suposem que definim la probabilitat de selecci en funci del valor d'adaptaci (q) com a 

$$ f_i = \dfrac {q_i}{\sum_j q_j} $$ 

Com els seleccionem i els creuem?
---
## Algorismes de cerca: cerca amb algorismes gentics.


Una primera alternativa per la selecci s triar parelles aleatriament tenint en compte la seva probabilitat de selecci.

> s com si fem rodar una ruleta i ens va donant individus; lindividu amb ms probabilitat de selecci ocupa ms posicions a la ruleta.

Imaginem que la selecci ens ha donat aquestes dues parelles:

<center><img src="images/gen2.png" width="450" alt="4 gens de la poblaci es combinen de 2 a 2 per fer 2 parelles" ></center>

I ara, com les creuem?

---
## Algorismes de cerca: cerca amb algorismes gentics.


La forma ms simple de creuament s generar un punt de tall aleatriament i intercanviar:


<center><img src="images/gen3.png" width="550" alt="als dos membres de la parella se'ls posa un punt de tall, per exemple en el bit 4, la nova generaci es crea combinant els bits 0..3 del pare amb els bits 4...n de la mare i viceversa"></center>

---
## Algorismes de cerca: cerca amb algorismes gentics.


Per a **mutar-los** canviarem el valor dun quants bits de la poblaci de forma aleatria.

La probabilitat de que un bit canvi de valor s `` i la que probabilitat de no canviar s `(1- )`, per sempre ` < (1- )`.

---
## Algorismes de cerca: cerca amb algorismes gentics.


En resum, la **funci dadaptaci** depn del problema que volem resoldre.
+ La representaci ptima, s en la majoria de casos i si no hi ha motius fonamentats per dubtar-ho, la binria.
+ La representaci ha facilitar que el resultat daplicar els operadors gentics sigui vlid.

Loperaci de **creuament** crea dos nous individus seleccionant punts de creuament en els cromosomes seleccionats i intercanviant les seves parts.

Loperaci de **mutaci** consisteix en la selecci aleatria dalgun dels gens del cromosoma i el canvi del seu valor. La probabilitat de mutaci ha de ser petita (si no ho convertim en cerca aleatria!).

---
## Algorismes de cerca: cerca amb algorismes gentics.

Probabilitat de supervivncia:

+ El valor dadaptaci de cada individu depn del problema concret.
+ La probabilitat de supervivncia a la segent generaci s una ponderaci del valor dadaptaci, i es pot fer de diverses maneres: el mtode estndard (que ja hem vist), el mtode dordenaci, el mtode de la diversitat, etc.
+ A partir dara suposarem que la generaci segent es forma a partir duna selecci entre els elements del conjunt format pels cromosomes progenitors i pels cromosomes descendents, per seguint una **estratgia elitista**: el(s) millor(s) cromosomes passen automticament (aix assegurem que una bona soluci no es perd mai).

---

## Algorismes de cerca: cerca amb algorismes gentics.


Ponderaci del valor dadaptaci. 

+ **Mtode Estndard**. Donat un cromosoma `i`, aquest s avaluat com a possible soluci al problema en qesti. Com a resultat obt un valor dadaptaci `q`. Llavors definim la seva probabilitat de selecci com $$ f_i = \dfrac {q_i}{\sum_j q_j} $$ 

|   individu     | valor adaptaci | possibilitat de selecci |
|----------------|-----------------|--------------------------|
|  000110010111  |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32%              |
|  111010101100  |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6        |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24%              |
|  001110101001  |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6        |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24%              |
|  111011011100  |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5        |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20%              |


> Un dels inconvenients associat al mtode estndard s el poc pes que dna al cromosomes "dolents", fet que els impedeix de passar a les futures generacions, i per tant, transmetre les poques coses que tinguin bones. Un altre possible inconvenient s que moltes vegades la funci davaluaci s qualitativa: ordena de forma correcta per els seus valors no sn precisos.

---

## Algorismes de cerca: cerca amb algorismes gentics.

+ **Mtode d'Ordenaci**:  Per insensibilitzar el mtode de selecci respecte al valor d'adaptaci del problema, podem ordenar els cromosomes segons aquest valor, i els ponderem segons aquesta regla: 

	+ Establim un valor aleatori `p` entre `0` i `1`.
	+ Al primer cromosoma li assignem aquesta probabilitat
	+ Al segon li assignem la probabilitat `p*(1-p)` 
	+ La probabilitat de l'`i`-ssim cromosoma s `p * (1  la probabilitat que shagi triat algun cromosoma anterior)`.

---
## Algorismes de cerca: cerca amb algorismes gentics.

> Per exemple, suposem que `p=0.667`. Llavors:

 <center><img src="images/gen5.png" width="550" alt="clcul de la probabilitat segons el mtode d'ordenaci"></center>

---
## Algorismes de cerca: cerca amb algorismes gentics.

+ Ponderaci del valor dadaptaci: **Mtode de Diversitat**. Aquest mtode es basa en l'anomenat principi de diversitat: s quasi tan bo ser diferent com estar adaptat. 

> Definim la diversitat d'un grup de cromosomes com:

  <center><img src="images/gen6.png" width="550" alt="La distncia que usem pot ser des del nombre de bits diferents entre cada cromosoma a una funci definida per l'usuari a partir del coneixement del problema. En el nostre exemple considerarem la distncia euclidiana sobre punts el pla. En el cas ms general podrem fer servir la distncia de Hamming"></center>

> on `d_i` s una mesura de distncia entre cromosomes. 

---

## Distncia de Hamming

> La**distncia de Hamming**entre dues cadenes de la mateixa longitud s el nombre de posicions diferents. Si considerem cadenes de bits, correspon al nombre de bits que s'han de canviar d'una cadena perqu passi a tenir el valor d'una altra cadena.

> Exemple: la distncia de Hamming entre 011101  i  011011 s de 2 ja que per arribar de la primera cadena a la segona cal canviar 2 bits

---

## Algorismes de cerca: cerca amb algorismes gentics.

Ponderaci del valor dadaptaci: Mtode de Diversitat. 

Com lapliquem?

+ El millor cromosoma passa automticament a la segent generaci (estratgia elitista).
+ Calculem la diversitat de tots els cromosomes respecte als que han passat a la + segent generaci.
+ Ordenem els cromosomes segons la seva funci davaluaci.
+ Sumem els nombres que representen lordre obtingut per cada cromosoma als passos 2 i 3. I reordenem segons aquest valor.
+ Triem el cromosoma que passa a la segent generaci segons el mtode dordenaci i si queden cromosomes per triar, i tornem al punt 2. 

---
## Algorismes de cerca: cerca amb algorismes gentics.

**Ponderaci del valor dadaptaci: Mtode de Diversitat.**

Exemple:

  <center><img src="images/gen7.png" width="250" alt="cromosomes 0100 0001 q=100; cromosomes 0001 0100 q=44; cromosomes 0011 0001 q=32; cromosomes 0001 0010 q=22,5; cromosomes 0001 0001 q=1; cromosomes 0111 0101 q=0"></center>

El cromosoma millor passa a la segent generaci. En el nostre cas s el cromosoma `(0100 0001)`. 

Per tant resten per triar 2 cromosomes entre `(0001 0100)`, `(0011 0001)`, `(0001 0010)`, `(0001 0001)`,  `(0111 0101)`.

---
## Algorismes de cerca: cerca amb algorismes gentics.


Construirem la taula segons el mtode de diversitat segons la diversitat de cada cromosoma amb respecte al que ja ha passat:

  <center><img src="images/gen8.png" width="650" alt="s'aplica l'ordenaci estandard, la diversistat i ordenaci i es calcula la probabilitat per cada parella donada de cromosomes"></center>

---


## Algorismes de cerca: cerca amb algorismes gentics.


Llavors triem aleatriament el segent que passa, i resulta que s el cromosoma 
`(0001 0100)`. A partir d'aquest moment repetim el procs anterior, per calculant la diversitat respecte al dos cromosomes que ja han passat:

  <center><img src="images/gen9.png" width="650" alt="en el cas d'empats per a l'ordenaci resultat de la suma div+ord desempatem segons el valor d'ordenaci pura"></center>

---

## Exemple: Optimitzaci d'una funci multimodal.


El problema s trobar la `x` dins del rang `[-1 .. 2]` que maximitza `f`:

  <center><img src="images/gen10.png" width="350" alt="grfic d'una funci multimodal"></center>

---


## Exemple: Optimitzaci d'una funci multimodal.

+ Utilitzarem un vector binari com a cromosoma per a representar el valor real de la variable `x`. La longitud del vector dependr del domini i la precisi.

+ En el cas estudiat, el domini de la variable `x` s `[-1,2]`, t longitud 3.

+ Suposem que volem 6 decimals (1.000.000 de valors per cada unitat). 
Per tant, necessitem mostrejar el rang en 3.000.000 posicions, o sigui, 22 bits:
`2.097.152 = 2^21 < 3.000.000 < 2^22 = 4.194.304`.

---

## Exemple: Optimitzaci d'una funci multimodal.

La transformaci d'una seqncia binria `[b_21,...,b_0]` a un nombre real `x` es fa en dos passos:

+ Primer convertim la seqncia de base 2 a base 10.
+  Desprs trobem el nombre real corresponent:

  <center><img src="images/gen11.png" width="250" alt="x=-1.0+ x' 3 / (2^22 -1)"></center>


> on `-1.0` s el lmit esquerra de l'interval i `3` la longitud. 

---

## Exemple: Optimitzaci d'una funci multimodal.

L'algorisme te els segents passos:

+ Escollim com a poblaci inicial 50 individus de forma aleatria:

```python
# Creem la poblaci inicial

def initpop(n,long):
    import random

           # Generem una poblacio de n cromosomes de longitud long. 
    pop = [[0] * long for x in range(n)]
    for i in range(n):
        for j in range(long):
            if random.random()>0.5: pop[i][j] += 1 
    return pop

```
---

## Exemple: Optimitzaci d'una funci multimodal.

+ La funci d'avaluaci ser equivalent a la funci del grfic `f`:

```python

# Definim la funci d'avaluaci dun cromosoma de len(r) bits.

def cost(r):
    import math
           # Transformem els bits en un valor real a l'interval [-1,2]
    sum=0.0
    for i in range(len(r)):
        sum = sum + r[i]*(2**i)
    x = -1.0 + sum * (3.0/(2.0**(len(r))-1.0))
           # Avaluem el cromosoma
    y = x * math.sin(10*math.pi*(x))+1.0
    return y


```

---

## Exemple: Optimitzaci d'una funci multimodal.


Per fer la mutaci imposem una probabilitat de mutaci `pm = 0.01` per a cada bit.  

Per exemple, 

+ si tenim el cromosoma `v3 = (1110000000111111000101)`, que t com a valor f(x3) 2.250650

+ seleccionem el cinqu bit per mutar,

+ obtindrem `v3' = (1110100000111111000101)`. 

+  el nou cromosoma representa el valor `x3'=1.721638`, i per tant `f(x3') = 2.343555`

+  `f(x3')` s'ha incrementat respecte `f(x3)`.


---

## Exemple: Optimitzaci d'una funci multimodal.

```python
# Definim la mutaci amb probabilitat mutprob

def mutacio(r,mutprob):
	 import random
    for i in range(len(r)):
        if random.random() < mutprob: 
            if r[i]==0: r[i]=1
            else: r[i]=0
    return r

```
---
## Exemple: Optimitzaci d'una funci multimodal.

Per al creuament duna parella de cromosomes escollirem aleatriament un punt de tall i intercanviarem informaci per crear els dos descendents. 

```python
# Definim el creuament

def creuament(r1,r2):
    import random
    i=random.randint(1,len(r1)-2)
    return r1[:i]+r2[i:],r1[i:]+r2[:i]

```

---

## Exemple: Optimitzaci d'una funci multimodal.

Si iterem l'algorisme 150 generacions trobem que el millor cromosoma s 
`vmax = (1111001101000100000101)`, que correspon al valor `xmax = 1.850773`. 

L'evoluci de l'algorisme es pot avaluar a partir del millor valor de la funci aconseguit en cada generaci:

```python
1     1.441942
6     2.150003
8     2.250283
9     2.250284
10    2.250363
12    2.328077
39    2.344251
51    2.733893
99    2.849246
137   2.850217
145   2.850227
```

---
## Exemple: Optimitzaci d'una funci multimodal.


Observaci vlida per a qualsevol problema de recerca 
amb algorismes gentics:

> Quin s el factor que ms pesa en el clcul de la complexitat computacional de lalgorisme? El nombre d'avaluacions!

En el nostre problema hem fet `50x150=7.500` avaluacions!

> Els operadors gentics tenen un cost  computacional nul, per tant la complexitat de lalgorisme s el nombre davaluacions per la complexitat de lavaluaci.


---
class: center, middle, inverse
name:tema8

# Tema 8: **Hashing i Cerca**

---

## Cerca i llistes


Considerem el problema de buscar un determinat valor en una llista.

+ Si la llista no est ordenada, la complexitat s `O(n)`.
	+ Si el valor no hi s, farem `n` comparacions.
	+ Si el valor hi s, farem una mitja de `n/2` comparacions.
+ Si la llista est ordenada farem cerca binaria: 
	+ La cerca binaria t una complexitat `O(log n)`
	+ La complexitat s la mateixa tant si hi s com si no.

Com podem millorar-ho?

--

Suposem que tenim una *funci mgica* que, donat un valor a cercar, ens digus a quina posici de la llista mirar, i:
+ Si hi s, s que estava a la llista.
+ Si no hi s, s que no hi era.

Aquesta funci *mgica* tindria una complexitat `O(1)` per fer cerca en una llista!

---

## Hashing i Cerca

Imaginem que volem assignar un *nom curt* (el ms curt possible) a un determinat subconjunt (inicialment desconegut) d'adreces IP d'entre les possibles `2^48` adreces IP.

Imaginem que el nostre subconjunt no ser mai ms gran de 250 noms. 

Imaginem que el subconjunt es forma de manera seqencial, una adrea darrera una altra, i que anem guardant els noms en un diccionari a mesura que van arribant. La clau del diccionari ser el nom curt i el contingut, l'adrea IP.

En el cas dassignar el mateix nom a dues adreces, o **collisi**, enlloc de guardar l'adrea IP al diccionari, hi guardem una llista amb l'adreces IP que comparteixen el mateix *nom curt*.

Aquest esquema tindria sentit per fer cerques molt rpides sempre i quant les llistes de collisi fossin petites. Per qu?

---

  <center><img src="images/hash1.png" width="750" alt="The designers of TCP/IP defined an IP address as a 32-bit number and this system, known as Internet Protocol Version 4 (IPv4), is still in use today. However, due to the enormous growth of the Internet and the predicted depletion of available addresses, a new addressing system (IPv6), using 128 bits for the address, was developed in 1995, standardized by RFC 2460 in 1998, and is in world-wide production deployment. An IPv6 address has forty-eight bits (6*8); or 6 bytes"></center>


---

## Hashing i Cerca

Com podem generar (amb una funci) els noms tals que minimitzen la probabilitat de collisi?

Aquest s el rol de les funcions **hash**: a lexemple, una funci `h` que assigni al voltant de 250 noms curts a les adreces IP.

El nom assignat a una adrea `x` s `h(x)`, i llavors `x` semmagatzema a l'ndex `h(x)` del diccionari.

---

## Hashing i Cerca


Les funcions hash han de ser:

+ *Aleatries*, en el sentit que han de *distribuir uniformement* les dades entre tots els noms curts possibles.
+ *Consistents*, en el sentit dassignar a cada tem sempre el mateix lloc.

Imaginem que usem una funci que assigna ladrea al nombre corresponent als ltims 8 bits: `h(128.32.168.24.7.80)=80`

s una bona funci hash?

--

No!

--

Les posicions corresponents als nombres baixos estaran molt plenes, ats que a la prctica aquests nombres sassignen successivament.

I si assigna ladrea al nombre corresponent als primers 8 bits?

--

Tampoc!
Imaginem que la majoria dadreces sn dsia.

--

Si les adreces vinguessin de forma **uniformement distribuda en el conjunt total** no hi hauria problema. Per aix no passa mai.

---
## Hashing i Cerca


Ats que fem una correspondncia entre `2^48` adreces i una llista de `250` noms hi ha dhaver una collecci de `2^48/250` = 1 bili dadreces que potencialment collisionaran. 

Per podem seguir el segent esquema per **minimitzar les collisions**: escollim de forma aleatria una funci per alguna classe de funcions hash (per una funci hash haurem de poder demostrar que, sigui quin sigui el conjunt  dadreces, la majoria de funcions escollides generaran poques collisions!)

---
## Hashing i Cerca

Anem a definir una classe de funcions que puguem escollir aleatriament:

+ Suposem que creem una llista de `n=257` noms (enlloc de `256`). `257` s un nombre primer.....
+ Representem una adrea com una `6`-tupla denters mdul `n: x = (x1,x2,x3,x4,x5,x6)`

Definim la classe `h: IP -> n`  de la segent manera:

+ Defineix 6 nombres qualsevol mdul `n=257`. Per exemple: `87, 23, 125, 4, 17, 231`. 
+ Transforma ladrea `(x1,x2,x3,x4,x5,x6)` a 
`h(x1,x2,x3,x4,x5,x6)= (87x1+23x2+125x3+4x4+17x5+231x6) mod 257`. 

---
## Hashing i Cerca

Dit duna altra manera, per qualsevol conjunt de coeficients `a_1, ..., a_6` d'enters amb un valor entre `0` i `n-1`, podem definir la segent funci hash:

  <center><img src="images/hash2.png" width="450"></center>

---

## Hashing i Cerca

Es pot demostrar que donada qualsevol parella dadreces IP 
`x = (x1,x2,x3,x4,x5,x6)` i `y = (y1,y2,y3,y4,y5,y6)`, si els coeficients (`a1,a2,a3,a4,a5,a6`) sescullen aleatriament de `{0,1,...,n-1}`, llavors la probabilitat de que `h(x1,x2,x3,x4,x5,x6)=h(y1,y2,y3,y4,y5,y6)` s `1/n`.

s a dir, la mateixa probabilitat que si les adreces haguessin estat escollides de forma aleatria. 

Per tant, siguin quines siguin les adreces que arribin, la majoria de funcions escollides tindran poques collisions.

---
## Hashing i Cerca

Quin s el temps de cerca duna adrea?

> = El clcul de la funci hash + la cerca en la llista assignada al mateix nom. 

Per noms hi ha 250 adreces i la probabilitat de collisi s 1/257. Per tant, el nombre esperat d'tems emmagatzemats al mateix nom s 250/257 (o sigui, pel nostre problema, menys de dos).

---
## Hashing i Cerca

Recapitulem el que hem fet:

+ Com que no tenem control sobre el conjunt de dades que ens arribava, hem escollit una funci `h` de forma uniformement aleatria dentre una famlia `H`. En el nostre cas: 
	+ Per escollir-la, hem escollit aleatriament 6 nombres mdul `n`.
+ Hem dit que es pot demostrar que per dos tems qualsevol `x` i `y`, aquests aniran al mateix lloc amb una probabilitat `1/n`, on `n` s el nombre de llocs.

---
## Hashing i Cerca

Una famlia de funcions hash amb la capacitat de poder-se aplicar a qualsevol conjunt de dades es diu **universal**.

La seva aplicaci a daltres problemes s simple: 
+ Triem una taula de mida `n` tal que n sigui un nombre primer una mica ms gran que el nombre delements de la taula (o millor encara, el doble).  
+ Assumim que el domini dels tems s `N=n^k` (encara que ho sobreestimem).
+ Llavors cada tem es representa amb una `k`-tupla denters mdul `n`.

--

Hi ha moltes families de funcions hash. Per triar la millor funci hash pel nostre problema hem d'examinar les dades i decidir quina s la millor funci hash a partir de les propietats de les dades.

Per exemple, quina funci fariem servir si les nostres dades **ja estan uniformement distribuides**? 

--

Suposem que les nostres dades sn enters `z` de rang `0..N-1`, uniformement distribuits, i que el nostre objectiu s assignar-lis un enter `h` en el rang `0..n-1`, tal que `n << N`.

Llavors la funci hash podria ser `h = z mod n` o `h = (z  n)  N`.

---
## Hashing i Cerca: enters no uniformement distribuits. 

Quina funci fariem servir si les nostres dades sn enters que ** no estan uniformement distribuits**?  

Per exemple, suposem que sn nombres de telfon. Els nombres de telfon tenen la propietat que els primers dgits no estan uniformement distribuits, pero els darrers si!

Suposem que 'n=	10000'. En aquest cas, la frmula `h = z mod n` encara funciona, per `h = (z  n)  N` no (perqu depen molt dels dgits del principi)!

---
## Hashing i Cerca: seqncies de longitud variable.

Per les dades de longitud variable necessitem una funci que depengui de tots els elements de la seqncia. Una bona estratgia en aquest cas s trencar la seqncia en troos petits i combinar-los un darrera l'altre:

```python
def DEKHash(key):
    hash = len(key)
    for i in range(len(key)):
      hash = ((hash << 5) ^ (hash >> 27)) ^ ord(key[i])
    return hash
```

---

## Exemple:

Exemple:

```python
DEKHash('algorismica')
>>> 291014770516511749
```

>`a = 0011 1100` 
>`b = 0000 1101`

>.code[`^`: *Binary XOR Operator*: copies the bit if it is set in one operand but not both. `(a ^ b) ` will give 49 which is `0011 0001`.]

>.code[`<<`: *Binary Left Shift Operator.* The left operands value is moved left by the 	number of bits specified by the right operand. `a << 2` will give 240 which is `1111 0000`. ]

>.code[`>>`: *Binary Right Shift Operator.* The left operands value is moved right by the number of bits specified by the right operand. `a >> 2` will give 15 which is `0000 1111`.]

---
## Exemple:

```python
def StringHash(a, m=257, C=1024):
    hash=0
    for i in range(len(a)):
        hash = (hash * C + ord(a[i])) % m
    return hash

StringHash('hola')
>>> 182
StringHash('adeu')
>>> 245
StringHash('adeu hol adeu')
>>> 208
StringHash('a')
>>> 97
```

`m` representa el nombre esperat dtems a guardar.

`C` s un nombre ms gran que  qualsevol `ord(c)`.

Aqu ho apliquem a carcters, per ho podrem fer amb bigrames, etc.

---
## Exemple:

```python
def StringHash(a, m=257, C=1024):
    hash=0
    for i in range(len(a)):
        hash = (hash * C + ord(a[i])) % m
    return hash

diccionari
>>> ['the', 'and', 'to', 'of', 'a', 'I', 'in', 'was', 'he', 'that', 'it', 'his', 'her', 'you', 'as', 'had', 'with', 'for', 'she', 'not', 'at', 'but', 'be', 'my', 'on', 'have', 'him', 'is', 'said', 'me', 'which', 'by', 'so', 'this', 'all', 'from', 'they', 'no', 'were', 'if', 'would', 'or', 'when', 'what', 'there', 'been', 'one', 'could', 'very', 'an', 'who', 'them', 'Mr', 'we', 'now', 'more', 'out', 'do', 'are', 'up', 'their', 'your', 'will', 'little', 'than', 'then', 'some', 'into', 'any', 'well', 'much', 'about', 'time', 'know', 'should', 'man', 'did', 'like', 'upon', 'such', 'never', 'only', 'good', 'how', 'before', 'other', 'see', 'must', 'am', 'own', 'come', 'down', 'say', 'after', 'think', 'made', 'might', 'being', 'Mrs', 'again']

taula=[]
for i in diccionari:
    taula.append(StringHash(i))

taula
>>> [256, 184, 161, 172, 97, 73, 204, 89, 199, 136, 210, 74, 89, 67, 241, 91, 129, 17, 240, 147, 242, 188, 223, 199, 180, 179, 68, 209, 40, 179, 10, 243, 165, 103, 200, 101, 125, 185, 70, 196, 228, 184, 179, 201, 143, 190, 152, 248, 154, 236, 57, 113, 63, 139, 150, 99, 139, 225, 169, 158, 192, 103, 165, 82, 130, 114, 249, 84, 205, 101, 1, 195, 89, 241, 189, 181, 252, 95, 138, 131, 164, 256, 237, 54, 67, 7, 252, 206, 235, 125, 245, 150, 31, 81, 229, 188, 173, 178, 120, 207]

```

---
## Exemple:

```python
def StringHash(a, m=5749, C=1024):
    hash=0
    for i in range(len(a)):
        hash = (hash * C + ord(a[i])) % m
    return hash

taula
>>> [589, 4073, 3915, 4535, 97, 73, 4148, 209, 3115, 1260, 4154, 3276, 4928, 1816, 1710, 818, 3248, 4903, 4080, 5722, 1711, 2017, 2720, 2506, 4543, 5313, 3270, 4153, 4034, 2486, 827, 2740, 2891, 3702, 2033, 5606, 5361, 3520, 3663, 4140, 4550, 4547, 2883, 4542, 3800, 1880, 1192, 3283, 2589, 1705, 1624, 5349, 4225, 1228, 5725, 3805, 2626, 4778, 2421, 4940, 346, 2771, 809, 824, 1254, 5350, 5249, 4978, 4094, 3275, 1996, 3590, 4293, 2054, 2931, 620, 5727, 4991, 254, 2811, 1654, 3360, 5666, 3675, 1738, 2900, 1008, 1145, 1704, 4668, 4992, 4837, 2681, 2870, 2993, 3849, 4778, 2591, 3267, 5397]
```

---
## SimHash i cerca per semblana.

Imaginem  que tenim un conjunt dadreces. Com podem decidir que sn repetides?

Cas 1: 
+ `Burra Hotel, 5 Market Sq, Burra, SA, 5417`
+ `Camping Country Superstore, 401 Pacific Hwy, Belmont North, NSW, 2280`

Cas 2: 
+ `One Stop Bakery, 1304 High St Rd, Wantirna, VIC, 3152`
+ `One Stop Bakery, 1304 High Street Rd, Wantirna South, VIC, 3152`

---

## SimHash i cerca per semblana.


Cas 3: 
+ `Park Beach Interiors, Showroom Park Beach Plaza Pacific Hwy, Coffs Harbour, NSW, 2450`
+ `Park Beach Interiors, Showroom Park Beach Plaza Pacific Highway, Coffs Harbour, NSW, 2450`
+ `Park Beach Interiors, Park Beach Plaza Pacific Hwy, Coffs Harbour, NSW, 2450`
+ `Park Beach Interiors, 26 Park Beach Plaza, Pacific Hwy, Coffs Harbour, NSW, 2450`

---
## SimHash i cerca per semblana.


Cas 4: 
+ `Weaver Interiors, 955 Pacific Hwy, Pymble, NSW, 207`
+ `Weaver Interiors, 997 Pacific Hwy, Pymble, NSW, 2073`

Cas 5: 
+ `Gibbon Hamor Commercial Interiors, 233 Johnston St, Annandale, NSW, 2038`
+ `Gibbon Hamor Development Planners, 233 Johnston St, Annandale, NSW, 2038`

Necessitem una manera de comparar aquestes adreces.

---
## SimHash i cerca per semblana.

Les tcniques de **shingling** sn una forma de generar un conjunt que pot ser usat com a representant del text.

Per exemple, podem usar bigrames de paraules: 

+ Els bigrames que representen `the cat sat on the` sn 
`(the,cat)`, `(cat,sat)`, `(sat,on)`, `(on,the)`.

Llavors podem aplicar l**ndex de Jaccard** (el quocient entre la cardinalitat de la intersecci de dos conjunt i la cardinalitat de la uni) com a mesura de semblana entre adreces!

Veiem un exemple de com calcular l'ndex de Jaccard. Tenim `A = {1,2,3}`, `B = {2,3,4}`, `C = {4,5,6}`. Sianomenem `J(A,B)`a lndex de Jaccard entre`A`i`B`, llavors, `J(A,B) = 2/4 = 0.5`, perqu A intersecci B = 2, i A uni B = 4; i respectivament `J(A,C) = 0/6 = 0`, i `J(B,C) = 1/5 = 0.2`

A partir d'aquests ndexs podem afirmar que els conjunts ms semblants sn `A`i`B` i els menys semblants sn`A`i`C`.

---
## SimHash i cerca per semblana.

`Burra Hotel, 5 Market Sq, Burra, SA, 5417` es pot representar (amb bigrames de lletres) com: `A={" 5", " B", " H", " M", " S", ", ", "17", "41", "5 ", "54", "A,", "Bu", "Ho", "Ma", "SA", "Sq", "a ", "a,", "ar", "el", "et", "ke", "l,", "ot", "q,", "ra", "rk", "rr", "t ", "te", "ur"}`

`Camping Country Superstore, 401 Pacific Hwy, Belmont North, NSW, 2280` es pot representar (amb bigrames de lletres) com: `B={" 2", " 4", " B", " C", " H", " N", " P", " S", ", ", "01", "1 ", "22", "28", "40", "80", "Be", "Ca", "Co", "Hw", "NS", "No", "Pa", "SW", "Su", "W,", "ac", "am", "c ", "ci", "e,", "el", "er", "fi", "g ", "h,", "ic", "if", "in", "lm", "mo", "mp", "ng", "nt", "on", "or", "ou", "pe", "pi", "re", "rs", "rt", "ry", "st", "t ", "th", "to", "tr", "un", "up", "wy", "y ", "y,"}`. 

`J(A,B)= 6/87 = 0.068`

---
## SimHash i cerca per semblana.

Cas 2
+ `A = One Stop Bakery, 1304 High St Rd, Wantirna, VIC, 3152`
+ `B = One Stop Bakery, 1304 High Street Rd, Wantirna South, VIC, 3152`
+ `J(A,B) = 46/57 = 0.807`

Cas 3
+ `A = Park Beach Interiors, Showroom Park Beach Plaza Pacific Hwy, Coffs Harbour, NSW, 2450`
+`B = Park Beach Interiors, Showroom Park Beach Plaza Pacific Highway, Coffs Harbour, NSW, 2450`
+ `C= Park Beach Interiors, Park Beach Plaza Pacific Hwy, Coffs Harbour, NSW, 2450`
+ `D= Park Beach Interiors, 26 Park Beach Plaza, Pacific Hwy, Coffs Harbour, NSW, 2450`
+ `J(A,B)=0.888, J(A,C)=0.861, J(A,D)=0.808, J(B,C)=0.760, J(B,D)=0.716, J(C,D)=0.932`

---

## SimHash i cerca per semblana.

Cas 4: 

+ `A = Weaver Interiors, 955 Pacific Hwy, Pymble, NSW, 2073`
+ `B = Weaver Interiors, 997 Pacific Hwy, Pymble, NSW, 2073`
+ `J(A,B)= 43/49 = 0.877`

Cas 5

+ A = `Gibbon Hamor Commercial Interiors, 233 Johnston St, Annandale, NSW, 2038`
+ B = `Gibbon Hamor Development Planners, 233 Johnston St, Annandale, NSW, 2038`
+ `J(A,B)= 49/76 = 0.644`

---
## SimHash i cerca per semblana.

Si volem buscar el parell dadreces ms semblants tenim un problema: hem de comparar cada element amb tots els elements i aix s `O(n^2)`.

+ 50 adreces sn 1,225 comparacions. 
+ 500 adreces sn 124,750 comparacions
+ 2000 adreces sn 1,999,000 comparacions
+ 1,000,000 adreces sn 499,999,500,000 comparacions.

Podem calcular un valor `Sim(A,B)` que aproximi `J(A,B)` amb menys complexitat que `O(n^2)`?

---
## SimHash i cerca per semblana.

Per fer-ho necessitem una funci de hash que assigni codis semblants (en el sentit de la distncia de Hamming) a tems semblants.

Hash clssic vs SimHash:

```python
p1 = 'the cat sat on the mat'
p2 = 'the cat sat on a mat' 
p3 = 'we all scream for ice cream' 
hash(p1) 
>>> 415542861 
hash(p2) 
>>> 668720516 
hash(p3) 
>>> 767429688
simhash(p1) 
>>> 851459198 
>>> 00110010110000000011110001111110 
simhash(p2) 
>>> 847263864 
>>> 00110010100000000011100001111000 
simhash(p3) 
>>> 984968088 
>>> 00111010101101010110101110011000
``` 

---
## SimHash i cerca per semblana.

```python
def hamming_distance(s1, s2): 
	return sum(ch1 != ch2 for ch1, ch2 in zip(s1, s2))

zip('hola','hole')
>>> [('h', 'h'), ('o', 'o'), ('l', 'l'), ('a', 'e')]
hamming_distance('hola','hole')
>>> 1
```
---
## SimHash i cerca per semblana.

Lalgorisme SimHash genera un codi de la manera segent:

+ Escollim una mida de la taula, per exemple 32 bits.
+ Sigui  `V=[0]*32`.
+ Representem el text amb els bigrames:

> `'the cat sat on the mat'` =>  
`{"th", "he", "e ", " c", "ca", "at", "t ", " s", "sa", " o", "on", "n ", " t", " m", "ma"}`

+ Fem el hash de cada caracterstica amb una funci de 32 bits.

> `Hash(th) = -502157718`
> `Hash(he) = -369049682` ... 

+ Per cada hash, si el bit `i`del hash s 1 llavors sumem 1 a `V[i]`; si el bit `i`del hash s 0 llavors restem 1 de `V[i]`.

+ El bit `i`de simhash s 1 si `V[i] > 0` i 0 en els altres casos.

---
## SimHash i cerca per semblana.

Simhash s til perqu si la distncia de Hamming entre els simhash de dues frases s petit, llavors el coeficient de Jaccard s alt. Per com ho usem pel nostre objectiu (sense fer `O(n^2)` comparacions)?

A la taula es mostra un identificador correlatiu per cada cadena de bits (1..8), el simhash corresponent a cada cadena, la cadena prpiament dita i la distncia de hamming de la cadena actual amb l'anterior. Per ex. la cadena 3 t el simhash 2648 i t una distncia de hamming de 11 respecte la cadena 2. A la dreta les mateixes cadenes s'ordenen pel simhash.

Observaci: En el cas que 2 nombres tenen una distncia de Hamming petita i la seva diferncia est en els bits menys significatius, llavors aix vol dir que sn dos tems que estan propers en una llista ordenada.

  <center><img src="images/hash3.png" width="650" alt="s'ordenen els nmeros segons el simhash, els semblants estan consecutius"></center>

---
## SimHash i cerca per semblana.

Per tant, noms cal comprovar parelles adjacents de la llista per trobar la parella ms semblant!

Aix redueix la complexitat de `n*(n-1)/2` comparacions amb `O(n^2)` a `n` clculs de la funci hash amb `O(n)` + una ordenaci `O(n log n)` + `n` distncies amb `O(n)` = la complexitat total s `O(n log n)`.

A la taula es mostren 2 parelles de cadenes, la (3,6) i la (8,5) amb una distncia de Hamming de 1 i de 2 respectivament. Queden juntes ordenades perqu el simhash tamb s semblant.

  <center><img src="images/hash4.png" width="450" alt="una seqencia de bits es rota i se li aplica la distncia de Hamming, aquesta no s'altera per la rotaci"></center>

---
## SimHash i cerca per semblana.


Per hi ha una parella semblant que ha deixat apartada: la formada per les cadenes 4 (0000001110100110) i la 2(1100001110100110), que tenen distncia  2...

Lordenaci noms ha ajuntat els que tenien bits poc significatius semblants...

Per podem aprofitar una propietat de la distncia de Hamming: una permutaci dels bits dels nombres preserva la distncia!

  <center><img src="images/hash5.png" width="450" alt="la distncia de Hamming entre dues cadenes 100010,110010 s la mateixa que entre aquestes cadenes rotades, 001010, 001011"></center>

Si permutem mitjanant la rotaci dels bits tenim la mateixa distncia per els bits ms significatius passen a ser els menys significatius.

---
## SimHash i cerca per semblana.


Per hi ha una parella semblant que ha deixat apartada, la (4,2), que t distncia 2...

Rotem els bits a lesquerra dues vegades i desprs ordenem:


  <center><img src="images/hash6.png" width="550" alt="la parella (4,2), amb la rotaci de bits t un simhash ms semblant i queda ben ordenada"></center>

---
## SimHash i cerca per semblana.


Per tant, lalgorisme ha de desplaar els bits `B` vegades (on `B` s la longitud en bits) i fer:

+ Rotar els bits
+ Ordenar
+ Calcular la distncia de Hamming entre files adjacents.

Com que segurament `B << n` el cost de lalgorisme s ms semblant a `O(n log n)` que a `O(n^2)`.

---
class: center, middle, inverse


# **That's all folks!**


    </textarea>
    <script src="http://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML&delayStartupUntil=configured" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({ratio: '16:9'});

      // Setup MathJax
      MathJax.Hub.Config({
          tex2jax: {
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
          }
      });

      MathJax.Hub.Configured();
    </script>
  </body>
</html>